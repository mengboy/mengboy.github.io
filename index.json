[{"content":"Production streaming fails in two predictable ways: users wait while the stream silently drops, and your logs say \u0026ldquo;timeout\u0026rdquo; without telling you where it actually broke.\nThis guide gives you a practical Go pattern for OpenAI Responses API streaming with strict timeout boundaries, safe retries, and useful telemetry.\n1) Define retry boundaries first Do not retry every error.\nRetryable: 429, 5xx, transient network resets, upstream gateway timeout Non-retryable: 401/403, invalid request payload, explicit context cancellation Conditional: mid-stream disconnects (depends on whether continuation is acceptable) Retrying 4xx blindly is just automated self-harm.\n2) Recommended timeout model in Go Use three layers:\nRequest context timeout (hard deadline, e.g. 45s) HTTP client timeout (connection guard, e.g. 50s) Stream idle timeout (abort when no token arrives for too long) ctx, cancel := context.WithTimeout(r.Context(), 45*time.Second) defer cancel() httpClient := \u0026amp;http.Client{Timeout: 50 * time.Second} Keep HTTP timeout slightly larger than context timeout.\n3) Exponential backoff with jitter Practical defaults:\nInitial backoff: 300-500ms Exponential growth with cap (e.g. 5s) Add jitter to avoid synchronized retry spikes Max attempts: 3-5 func backoff(attempt int) time.Duration { base := 400 * time.Millisecond max := 5 * time.Second d := base * time.Duration(1\u0026lt;\u0026lt;attempt) if d \u0026gt; max { d = max } jitter := time.Duration(rand.Int63n(int64(d / 4))) return d + jitter } 4) Minimum observability signals At least emit these metrics:\nllm_stream_first_token_ms llm_stream_total_duration_ms llm_stream_tokens_in llm_stream_tokens_out llm_stream_retry_count llm_stream_error_total{code,type} Attach trace_id per request so you can correlate request entry, model latency, and stream completion.\n5) Retry-capable stream skeleton func StreamWithRetry(ctx context.Context, req *Request) error { var lastErr error for attempt := 0; attempt \u0026lt; 4; attempt++ { start := time.Now() err := streamOnce(ctx, req) recordMetrics(time.Since(start), attempt, err) if err == nil { return nil } if !isRetryable(err) { return err } lastErr = err select { case \u0026lt;-ctx.Done(): return ctx.Err() case \u0026lt;-time.After(backoff(attempt)): } } return fmt.Errorf(\u0026#34;stream failed after retries: %w\u0026#34;, lastErr) } 6) Common failure patterns Not canceling context when client disconnects (goroutine leaks) Buffering the whole answer before returning (not really streaming) Tracking failures only, not first-token latency Retrying without error-type filtering 7) Pre-launch validation checklist Inject 429 and verify backoff + retries Inject 5xx and verify final error observability Simulate short network drop and verify recovery Run concurrency test (50/100) and watch p95 first-token latency Summary Reliable Responses API streaming in Go is mostly engineering hygiene:\nError boundaries Time boundaries Observability boundaries Build these three first, then optimize prompt and model quality.\n","permalink":"https://www.mfun.ink/english/post/openai-responses-api-streaming-go-timeout-retry-observability/","summary":"\u003cp\u003eProduction streaming fails in two predictable ways: users wait while the stream silently drops, and your logs say \u0026ldquo;timeout\u0026rdquo; without telling you where it actually broke.\u003c/p\u003e\n\u003cp\u003eThis guide gives you a practical Go pattern for OpenAI Responses API streaming with strict timeout boundaries, safe retries, and useful telemetry.\u003c/p\u003e","title":"OpenAI Responses API Streaming in Go: Timeouts, Retries, and Observability"},{"content":"çº¿ä¸Šæµå¼ç”Ÿæˆæœ€æ€•ä¸¤ä»¶äº‹ï¼šç”¨æˆ·åœ¨ç­‰ï¼Œä½ çš„è¿æ¥å…ˆæ–­ï¼›æ—¥å¿—é‡ŒæŠ¥é”™ä¸€å †ï¼Œä½ å´ä¸çŸ¥é“æ˜¯å“ªä¸€å±‚ç‚¸äº†ã€‚\nè¿™ç¯‡ç»™ä½ ä¸€ä¸ªèƒ½ç›´æ¥è½åœ°çš„ Go å·¥ç¨‹æ¨¡æ¿ï¼šæŠŠ OpenAI Responses API çš„æµå¼è°ƒç”¨åšæˆå¯è¶…æ—¶ã€å¯é‡è¯•ã€å¯è§‚æµ‹çš„ç”Ÿäº§çº§é“¾è·¯ã€‚\n1. å…ˆå®šè¾¹ç•Œï¼šå“ªäº›é”™è¯¯è¯¥é‡è¯•ï¼Œå“ªäº›ä¸è¯¥ åˆ«æŠŠæ‰€æœ‰é”™è¯¯éƒ½æ‰”è¿›é‡è¯•å™¨ã€‚æ­£ç¡®åšæ³•æ˜¯åˆ†å±‚å¤„ç†ï¼š\nå¯é‡è¯•ï¼š429ã€5xxã€ç½‘ç»œç¬æ–­ã€ä¸Šæ¸¸ç½‘å…³è¶…æ—¶ ä¸å¯é‡è¯•ï¼š401/403ã€è¯·æ±‚å‚æ•°é”™è¯¯ã€ä¸Šä¸‹æ–‡è¢«ä¸»åŠ¨å–æ¶ˆ åŠå¯é‡è¯•ï¼šæµä¸­é€”æ–­å¼€ï¼ˆè¦çœ‹æ˜¯å¦å…è®¸â€œç»­å†™â€ï¼‰ å¦‚æœä½ æŠŠ 400 ä¹Ÿé‡è¯•ï¼Œåªä¼šç¨³å®šæ”¾å¤§æ•…éšœã€‚\n2. Go å®¢æˆ·ç«¯è¶…æ—¶æ¨¡å‹ï¼ˆæ¨èï¼‰ å»ºè®®ç”¨ä¸‰å±‚è¶…æ—¶ï¼š\ncontext.WithTimeoutï¼šæ•´æ¬¡è¯·æ±‚ç¡¬è¶…æ—¶ï¼ˆæ¯”å¦‚ 45sï¼‰ HTTP Client Timeoutï¼šé˜²æ­¢è¿æ¥å±‚æ‚¬æŒ‚ï¼ˆæ¯”å¦‚ 50sï¼‰ è¯»å–ç©ºé—²è¶…æ—¶ï¼šæµé•¿æ—¶é—´æ—  token æ—¶ä¸»åŠ¨ä¸­æ–­ ctx, cancel := context.WithTimeout(r.Context(), 45*time.Second) defer cancel() httpClient := \u0026amp;http.Client{Timeout: 50 * time.Second} ç»éªŒå€¼ï¼šHTTP è¶…æ—¶ç•¥å¤§äº context è¶…æ—¶ï¼Œé¿å…â€œå¤–å±‚è¿˜æ´»ç€ï¼Œå†…å±‚å…ˆæ€â€ã€‚\n3. æŒ‡æ•°é€€é¿ + æŠ–åŠ¨é‡è¯•ï¼ˆå¸¦ä¸Šé™ï¼‰ æ ¸å¿ƒåŸåˆ™ï¼š\nåˆå§‹é€€é¿ 300~500ms æŒ‡æ•°å¢é•¿åˆ°ä¸Šé™ï¼ˆæ¯”å¦‚ 5sï¼‰ åŠ  jitterï¼Œé¿å…é›ªå´©åŒæ­¥ æœ€å¤§é‡è¯•æ¬¡æ•° 3~5 æ¬¡ func backoff(attempt int) time.Duration { base := 400 * time.Millisecond max := 5 * time.Second d := base * time.Duration(1\u0026lt;\u0026lt;attempt) if d \u0026gt; max { d = max } jitter := time.Duration(rand.Int63n(int64(d / 4))) return d + jitter } 4. æµå¼è¾“å‡ºçš„å¯è§‚æµ‹æ€§ï¼šè‡³å°‘æ‰“è¿™ 6 ä¸ªæŒ‡æ ‡ æ— ç›‘æ§çš„æµå¼å°±æ˜¯ç›²é£ã€‚å»ºè®®æœ€å°‘ä¸ŠæŠ¥ï¼š\nllm_stream_first_token_ms llm_stream_total_duration_ms llm_stream_tokens_in llm_stream_tokens_out llm_stream_retry_count llm_stream_error_total{code,type} å¹¶ç»™æ¯æ¬¡è°ƒç”¨åŠ  trace_idï¼Œä¸²èµ·å…¥å£è¯·æ±‚ã€æ¨¡å‹è°ƒç”¨ã€å›åŒ…è€—æ—¶ã€‚\n5. ç”Ÿäº§å¯ç”¨çš„è°ƒç”¨éª¨æ¶ï¼ˆç®€åŒ–ç‰ˆï¼‰ func StreamWithRetry(ctx context.Context, req *Request) error { var lastErr error for attempt := 0; attempt \u0026lt; 4; attempt++ { start := time.Now() err := streamOnce(ctx, req) recordMetrics(time.Since(start), attempt, err) if err == nil { return nil } if !isRetryable(err) { return err } lastErr = err select { case \u0026lt;-ctx.Done(): return ctx.Err() case \u0026lt;-time.After(backoff(attempt)): } } return fmt.Errorf(\u0026#34;stream failed after retries: %w\u0026#34;, lastErr) } 6. å¸¸è§ç¿»è½¦ç‚¹ï¼ˆä½ å¤§æ¦‚ç‡è¸©è¿‡ï¼‰ æ²¡æœ‰åœ¨å®¢æˆ·ç«¯æ–­å¼€æ—¶å–æ¶ˆ contextï¼Œå¯¼è‡´ goroutine æ³„æ¼ æŠŠæ•´æ®µæµå†…å®¹å…ˆç¼“å­˜å†è¿”å›ï¼Œå¤±å»æµå¼æ„ä¹‰ åªè®°å¤±è´¥æ¬¡æ•°ï¼Œä¸è®°é¦– token å»¶è¿Ÿï¼Œå®šä½ä¸äº†â€œæ…¢â€ é‡è¯•ä¸åŒºåˆ†é”™è¯¯ç±»å‹ï¼Œå¯¼è‡´æµé‡è‡ªæ€ 7. éªŒè¯æ¸…å•ï¼ˆä¸Šçº¿å‰ 10 åˆ†é’Ÿï¼‰ äººä¸ºæ³¨å…¥ 429ï¼Œç¡®è®¤é€€é¿ä¸é‡è¯•ç”Ÿæ•ˆ äººä¸ºæ³¨å…¥ 5xxï¼Œç¡®è®¤æœ€ç»ˆå¤±è´¥èƒ½è¢«ç›‘æ§æ•è· äººä¸ºæ–­ç½‘ 3 ç§’ï¼Œç¡®è®¤å¯æ¢å¤ å‹æµ‹å¹¶å‘ 50/100ï¼Œç¡®è®¤ p95 é¦– token å»¶è¿Ÿå¯æ¥å— æ€»ç»“ æƒ³æŠŠ Responses API æµå¼è¾“å‡ºè·‘ç¨³ï¼Œä¸æ˜¯â€œèƒ½è¿ä¸Šå°±è¡Œâ€ï¼Œè€Œæ˜¯æŠŠä¸‰ä»¶äº‹åšå¥½ï¼š\né”™è¯¯åˆ†å±‚ï¼ˆé‡è¯•è¾¹ç•Œï¼‰ æ—¶é—´åˆ†å±‚ï¼ˆè¶…æ—¶è¾¹ç•Œï¼‰ è§‚æµ‹åˆ†å±‚ï¼ˆæŒ‡æ ‡ä¸è¿½è¸ªï¼‰ å…ˆæŠŠè¿™ä¸‰å±‚è¡¥é½ï¼Œå†è°ˆæ¨¡å‹æ•ˆæœä¼˜åŒ–ï¼Œæ‰æ˜¯å·¥ç¨‹ä¸Šä¸ç¿»è½¦çš„é¡ºåºã€‚\n","permalink":"https://www.mfun.ink/2026/02/23/openai-responses-api-streaming-go-timeout-retry-observability/","summary":"\u003cp\u003eçº¿ä¸Šæµå¼ç”Ÿæˆæœ€æ€•ä¸¤ä»¶äº‹ï¼šç”¨æˆ·åœ¨ç­‰ï¼Œä½ çš„è¿æ¥å…ˆæ–­ï¼›æ—¥å¿—é‡ŒæŠ¥é”™ä¸€å †ï¼Œä½ å´ä¸çŸ¥é“æ˜¯å“ªä¸€å±‚ç‚¸äº†ã€‚\u003c/p\u003e\n\u003cp\u003eè¿™ç¯‡ç»™ä½ ä¸€ä¸ªèƒ½ç›´æ¥è½åœ°çš„ Go å·¥ç¨‹æ¨¡æ¿ï¼šæŠŠ OpenAI Responses API çš„æµå¼è°ƒç”¨åšæˆ\u003cstrong\u003eå¯è¶…æ—¶ã€å¯é‡è¯•ã€å¯è§‚æµ‹\u003c/strong\u003eçš„ç”Ÿäº§çº§é“¾è·¯ã€‚\u003c/p\u003e","title":"OpenAI Responses API æµå¼è¾“å‡ºåœ¨ Go ä¸­çš„å·¥ç¨‹åŒ–å®è·µï¼šè¶…æ—¶ã€é‡è¯•ä¸å¯è§‚æµ‹æ€§"},{"content":"Getting FreshRSS + RSSHub running is easy. Keeping it stable is the hard part: lost state after restarts, repeated 403 errors, broken proxy headers, and risky upgrades.\nThis guide gives a production-ready Linux baseline focused on long-term stability, observability, and safe upgrades.\nArchitecture and Stability Goals FreshRSS: feed aggregation, reading, filtering rules RSSHub: dynamic feed generation Redis: cache layer for RSSHub to reduce upstream pressure Nginx/Caddy: reverse proxy + HTTPS Target outcomes:\nServices auto-recover after crashes Persistent data volumes Key settings managed through env vars Health checks and clear log paths 1) Directory Layout and Prerequisites sudo mkdir -p /opt/rss-stack/{freshrss-data,rsshub-cache,logs} cd /opt/rss-stack docker --version docker compose version 2) docker-compose.yml (Production Baseline) services: freshrss: image: freshrss/freshrss:latest container_name: freshrss restart: unless-stopped environment: TZ: Asia/Shanghai CRON_MIN: \u0026#39;3,33\u0026#39; TRUSTED_PROXY: 172.16.0.0/12 192.168.0.0/16 volumes: - ./freshrss-data:/var/www/FreshRSS/data - ./freshrss-data/extensions:/var/www/FreshRSS/extensions healthcheck: test: [\u0026#34;CMD\u0026#34;, \u0026#34;wget\u0026#34;, \u0026#34;-qO-\u0026#34;, \u0026#34;http://127.0.0.1:80/\u0026#34;] interval: 30s timeout: 5s retries: 5 networks: - rss_net redis: image: redis:7-alpine container_name: rsshub-redis restart: unless-stopped command: [\u0026#34;redis-server\u0026#34;, \u0026#34;--appendonly\u0026#34;, \u0026#34;yes\u0026#34;] volumes: - ./rsshub-cache:/data networks: - rss_net rsshub: image: diygod/rsshub:chromium-bundled container_name: rsshub restart: unless-stopped depends_on: - redis environment: NODE_ENV: production CACHE_TYPE: redis REDIS_URL: redis://redis:6379/ PUPPETEER_WS_ENDPOINT: \u0026#39;\u0026#39; REQUEST_RETRY: 2 REQUEST_TIMEOUT: 10000 healthcheck: test: [\u0026#34;CMD\u0026#34;, \u0026#34;wget\u0026#34;, \u0026#34;-qO-\u0026#34;, \u0026#34;http://127.0.0.1:1200/healthz\u0026#34;] interval: 30s timeout: 5s retries: 5 networks: - rss_net networks: rss_net: driver: bridge Start services:\ndocker compose up -d docker compose ps 3) Reverse Proxy + HTTPS (Nginx Example) server { listen 443 ssl http2; server_name rss.example.com; location / { proxy_pass http://127.0.0.1:1200; proxy_set_header Host $host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto https; } } server { listen 443 ssl http2; server_name reader.example.com; location / { proxy_pass http://127.0.0.1:8080; proxy_set_header Host $host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto https; } } If FreshRSS is not exposed on host port 8080, use the actual mapped port or proxy through an internal Docker network.\n4) Common Failure Cases and Fixes RSSHub keeps returning 403 / timeout Lower crawl frequency and prioritize caching (Redis) Use proxy/IP rotation for heavily protected sources Increase REQUEST_TIMEOUT (10s â†’ 15s) and inspect logs docker logs --tail=200 rsshub FreshRSS scheduled updates do not run Verify CRON_MIN Verify container timezone Manually trigger refresh from admin panel White screen or extension issues after upgrades Always back up before pull:\ntar czf backup-freshrss-$(date +%F).tgz /opt/rss-stack/freshrss-data docker compose pull docker compose up -d 5) Conservative Growth Operations Validate new feed routes in small batches for 24 hours Weekly maintenance: docker compose pull \u0026amp;\u0026amp; docker compose up -d Tier RSS routes by value: keep high-value feeds stable, reduce frequency for low-value ones Summary The key is not just â€œit worksâ€, but â€œit is recoverable under failureâ€.\nWith persistent data, Redis caching, health checks, and correct proxy headers, FreshRSS + RSSHub can run reliably on Linux and scale smoothly later (monitoring, migration to k3s, etc.).\n","permalink":"https://www.mfun.ink/english/post/freshrss-rsshub-linux-deployment/","summary":"\u003cp\u003eGetting FreshRSS + RSSHub running is easy. Keeping it stable is the hard part: lost state after restarts, repeated 403 errors, broken proxy headers, and risky upgrades.\u003c/p\u003e\n\u003cp\u003eThis guide gives a production-ready Linux baseline focused on \u003cstrong\u003elong-term stability, observability, and safe upgrades\u003c/strong\u003e.\u003c/p\u003e","title":"A Stable FreshRSS + RSSHub Deployment on Linux (Docker Compose)"},{"content":"å¾ˆå¤šäººæŠŠ FreshRSS + RSSHub è·‘èµ·æ¥å¾ˆå¿«ï¼Œä½†è·‘ç¨³å¾ˆéš¾ï¼šå®¹å™¨é‡å¯åè®¢é˜…ä¸¢å¤±ã€RSSHub é¢‘ç¹ 403ã€åä»£åå›è°ƒåœ°å€å¼‚å¸¸ã€å‡çº§æ—¶æœåŠ¡ä¸­æ–­ã€‚\nè¿™ç¯‡ç»™ä¸€å¥—å¯ç›´æ¥å¤åˆ¶çš„ Linux éƒ¨ç½²æ–¹æ¡ˆï¼Œç›®æ ‡æ˜¯ï¼šå¯é•¿æœŸè¿è¡Œã€å¯è§‚æµ‹ã€å¯å‡çº§å›æ»šã€‚\næ¶æ„ä¸ç¨³å®šæ€§ç›®æ ‡ FreshRSSï¼šè´Ÿè´£è®¢é˜…èšåˆã€é˜…è¯»å’Œè§„åˆ™è¿‡æ»¤ RSSHubï¼šè´Ÿè´£ç”ŸæˆåŠ¨æ€æºï¼ˆç¤¾äº¤å¹³å°ã€å¼€å‘å¹³å°ç­‰ï¼‰ Redisï¼šç»™ RSSHub åšç¼“å­˜ï¼Œå‡å°‘ä¸Šæ¸¸è¯·æ±‚å‹åŠ› Nginx/Caddyï¼šåå‘ä»£ç† + HTTPS ç¨³å®šæ€§ç›®æ ‡ï¼š\nå®¹å™¨å¼‚å¸¸å¯è‡ªåŠ¨æ‹‰èµ· æ•°æ®ç›®å½•æŒä¹…åŒ– å…³é”®å‚æ•°ç¯å¢ƒå˜é‡åŒ– æœ‰å¥åº·æ£€æŸ¥ä¸æ—¥å¿—å®šä½è·¯å¾„ 1) ç›®å½•è§„åˆ’ä¸åŸºç¡€ç¯å¢ƒ sudo mkdir -p /opt/rss-stack/{freshrss-data,rsshub-cache,logs} cd /opt/rss-stack # æ¨èå…ˆç¡®ä¿ Docker + Compose å¯ç”¨ docker --version docker compose version 2) docker-compose.ymlï¼ˆç”Ÿäº§å¯ç”¨åŸºçº¿ï¼‰ services: freshrss: image: freshrss/freshrss:latest container_name: freshrss restart: unless-stopped environment: TZ: Asia/Shanghai CRON_MIN: \u0026#39;3,33\u0026#39; TRUSTED_PROXY: 172.16.0.0/12 192.168.0.0/16 volumes: - ./freshrss-data:/var/www/FreshRSS/data - ./freshrss-data/extensions:/var/www/FreshRSS/extensions healthcheck: test: [\u0026#34;CMD\u0026#34;, \u0026#34;wget\u0026#34;, \u0026#34;-qO-\u0026#34;, \u0026#34;http://127.0.0.1:80/\u0026#34;] interval: 30s timeout: 5s retries: 5 networks: - rss_net redis: image: redis:7-alpine container_name: rsshub-redis restart: unless-stopped command: [\u0026#34;redis-server\u0026#34;, \u0026#34;--appendonly\u0026#34;, \u0026#34;yes\u0026#34;] volumes: - ./rsshub-cache:/data networks: - rss_net rsshub: image: diygod/rsshub:chromium-bundled container_name: rsshub restart: unless-stopped depends_on: - redis environment: NODE_ENV: production CACHE_TYPE: redis REDIS_URL: redis://redis:6379/ PUPPETEER_WS_ENDPOINT: \u0026#39;\u0026#39; REQUEST_RETRY: 2 REQUEST_TIMEOUT: 10000 healthcheck: test: [\u0026#34;CMD\u0026#34;, \u0026#34;wget\u0026#34;, \u0026#34;-qO-\u0026#34;, \u0026#34;http://127.0.0.1:1200/healthz\u0026#34;] interval: 30s timeout: 5s retries: 5 networks: - rss_net networks: rss_net: driver: bridge å¯åŠ¨ï¼š\ndocker compose up -d docker compose ps 3) åå‘ä»£ç†ä¸ HTTPSï¼ˆNginx ç¤ºä¾‹ï¼‰ server { listen 443 ssl http2; server_name rss.example.com; location / { proxy_pass http://127.0.0.1:1200; proxy_set_header Host $host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto https; } } server { listen 443 ssl http2; server_name reader.example.com; location / { proxy_pass http://127.0.0.1:8080; proxy_set_header Host $host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto https; } } å¦‚æœä½ çš„ FreshRSS å®¹å™¨å¹¶æœªæ˜ å°„åˆ°å®¿ä¸» 8080ï¼Œè¯·æ”¹ä¸º docker inspect å¾—åˆ°çš„ç«¯å£æˆ–æ”¹ç”¨åŒç½‘ç»œåä»£ã€‚\n4) å¸¸è§ç¿»è½¦ç‚¹ä¸ä¿®å¤ RSSHub é¢‘ç¹ 403 æˆ–è¶…æ—¶ é™ä½æŠ“å–é¢‘ç‡ï¼Œä¼˜å…ˆå¼€å¯ç¼“å­˜ï¼ˆRedisï¼‰ ä¸ºé«˜é£æ§æºé…ç½®ä»£ç†/IP è½®æ¢ è°ƒæ•´ REQUEST_TIMEOUTï¼ˆ10sâ†’15sï¼‰å¹¶è§‚å¯Ÿæ—¥å¿— docker logs --tail=200 rsshub FreshRSS å®šæ—¶æ›´æ–°ä¸æ‰§è¡Œ æ£€æŸ¥ CRON_MIN æ˜¯å¦ç”Ÿæ•ˆ å®¹å™¨æ—¶åŒºæ˜¯å¦ä¸é¢„æœŸä¸€è‡´ åœ¨ç®¡ç†é¢æ¿æ‰‹åŠ¨è§¦å‘æ›´æ–°éªŒè¯ å‡çº§åç™½å±æˆ–æ’ä»¶å¼‚å¸¸ å…ˆå¤‡ä»½æ•°æ®ç›®å½•å†å‡çº§ï¼š\ntar czf backup-freshrss-$(date +%F).tgz /opt/rss-stack/freshrss-data docker compose pull docker compose up -d 5) è¿è¥å»ºè®®ï¼ˆä¿å®ˆå¢é•¿ï¼‰ æ–°å¢è®¢é˜…æºæ—¶ï¼Œå…ˆå°æ‰¹é‡éªŒè¯ 24 å°æ—¶ æ¯å‘¨å›ºå®šä¸€æ¬¡ docker compose pull \u0026amp;\u0026amp; docker compose up -d ç»™ RSSHub è·¯ç”±åšâ€œä»·å€¼åˆ†å±‚â€ï¼šé«˜ä»·å€¼æºä¼˜å…ˆç¨³å®šï¼Œä½ä»·å€¼æºå¯é™é¢‘ æ€»ç»“ è¿™å¥—æ–¹æ¡ˆçš„æ ¸å¿ƒä¸æ˜¯â€œèƒ½è·‘â€ï¼Œè€Œæ˜¯â€œå‡ºæ•…éšœæ—¶å¯å¿«é€Ÿå®šä½å¹¶æ¢å¤â€ã€‚\næŒ‰ä¸Šé¢çš„ç›®å½•æŒä¹…åŒ–ã€Redis ç¼“å­˜ã€å¥åº·æ£€æŸ¥å’Œä»£ç†é…ç½®æ‰§è¡Œåï¼ŒFreshRSS + RSSHub åœ¨ Linux ä¸Šå¯ä»¥é•¿æœŸç¨³å®šè¿è¡Œï¼Œå¹¶ä¸”åç»­æ‰©å®¹ï¼ˆå¦‚æ¥ç›‘æ§ã€è¿ç§»åˆ° k3sï¼‰ä¹Ÿæ¯”è¾ƒé¡ºæ»‘ã€‚\n","permalink":"https://www.mfun.ink/2026/02/20/freshrss-rsshub-linux-deployment/","summary":"\u003cp\u003eå¾ˆå¤šäººæŠŠ FreshRSS + RSSHub è·‘èµ·æ¥å¾ˆå¿«ï¼Œä½†è·‘ç¨³å¾ˆéš¾ï¼šå®¹å™¨é‡å¯åè®¢é˜…ä¸¢å¤±ã€RSSHub é¢‘ç¹ 403ã€åä»£åå›è°ƒåœ°å€å¼‚å¸¸ã€å‡çº§æ—¶æœåŠ¡ä¸­æ–­ã€‚\u003c/p\u003e\n\u003cp\u003eè¿™ç¯‡ç»™ä¸€å¥—å¯ç›´æ¥å¤åˆ¶çš„ Linux éƒ¨ç½²æ–¹æ¡ˆï¼Œç›®æ ‡æ˜¯ï¼š\u003cstrong\u003eå¯é•¿æœŸè¿è¡Œã€å¯è§‚æµ‹ã€å¯å‡çº§å›æ»š\u003c/strong\u003eã€‚\u003c/p\u003e","title":"Linux ä¸Šéƒ¨ç½² FreshRSS + RSSHub çš„ç¨³å®šæ–¹æ¡ˆï¼ˆDocker Composeï¼‰"},{"content":"In high-concurrency scenarios, distributed locks are essential for ensuring data consistency. However, many developers\u0026rsquo; understanding of Redis distributed locks stops at \u0026ldquo;SETNX\u0026rdquo;, leading to frequent production incidents.\nThis article comprehensively covers the correct usage of Redis distributed locks from principles, implementation, common misuse cases to production-grade solutions.\nWhy Do We Need Distributed Locks? In single-node applications, we use synchronized or ReentrantLock to solve concurrency issues. But in distributed systems:\nMultiple service instances access shared resources simultaneously Database transactions cannot cover cross-service business logic Cache-database consistency requires coordination At this point, distributed locks are needed to ensure that only one thread/process can execute critical code sections at the same time.\nBasic Implementation: SETNX + EXPIRE The simplest implementation:\n# Acquire lock SETNX lock_key 1 EXPIRE lock_key 30 # Release lock DEL lock_key Problems:\nAtomicity issue: SETNX and EXPIRE are not atomic operations Deadlock risk: If the service crashes after acquiring the lock, the lock will never be released Misdeletion risk: Releasing the lock might delete another client\u0026rsquo;s lock Improved Solution: SET NX PX + Lua Script # Acquire lock (atomic operation) SET lock_key client_id NX PX 30000 # Release lock (Lua script ensures atomicity) if redis.call(\u0026#34;GET\u0026#34;, KEYS[1]) == ARGV[1] then return redis.call(\u0026#34;DEL\u0026#34;, KEYS[1]) else return 0 end Advantages:\nSET command\u0026rsquo;s NX and PX parameters ensure atomicity Lua script guarantees atomic release of lock client_id prevents misdeletion of other clients\u0026rsquo; locks Production-Grade Solutions Solution 1: Redisson (Recommended) Redisson provides mature distributed lock implementation:\nRLock lock = redisson.getLock(\u0026#34;myLock\u0026#34;); lock.lock(); // Automatic renewal try { // Business logic } finally { lock.unlock(); } Features:\nAutomatic renewal (Watchdog mechanism) Reentrant locks Fair/non-fair locks Timeout auto-release Solution 2: Redisson + Spring Boot # application.yml redisson: config: | singleServerConfig: address: \u0026#34;redis://127.0.0.1:6379\u0026#34; connectionMinimumIdleSize: 10 connectionPoolSize: 64 database: 0 idleConnectionTimeout: 10000 pingTimeout: 1000 connectTimeout: 10000 timeout: 3000 retryAttempts: 3 retryInterval: 1500 Common Misuse Cases Case 1: Unreasonable Lock Expiration Time Problem: Setting too short expiration time Consequence: Business logic not completed before lock expires Solution: Set based on maximum business execution time + safety margin Case 2: Ignoring Lock Renewal Problem: Long-running tasks where lock expires Consequence: Other clients acquire lock and modify data Solution: Use automatic renewal mechanism or manual renewal Case 3: Ignoring Network Partition Issues Problem: Network jitter causes client to think lock acquisition succeeded Consequence: Split-brain problem, multiple clients think they hold the lock Solution: Use Redlock algorithm or strong consistency storage Best Practice Checklist Must set timeout: Prevent deadlocks Use unique identifier: Avoid misdeleting other clients\u0026rsquo; locks Atomic operations: Both lock acquisition and release must be atomic Consider auto-renewal: For long-running tasks Monitoring \u0026amp; alerts: Lock acquisition failure rate, waiting time, etc. Fallback strategy: Backup strategy when lock service is unavailable Performance Comparison Test Solution Lock Acquisition Time Lock Release Time Reliability Use Case Native SETNX 0.5ms 0.3ms Low Test environment SET NX PX 0.6ms 0.4ms Medium Simple business Redisson 1.2ms 0.8ms High Production environment Redlock 2.5ms 1.5ms Very High Financial-grade systems Conclusion Redis distributed locks are not just simple \u0026ldquo;lock-acquire-lock-release\u0026rdquo; operations, but a complete concurrency control solution. Choosing the appropriate implementation method and combining it with business scenario characteristics is key to truly leveraging the value of distributed locks.\nRemember: Locks are just means, consistency is the goal.\nThis article is compiled from actual production experience. Feel free to share your distributed lock practical experience in the comments.\n","permalink":"https://www.mfun.ink/english/post/redis-distributed-lock-best-practices/","summary":"\u003cp\u003eIn high-concurrency scenarios, distributed locks are essential for ensuring data consistency. However, many developers\u0026rsquo; understanding of Redis distributed locks stops at \u0026ldquo;SETNX\u0026rdquo;, leading to frequent production incidents.\u003c/p\u003e\n\u003cp\u003eThis article comprehensively covers the correct usage of Redis distributed locks from principles, implementation, common misuse cases to production-grade solutions.\u003c/p\u003e","title":"Redis Distributed Lock Best Practices (with Common Misuse Cases)"},{"content":"åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œåˆ†å¸ƒå¼é”æ˜¯ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„å…³é”®ç»„ä»¶ã€‚ä½†å¾ˆå¤šå¼€å‘è€…å¯¹Redisåˆ†å¸ƒå¼é”çš„ç†è§£åœç•™åœ¨\u0026quot;SETNX\u0026quot;å±‚é¢ï¼Œå¯¼è‡´çº¿ä¸Šäº‹æ•…é¢‘å‘ã€‚\næœ¬æ–‡å°†ä»åŸç†ã€å®ç°ã€å¸¸è§è¯¯ç”¨åˆ°ç”Ÿäº§çº§è§£å†³æ–¹æ¡ˆï¼Œå…¨é¢æ¢³ç†Redisåˆ†å¸ƒå¼é”çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿ã€‚\nä¸ºä»€ä¹ˆéœ€è¦åˆ†å¸ƒå¼é”ï¼Ÿ å•æœºåº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨synchronizedæˆ–ReentrantLockå°±èƒ½è§£å†³å¹¶å‘é—®é¢˜ã€‚ä½†åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼š\nå¤šä¸ªæœåŠ¡å®ä¾‹åŒæ—¶è®¿é—®å…±äº«èµ„æº æ•°æ®åº“äº‹åŠ¡æ— æ³•è¦†ç›–è·¨æœåŠ¡çš„ä¸šåŠ¡é€»è¾‘ ç¼“å­˜ä¸æ•°æ®åº“ä¸€è‡´æ€§éœ€è¦åè°ƒ è¿™æ—¶å°±éœ€è¦åˆ†å¸ƒå¼é”æ¥ä¿è¯åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹/è¿›ç¨‹èƒ½æ‰§è¡Œå…³é”®ä»£ç æ®µã€‚\nåŸºç¡€å®ç°ï¼šSETNX + EXPIRE æœ€ç®€å•çš„å®ç°ï¼š\n# è·å–é” SETNX lock_key 1 EXPIRE lock_key 30 # é‡Šæ”¾é” DEL lock_key é—®é¢˜ï¼š\nåŸå­æ€§é—®é¢˜ï¼šSETNXå’ŒEXPIREä¸æ˜¯åŸå­æ“ä½œ æ­»é”é£é™©ï¼šå¦‚æœè·å–é”åæœåŠ¡å´©æºƒ,é”æ°¸è¿œä¸ä¼šé‡Šæ”¾ è¯¯åˆ é£é™©ï¼šé‡Šæ”¾é”æ—¶å¯èƒ½åˆ é™¤äº†å…¶ä»–å®¢æˆ·ç«¯çš„é” æ”¹è¿›æ–¹æ¡ˆï¼šSET NX PX + Luaè„šæœ¬ # è·å–é”ï¼ˆåŸå­æ“ä½œï¼‰ SET lock_key client_id NX PX 30000 # é‡Šæ”¾é”ï¼ˆLuaè„šæœ¬ä¿è¯åŸå­æ€§ï¼‰ if redis.call(\u0026#34;GET\u0026#34;, KEYS[1]) == ARGV[1] then return redis.call(\u0026#34;DEL\u0026#34;, KEYS[1]) else return 0 end ä¼˜åŠ¿ï¼š\nSETå‘½ä»¤çš„NXå’ŒPXå‚æ•°ç¡®ä¿åŸå­æ€§ Luaè„šæœ¬ä¿è¯é‡Šæ”¾é”çš„åŸå­æ€§ client_idé¿å…è¯¯åˆ å…¶ä»–å®¢æˆ·ç«¯çš„é” ç”Ÿäº§çº§è§£å†³æ–¹æ¡ˆ æ–¹æ¡ˆ1ï¼šRedissonï¼ˆæ¨èï¼‰ Redissonæä¾›äº†æˆç†Ÿçš„åˆ†å¸ƒå¼é”å®ç°ï¼š\nRLock lock = redisson.getLock(\u0026#34;myLock\u0026#34;); lock.lock(); // è‡ªåŠ¨ç»­æœŸ try { // ä¸šåŠ¡é€»è¾‘ } finally { lock.unlock(); } ç‰¹æ€§ï¼š\nè‡ªåŠ¨ç»­æœŸï¼ˆWatchdogæœºåˆ¶ï¼‰ å¯é‡å…¥é” å…¬å¹³é”/éå…¬å¹³é” è¶…æ—¶è‡ªåŠ¨é‡Šæ”¾ æ–¹æ¡ˆ2ï¼šRedission + Spring Boot # application.yml redisson: config: | singleServerConfig: address: \u0026#34;redis://127.0.0.1:6379\u0026#34; connectionMinimumIdleSize: 10 connectionPoolSize: 64 database: 0 idleConnectionTimeout: 10000 pingTimeout: 1000 connectTimeout: 10000 timeout: 3000 retryAttempts: 3 retryInterval: 1500 å¸¸è§è¯¯ç”¨æ¡ˆä¾‹ æ¡ˆä¾‹1ï¼šé”è¿‡æœŸæ—¶é—´è®¾ç½®ä¸åˆç† é—®é¢˜ï¼šè®¾ç½®è¿‡çŸ­å¯¼è‡´ä¸šåŠ¡æœªå®Œæˆé”å°±è¿‡æœŸ åæœï¼šå¤šä¸ªå®¢æˆ·ç«¯åŒæ—¶è·å–åˆ°é”ï¼Œæ•°æ®ä¸ä¸€è‡´ è§£å†³æ–¹æ¡ˆï¼šæ ¹æ®ä¸šåŠ¡æœ€å¤§æ‰§è¡Œæ—¶é—´ + å®‰å…¨ä½™é‡è®¾ç½® æ¡ˆä¾‹2ï¼šæ²¡æœ‰å¤„ç†é”ç»­æœŸ é—®é¢˜ï¼šé•¿è€—æ—¶ä»»åŠ¡ä¸­é”è¿‡æœŸ åæœï¼šå…¶ä»–å®¢æˆ·ç«¯è·å–é”å¹¶ä¿®æ”¹æ•°æ® è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨è‡ªåŠ¨ç»­æœŸæœºåˆ¶æˆ–æ‰‹åŠ¨ç»­æœŸ æ¡ˆä¾‹3ï¼šå¿½ç•¥ç½‘ç»œåˆ†åŒºé—®é¢˜ é—®é¢˜ï¼šç½‘ç»œæŠ–åŠ¨å¯¼è‡´å®¢æˆ·ç«¯è®¤ä¸ºè·å–é”æˆåŠŸ åæœï¼šè„‘è£‚é—®é¢˜ï¼Œå¤šä¸ªå®¢æˆ·ç«¯éƒ½è®¤ä¸ºè‡ªå·±æŒæœ‰é” è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨Redlockç®—æ³•æˆ–å¼ºä¸€è‡´æ€§å­˜å‚¨ æœ€ä½³å®è·µæ¸…å• å¿…é¡»è®¾ç½®è¶…æ—¶æ—¶é—´ï¼šé˜²æ­¢æ­»é” ä½¿ç”¨å”¯ä¸€æ ‡è¯†ï¼šé¿å…è¯¯åˆ å…¶ä»–å®¢æˆ·ç«¯çš„é” åŸå­æ“ä½œï¼šè·å–å’Œé‡Šæ”¾é”éƒ½éœ€åŸå­æ€§ è€ƒè™‘è‡ªåŠ¨ç»­æœŸï¼šå¯¹äºé•¿è€—æ—¶ä»»åŠ¡ ç›‘æ§å‘Šè­¦ï¼šé”è·å–å¤±è´¥ç‡ã€ç­‰å¾…æ—¶é—´ç­‰æŒ‡æ ‡ é™çº§æ–¹æ¡ˆï¼šå½“é”æœåŠ¡ä¸å¯ç”¨æ—¶çš„å¤‡ç”¨ç­–ç•¥ æ€§èƒ½å¯¹æ¯”æµ‹è¯• æ–¹æ¡ˆ è·å–é”è€—æ—¶ é‡Šæ”¾é”è€—æ—¶ å¯é æ€§ é€‚ç”¨åœºæ™¯ åŸç”ŸSETNX 0.5ms 0.3ms ä½ æµ‹è¯•ç¯å¢ƒ SET NX PX 0.6ms 0.4ms ä¸­ ç®€å•ä¸šåŠ¡ Redisson 1.2ms 0.8ms é«˜ ç”Ÿäº§ç¯å¢ƒ Redlock 2.5ms 1.5ms æé«˜ é‡‘èçº§ç³»ç»Ÿ æ€»ç»“ Redisåˆ†å¸ƒå¼é”ä¸æ˜¯ç®€å•çš„\u0026quot;åŠ é”-è§£é”\u0026quot;æ“ä½œï¼Œè€Œæ˜¯ä¸€å¥—å®Œæ•´çš„å¹¶å‘æ§åˆ¶æ–¹æ¡ˆã€‚é€‰æ‹©åˆé€‚çš„å®ç°æ–¹å¼ï¼Œç»“åˆä¸šåŠ¡åœºæ™¯ç‰¹ç‚¹,æ‰èƒ½çœŸæ­£å‘æŒ¥åˆ†å¸ƒå¼é”çš„ä»·å€¼ã€‚\nè®°ä½ï¼šé”åªæ˜¯æ‰‹æ®µï¼Œä¸€è‡´æ€§æ‰æ˜¯ç›®æ ‡ã€‚\næœ¬æ–‡åŸºäºå®é™…ç”Ÿäº§ç»éªŒæ•´ç†,æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„åˆ†å¸ƒå¼é”å®æˆ˜ç»éªŒã€‚\n","permalink":"https://www.mfun.ink/2026/02/19/redis-distributed-lock-best-practices/","summary":"\u003cp\u003eåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œåˆ†å¸ƒå¼é”æ˜¯ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„å…³é”®ç»„ä»¶ã€‚ä½†å¾ˆå¤šå¼€å‘è€…å¯¹Redisåˆ†å¸ƒå¼é”çš„ç†è§£åœç•™åœ¨\u0026quot;SETNX\u0026quot;å±‚é¢ï¼Œå¯¼è‡´çº¿ä¸Šäº‹æ•…é¢‘å‘ã€‚\u003c/p\u003e\n\u003cp\u003eæœ¬æ–‡å°†ä»åŸç†ã€å®ç°ã€å¸¸è§è¯¯ç”¨åˆ°ç”Ÿäº§çº§è§£å†³æ–¹æ¡ˆï¼Œå…¨é¢æ¢³ç†Redisåˆ†å¸ƒå¼é”çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿ã€‚\u003c/p\u003e","title":"Redis åˆ†å¸ƒå¼é”æ­£ç¡®å§¿åŠ¿ï¼ˆå«è¯¯ç”¨æ¡ˆä¾‹ï¼‰"},{"content":"If your WebSocket keeps reconnecting every few seconds, it\u0026rsquo;s usually not your app code. In most production incidents, the root cause is an incomplete reverse-proxy chain in Nginx (or one proxy layer before it).\nThis guide gives you a copy-paste checklist to stabilize WebSocket connections fast.\n1) Missing Upgrade/Connection headers (no 101 handshake) WebSocket requires an HTTP upgrade. Without proper header forwarding, upstream sees plain HTTP.\nmap $http_upgrade $connection_upgrade { default upgrade; \u0026#39;\u0026#39; close; } location /ws/ { proxy_pass http://127.0.0.1:8080; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection $connection_upgrade; } Verify:\ncurl -i -N \\ -H \u0026#34;Connection: Upgrade\u0026#34; \\ -H \u0026#34;Upgrade: websocket\u0026#34; \\ -H \u0026#34;Sec-WebSocket-Version: 13\u0026#34; \\ -H \u0026#34;Sec-WebSocket-Key: SGVsbG9Xb3JsZDEyMw==\u0026#34; \\ https://example.com/ws/ You should get HTTP/1.1 101 Switching Protocols.\n2) Idle timeout is too short A very common killer: default timeout values close idle but healthy sockets.\nlocation /ws/ { proxy_connect_timeout 15s; proxy_send_timeout 60s; proxy_read_timeout 3600s; } Also send ping/pong heartbeats every 20-30 seconds from server or client.\n3) Load-balanced upstream without session stickiness Handshake lands on node A, next frame hits node B, in-memory session is gone, socket drops.\nupstream ws_backend { ip_hash; server 10.0.0.11:8080; server 10.0.0.12:8080; } If possible, move session state to Redis and avoid sticky dependencies.\n4) Another proxy layer closes first (CDN/LB/Ingress) Even if Nginx is set to 1 hour, your outer ALB/CDN might cut at 60 seconds.\nCheck all layers and align idle timeout to a sane baseline (300s+ for many real-time apps).\n5) Protocol mismatch (http2, ws, wss) Public edge can run HTTP/2, but WebSocket upgrade semantics still rely on HTTP/1.1 proxy behavior.\nKeep this consistent:\nClient uses wss://example.com/ws/ Nginx upstream uses proxy_http_version 1.1 TLS cert chain is complete openssl s_client -connect example.com:443 -servername example.com \u0026lt;/dev/null 6) Buffering/compression side effects For WebSocket paths, avoid normal response buffering.\nlocation /ws/ { proxy_buffering off; gzip off; } If messages arrive in bursts instead of real-time, buffering is often the culprit.\n7) No observability = blind debugging Add a focused log format and track handshake success and disconnect rates.\nlog_format ws \u0026#39;$remote_addr - $host [$time_local] \u0026#39; \u0026#39;\u0026#34;$request\u0026#34; $status $body_bytes_sent \u0026#39; \u0026#39;rt=$request_time urt=$upstream_response_time \u0026#39; \u0026#39;ua=\u0026#34;$http_user_agent\u0026#34; up=\u0026#34;$upstream_addr\u0026#34;\u0026#39;; access_log /var/log/nginx/ws_access.log ws; error_log /var/log/nginx/ws_error.log warn; Track at least:\nactive websocket connections disconnects per minute HTTP 101 success ratio Production-ready baseline snippet map $http_upgrade $connection_upgrade { default upgrade; \u0026#39;\u0026#39; close; } upstream ws_backend { least_conn; server 127.0.0.1:8080 max_fails=3 fail_timeout=30s; } server { listen 443 ssl http2; server_name example.com; location /ws/ { proxy_pass http://ws_backend; proxy_http_version 1.1; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection $connection_upgrade; proxy_connect_timeout 15s; proxy_send_timeout 60s; proxy_read_timeout 3600s; proxy_buffering off; gzip off; } } Summary Most WebSocket disconnect incidents are boring infrastructure issues, not mysterious app bugs.\nFix these first:\nCorrect upgrade headers + HTTP/1.1 proxying Longer read timeout + heartbeat Aligned idle timeouts across all proxy layers Do this and your reconnect storm usually disappears.\n","permalink":"https://www.mfun.ink/english/post/nginx-websocket-disconnect-traps/","summary":"\u003cp\u003eIf your WebSocket keeps reconnecting every few seconds, it\u0026rsquo;s usually not your app code. In most production incidents, the root cause is an incomplete reverse-proxy chain in Nginx (or one proxy layer before it).\u003c/p\u003e\n\u003cp\u003eThis guide gives you a copy-paste checklist to stabilize WebSocket connections fast.\u003c/p\u003e","title":"Nginx Reverse Proxy WebSocket Disconnects: 7 Common Traps and Reliable Fixes"},{"content":"WebSocket ç»å¸¸â€œè¿ä¸Šåˆæ‰â€ï¼Œå¤§å¤šæ•°ä¸æ˜¯åç«¯ä»£ç é”…ï¼Œè€Œæ˜¯ Nginx åä»£é“¾è·¯é…ç½®ä¸å®Œæ•´ã€‚å…¸å‹ç—‡çŠ¶æ˜¯å‰ç«¯åå¤é‡è¿ã€æ—¥å¿—å‡ºç° upstream timed outã€æˆ–è€…æ¡æ‰‹ç›´æ¥æ‹¿ä¸åˆ° 101 Switching Protocolsã€‚\nè¿™ç¯‡ç»™ä½ ä¸€å¥—èƒ½ç›´æ¥æŠ„çš„æ’æŸ¥ä¸ä¿®å¤æ¸…å•ï¼ŒæŒ‰é¡ºåºåšï¼Œé€šå¸¸ 30 åˆ†é’Ÿå†…èƒ½ç¨³å®šã€‚\n1) Upgrade/Connection å¤´æ²¡é€ä¼ ï¼Œæ¡æ‰‹æ‹¿ä¸åˆ° 101 WebSocket å¿…é¡»ä» HTTP å‡çº§ï¼ŒNginx å¦‚æœæ²¡å¸¦ä¸Šå‡çº§å¤´ï¼Œåç«¯å°±ä¼šå½“æ™®é€š HTTP å¤„ç†ã€‚\næœ€å°å¯ç”¨é…ç½®ï¼š\nmap $http_upgrade $connection_upgrade { default upgrade; \u0026#39;\u0026#39; close; } server { listen 443 ssl http2; server_name example.com; location /ws/ { proxy_pass http://127.0.0.1:8080; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection $connection_upgrade; } } éªŒè¯ï¼š\ncurl -i -N \\ -H \u0026#34;Connection: Upgrade\u0026#34; \\ -H \u0026#34;Upgrade: websocket\u0026#34; \\ -H \u0026#34;Sec-WebSocket-Version: 13\u0026#34; \\ -H \u0026#34;Sec-WebSocket-Key: SGVsbG9Xb3JsZDEyMw==\u0026#34; \\ https://example.com/ws/ ä½ è‡³å°‘è¦çœ‹åˆ°ï¼šHTTP/1.1 101 Switching Protocolsã€‚\n2) è¶…æ—¶å¤ªçŸ­ï¼Œç©ºé—²è¿æ¥è¢« Nginx è¯¯æ€ æœ€å¸¸è§æ–­è¿ç‚¹ï¼šproxy_read_timeout é»˜è®¤å€¼ä¸å¤Ÿï¼Œä¸šåŠ¡åœ¨ç©ºé—²å‡ åç§’åå°±è¢«åˆ‡æ–­ã€‚\nlocation /ws/ { proxy_pass http://127.0.0.1:8080; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection $connection_upgrade; proxy_connect_timeout 15s; proxy_send_timeout 60s; proxy_read_timeout 3600s; } åŒæ—¶è®©æœåŠ¡ç«¯æˆ–å®¢æˆ·ç«¯æ¯ 20-30 ç§’å‘ä¸€æ¬¡ ping/pong å¿ƒè·³ï¼Œåˆ«æŠŠè¿æ¥å½“â€œæ°¸ä¹…é™é»˜ç®¡é“â€ã€‚\n3) ä¸Šæ¸¸æ˜¯è´Ÿè½½å‡è¡¡ï¼Œä½†æ²¡åšä¼šè¯ç²˜æ€§ ä½ è¿åˆ° A æœºå™¨æ¡æ‰‹ï¼Œä¸‹ä¸€è·³è¢«åˆ†åˆ° B æœºå™¨ï¼Œå†…å­˜æ€ä¼šè¯å¯¹ä¸ä¸Šï¼Œå°±ä¼šâ€œéšæœºæ‰çº¿â€ã€‚\nå¦‚æœä½ çš„åº”ç”¨ä¾èµ–å†…å­˜ä¼šè¯ï¼Œå…ˆå¼€ç²˜æ€§ç­–ç•¥ï¼ˆæˆ–æ”¹æˆ Redis å…±äº«ä¼šè¯ï¼‰ã€‚\nupstream ws_backend { ip_hash; # ç®€å•ç²˜æ€§ï¼Œå¤Ÿç”¨ä½†ä¸å®Œç¾ server 10.0.0.11:8080; server 10.0.0.12:8080; } location /ws/ { proxy_pass http://ws_backend; } 4) é“¾è·¯é‡Œè¿˜æœ‰ä¸€å±‚ä»£ç†ï¼ˆCDN/LB/Ingressï¼‰æå‰æ–­å¼€ å¾ˆå¤šäººåªçœ‹ Nginxï¼Œæ¼æ‰äº†å‰é¢çš„ ALB/CDN/Ingress ç©ºé—²è¶…æ—¶ã€‚ç»“æœæ˜¯ Nginx é… 1 å°æ—¶ï¼Œä¸Šæ¸¸ 60 ç§’å°±åˆ‡äº†ã€‚\næ’æŸ¥é¡ºåºï¼š\næµè§ˆå™¨å¼€å‘è€…å·¥å…·çœ‹ close code/time pattern Nginx access/error log å¯¹é½æ—¶é—´çº¿ æ£€æŸ¥å¤–å±‚ LB/CDN çš„ idle timeoutï¼ˆç»Ÿä¸€è°ƒåˆ° \u0026gt;= 300sï¼‰ 5) http2ã€wsã€wss æ··ç”¨å¯¼è‡´æ¡æ‰‹å¼‚å¸¸ å¯¹å¤–å¯ä»¥å¯ç”¨ http2ï¼Œä½† WebSocket åä»£æœ¬èº«ä»æ˜¯åŸºäº HTTP/1.1 å‡çº§è¯­ä¹‰ã€‚å¸¸è§å‘æ˜¯è·¯å¾„ã€åè®®ã€è¯ä¹¦é“¾ä¸ä¸€è‡´ã€‚\nå»ºè®®ï¼š\nå‰ç«¯ç»Ÿä¸€ä½¿ç”¨ wss://example.com/ws/ åä»£åˆ°ä¸Šæ¸¸æ—¶å›ºå®š proxy_http_version 1.1 è¯ä¹¦é“¾å®Œæ•´ï¼Œé¿å…å¶å‘ TLS æ¡æ‰‹å¤±è´¥ å¿«é€Ÿæ£€æŸ¥è¯ä¹¦ï¼š\nopenssl s_client -connect example.com:443 -servername example.com \u0026lt;/dev/null 6) Nginx ç¼“å†²/å‹ç¼©ç­–ç•¥ä¸å½“ï¼Œå¼•å‘å»¶è¿Ÿæˆ–å¼‚å¸¸ WebSocket ä¸€èˆ¬ä¸è¯¥èµ°æ™®é€šå“åº”ç¼“å†²ã€‚\nlocation /ws/ { proxy_pass http://127.0.0.1:8080; proxy_buffering off; gzip off; } å¦‚æœä½ å‘ç°æ¶ˆæ¯â€œæ”’ä¸€æ³¢æ‰åˆ°â€ï¼Œåæœ‰å…«ä¹æ˜¯ç¼“å†²åœ¨æäº‹ã€‚\n7) æ²¡æœ‰å¯è§‚æµ‹æ€§ï¼Œå‡ºäº†é—®é¢˜åªèƒ½é çŒœ æŠŠå…³é”®å­—æ®µæ‰“è¿›æ—¥å¿—ï¼Œè‡³å°‘èƒ½å›ç­”â€œè°åœ¨ä»€ä¹ˆæ—¶å€™æ–­äº†ã€æ–­åœ¨ç¬¬å‡ å±‚â€ã€‚\nlog_format ws \u0026#39;$remote_addr - $host [$time_local] \u0026#39; \u0026#39;\u0026#34;$request\u0026#34; $status $body_bytes_sent \u0026#39; \u0026#39;rt=$request_time urt=$upstream_response_time \u0026#39; \u0026#39;ua=\u0026#34;$http_user_agent\u0026#34; up=\u0026#34;$upstream_addr\u0026#34;\u0026#39;; access_log /var/log/nginx/ws_access.log ws; error_log /var/log/nginx/ws_error.log warn; å†é…ä¸€ä¸ªæœ€å°ç›‘æ§ï¼š\nå½“å‰è¿æ¥æ•°ï¼ˆactive websocketsï¼‰ æ¯åˆ†é’Ÿæ–­å¼€æ•° æ¡æ‰‹ 101 æˆåŠŸç‡ ä¸€å¥—å¯ç›´æ¥è½åœ°çš„å®Œæ•´ç‰‡æ®µ map $http_upgrade $connection_upgrade { default upgrade; \u0026#39;\u0026#39; close; } upstream ws_backend { least_conn; server 127.0.0.1:8080 max_fails=3 fail_timeout=30s; } server { listen 443 ssl http2; server_name example.com; location /ws/ { proxy_pass http://ws_backend; proxy_http_version 1.1; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection $connection_upgrade; proxy_connect_timeout 15s; proxy_send_timeout 60s; proxy_read_timeout 3600s; proxy_buffering off; gzip off; } } æ€»ç»“ WebSocket æ–­è¿æœ€å®¹æ˜“è¸©çš„ï¼Œä¸æ˜¯â€œé«˜çº§æ¶æ„é—®é¢˜â€ï¼Œè€Œæ˜¯å‡ ä¸ªå°é…ç½®ç¼ºå£å åœ¨ä¸€èµ·ã€‚å…ˆæŠŠ å‡çº§å¤´ã€è¶…æ—¶ã€ä¸Šæ¸¸ä¸€è‡´æ€§ã€å¤–å±‚ä»£ç†è¶…æ—¶ è¿™å››é¡¹è¡¥é½ï¼Œå†çœ‹ä¸šåŠ¡ä»£ç ï¼Œæ•ˆç‡ä¼šé«˜å¾ˆå¤šã€‚\nå¦‚æœä½ åªæƒ³å…ˆæ•‘ç«ï¼Œä¼˜å…ˆåšä¸‰ä»¶äº‹ï¼š\nè¡¥é½ Upgrade/Connection + proxy_http_version 1.1 æŠŠ proxy_read_timeout æ‹‰é•¿å¹¶åŠ å¿ƒè·³ å¯¹é½æ‰€æœ‰ä¸­é—´å±‚çš„ idle timeout ","permalink":"https://www.mfun.ink/2026/02/18/nginx-websocket-disconnect-traps/","summary":"\u003cp\u003eWebSocket ç»å¸¸â€œè¿ä¸Šåˆæ‰â€ï¼Œå¤§å¤šæ•°ä¸æ˜¯åç«¯ä»£ç é”…ï¼Œè€Œæ˜¯ \u003cstrong\u003eNginx åä»£é“¾è·¯é…ç½®ä¸å®Œæ•´\u003c/strong\u003eã€‚å…¸å‹ç—‡çŠ¶æ˜¯å‰ç«¯åå¤é‡è¿ã€æ—¥å¿—å‡ºç° \u003ccode\u003eupstream timed out\u003c/code\u003eã€æˆ–è€…æ¡æ‰‹ç›´æ¥æ‹¿ä¸åˆ° \u003ccode\u003e101 Switching Protocols\u003c/code\u003eã€‚\u003c/p\u003e\n\u003cp\u003eè¿™ç¯‡ç»™ä½ ä¸€å¥—èƒ½ç›´æ¥æŠ„çš„æ’æŸ¥ä¸ä¿®å¤æ¸…å•ï¼ŒæŒ‰é¡ºåºåšï¼Œé€šå¸¸ 30 åˆ†é’Ÿå†…èƒ½ç¨³å®šã€‚\u003c/p\u003e","title":"Nginx åå‘ä»£ç† WebSocket é¢‘ç¹æ–­è¿ï¼š7 ä¸ªé«˜é¢‘å‘ä¸å¯å¤åˆ¶ä¿®å¤"},{"content":"If your RAG system feels unreliable, switching to a more expensive LLM is usually the wrong first move. In most cases, the bottleneck is retrieval quality: weak recall, poor ranking, and no measurement loop.\nThis guide gives a practical path: make recall broader, make ranking sharper, then close the loop with offline + online evaluation.\n1) Define what â€œaccurateâ€ means first Build a small eval set (50â€“200 real queries), each with:\nuser query reference answer or key facts gold evidence chunk IDs (can be multiple) Track at least these metrics:\nRecall@k (most important first) MRR nDCG@k Faithfulness (is the answer grounded in retrieved evidence?) If Recall@k doesnâ€™t improve, prompt tuning wonâ€™t save you.\n2) Make recall broad with hybrid retrieval Use multiple retrieval channels:\ndense vector retrieval (semantic) BM25 keyword retrieval (lexical) optional rule-based retrieval (title/tag/time filters) Why this works: product names, error codes, and versions are often better handled by BM25 than embeddings.\nSuggested defaults chunk size: 300â€“600 Chinese chars or 200â€“400 English words overlap: 10%â€“20% retrieve top 30â€“100 candidates before reranking deduplicate by doc_id + span hash 3) Make ranking precise with a cross-encoder reranker Adding reranking is often the highest-ROI quality upgrade.\nPipeline:\nretrieve top 50 rerank and keep top 5â€“10 force citations in the final answer Example:\ncandidates = hybrid_retrieve(query, topk=50) ranked = rerank_cross_encoder(query, candidates) context = ranked[:8] answer = llm_generate(query, context, require_citations=True) 4) Keep query rewriting conservative Over-aggressive rewrite can damage intent.\nA safer default:\nkeep the original query only expand abbreviations/synonyms never invent constraints A strong pattern is parallel retrieval: original query + rewritten query, then merge and deduplicate.\n5) Close the evaluation loop weekly Run offline evaluation weekly, and feed back online signals:\nexplicit: thumbs up/down, â€œsolved?â€ implicit: follow-up rate, copy rate, dwell time If follow-up rate rises while offline metrics look fine, check:\nstale eval set delayed indexing for fresh docs missing retrieval strategy for specific query types (e.g., version-diff questions) 6) Fast troubleshooting checklist Hallucinations: increase evidence coverage; try context top 8 instead of top 3. Off-topic answers: inspect reranker false positives. Fresh docs not found: audit incremental indexing and retries. Old-version hits: add version and updated_at filters. Long complex queries fail: split into sub-questions before retrieval. 7) Minimal production-ready stack vector store: Milvus / pgvector / Weaviate lexical search: OpenSearch/Elasticsearch or local BM25 reranker: bge-reranker or cross-encoder evaluation: custom scripts + weekly Recall@k/MRR/Faithfulness report Get this pipeline stable before adding agent complexity.\nSummary The most reliable RAG improvement order is:\nbroader recall (hybrid retrieval) better ranking (cross-encoder reranker) continuous evaluation loop (offline + online) Donâ€™t start with a pricier model. Start with better retrieval engineering.\n","permalink":"https://www.mfun.ink/english/post/rag-retrieval-rerank-eval-loop/","summary":"\u003cp\u003eIf your RAG system feels unreliable, switching to a more expensive LLM is usually the wrong first move. In most cases, the bottleneck is retrieval quality: weak recall, poor ranking, and no measurement loop.\u003c/p\u003e\n\u003cp\u003eThis guide gives a practical path: make recall broader, make ranking sharper, then close the loop with offline + online evaluation.\u003c/p\u003e","title":"RAG Accuracy Playbook: Retrieval Recall, Re-Ranking, and Evaluation Loop"},{"content":"å¾ˆå¤šå›¢é˜Ÿåš RAG çš„ç¬¬ä¸€ååº”æ˜¯â€œæŠŠ embedding æ¢æˆæ›´è´µçš„æ¨¡å‹â€ï¼Œç»“æœæˆæœ¬ä¸Šå»äº†ï¼Œæ•ˆæœå´ä¸ç¨³å®šã€‚çœŸæ­£çš„é—®é¢˜é€šå¸¸ä¸åœ¨ç”Ÿæˆï¼Œè€Œåœ¨æ£€ç´¢é“¾è·¯ï¼šå¬å›ä¸å…¨ã€æ’åºä¸å‡†ã€è¯„ä¼°ç¼ºå¤±ã€‚\nè¿™ç¯‡ç»™ä¸€å¥—å¯ç›´æ¥è½åœ°çš„åšæ³•ï¼šå…ˆæŠŠå¬å›åšåšï¼Œå†æŠŠé‡æ’åšå‡†ï¼Œæœ€åç”¨ç¦»çº¿ + åœ¨çº¿æŒ‡æ ‡å½¢æˆæŒç»­ä¼˜åŒ–é—­ç¯ã€‚\nä¸€ã€å…ˆå®šä¹‰â€œå‡†â€çš„æ ‡å‡†ï¼šæ²¡æœ‰æŒ‡æ ‡ï¼Œä¼˜åŒ–å°±æ˜¯ç„å­¦ å…ˆå»ºä¸€ä¸ªæœ€å°è¯„æµ‹é›†ï¼ˆ50~200 æ¡çœŸå®é—®é¢˜ï¼‰ï¼Œæ¯æ¡åŒ…å«ï¼š\nç”¨æˆ·é—®é¢˜ æ ‡æ³¨ç­”æ¡ˆï¼ˆæˆ–å…³é”®äº‹å®ï¼‰ åº”è¯¥å‘½ä¸­çš„æ–‡æ¡£ç‰‡æ®µ IDï¼ˆå¯å¤šæ¡ï¼‰ æ ¸å¿ƒç¦»çº¿æŒ‡æ ‡å»ºè®®ç”¨è¿™ 4 ä¸ªï¼š\nRecall@kï¼šå‰ k æ¡é‡Œå‘½ä¸­æ­£ç¡®è¯æ®çš„æ¯”ä¾‹ï¼ˆå…ˆçœ‹è¿™ä¸ªï¼‰ MRRï¼šç¬¬ä¸€ä¸ªæ­£ç¡®ç»“æœå‡ºç°å¾—æœ‰å¤šé å‰ nDCG@kï¼šç›¸å…³æ€§æ’åºè´¨é‡ Faithfulnessï¼ˆç”Ÿæˆå¿ å®åº¦ï¼‰ï¼šå›ç­”æ˜¯å¦è¢«æ£€ç´¢è¯æ®æ”¯æŒ æ²¡æœ‰ Recall@k çš„æå‡ï¼Œåé¢ç”Ÿæˆè°ƒå‚åŸºæœ¬ç™½å¿™ã€‚\näºŒã€æŠŠå¬å›åšâ€œåšâ€ï¼šå¤šè·¯å¬å›æ¯”å•è·¯ embedding æ›´ç¨³ å®æˆ˜é‡Œæ¨èâ€œæ··åˆæ£€ç´¢â€ï¼š\nç¨ å¯†å‘é‡æ£€ç´¢ï¼ˆsemanticï¼‰ BM25 å…³é”®è¯æ£€ç´¢ï¼ˆlexicalï¼‰ å¯é€‰ï¼šåŸºäºæ ‡é¢˜/æ ‡ç­¾/æ—¶é—´çš„è§„åˆ™å¬å› ä¸ºä»€ä¹ˆï¼šç”¨æˆ·é—®é¢˜ç»å¸¸å¸¦äº§å“åã€é”™è¯¯ç ã€ç‰ˆæœ¬å·ï¼Œè¿™ç±» token BM25 å¾€å¾€æ¯”å‘é‡æ›´ç¨³ã€‚\nå…³é”®å‚æ•°å»ºè®® chunk sizeï¼š300600 ä¸­æ–‡å­—ï¼ˆæˆ– 200400 è‹±æ–‡è¯ï¼‰ overlapï¼š10%~20% topKï¼ˆå¬å›ï¼‰å…ˆæ‹‰åˆ° 30~100ï¼Œå†äº¤ç»™é‡æ’ å¤šè·¯ç»“æœåšå»é‡ï¼ˆæŒ‰ doc_id + span hashï¼‰ ä¸‰ã€æŠŠé‡æ’åšâ€œå‡†â€ï¼šCross-Encoder æ˜¯æ€§ä»·æ¯”æœ€é«˜çš„ä¸€æ­¥ åœ¨å¬å›ååŠ ä¸€å±‚ rerankerï¼ˆcross-encoder / bge-reranker ç­‰ï¼‰ï¼Œé€šå¸¸æ˜¯æœ€æ˜æ˜¾çš„è´¨é‡æå‡ç‚¹ã€‚\næ¨èæµç¨‹ï¼š\nå¬å› top 50 é‡æ’åå– top 5~10 ç»™ LLM å¼ºåˆ¶å›ç­”å¼•ç”¨è¯æ®ï¼ˆæ–‡æ¡£æ ‡é¢˜æˆ–ç‰‡æ®µ IDï¼‰ ä¼ªä»£ç ç¤ºä¾‹ï¼š\ncandidates = hybrid_retrieve(query, topk=50) ranked = rerank_cross_encoder(query, candidates) context = ranked[:8] answer = llm_generate(query, context, require_citations=True) å››ã€æŸ¥è¯¢æ”¹å†™åˆ«è´ªå¿ƒï¼šå…ˆåšâ€œä¿å®ˆé‡å†™â€ Query Rewrite ä¸æ˜¯è¶Šæ¿€è¿›è¶Šå¥½ã€‚å»ºè®®é»˜è®¤ç­–ç•¥ï¼š\nä¿ç•™åŸ query åªè¡¥å……åŒä¹‰è¯ä¸ç¼©å†™å±•å¼€ ä¸æ”¹ç”¨æˆ·æ„å›¾ï¼Œä¸â€œè„‘è¡¥â€çº¦æŸ å¯ä»¥å¹¶è¡Œè·‘ï¼šåŸ query æ£€ç´¢ + æ”¹å†™ query æ£€ç´¢ï¼Œæœ€ååˆå¹¶å»é‡ã€‚\näº”ã€è¯„ä¼°é—­ç¯ï¼šå‘¨æ›´è¯„æµ‹ + çº¿ä¸Šåé¦ˆå›æµ ç¦»çº¿è¯„æµ‹æ¯å‘¨è‡³å°‘è·‘ä¸€æ¬¡ï¼Œçº¿ä¸Šè¦è¡¥ä¸¤ç±»ä¿¡å·ï¼š\næ˜¾å¼åé¦ˆï¼šğŸ‘/ğŸ‘ã€æ˜¯å¦è§£å†³ éšå¼åé¦ˆï¼šè¿½é—®ç‡ã€å¤åˆ¶ç‡ã€åœç•™æ—¶é•¿ å½“ä½ çœ‹åˆ°â€œçº¿ä¸Šè¿½é—®ç‡å‡é«˜ä½†ç¦»çº¿æŒ‡æ ‡æ­£å¸¸â€ï¼Œé€šå¸¸æ˜¯ï¼š\nè¯„æµ‹é›†è¿‡æ—¶ æ–°æ–‡æ¡£æœªåŠæ—¶å…¥åº“ æŸç±» queryï¼ˆå¦‚ç‰ˆæœ¬å·®å¼‚é—®é¢˜ï¼‰ç¼ºä¸“é—¨å¬å›ç­–ç•¥ å…­ã€æ’éšœæ¸…å•ï¼ˆç›´æ¥ç…§ç€æŸ¥ï¼‰ å›ç­”å¹»è§‰å¤šï¼šå…ˆæŸ¥æ˜¯å¦ç»™äº†è¶³å¤Ÿè¯æ®ï¼›æŠŠ context ä» 3 æåˆ° 8 è¯•è¯•ã€‚ ç­”éæ‰€é—®ï¼šçœ‹é‡æ’æ˜¯å¦æŠŠâ€œå…³é”®è¯ç›¸è¿‘ä½†è¯­ä¹‰åé¢˜â€çš„ç‰‡æ®µæ”¾å‰é¢ã€‚ æ–°å†…å®¹æœä¸åˆ°ï¼šæ£€æŸ¥ç´¢å¼•å¢é‡ä»»åŠ¡å»¶è¿Ÿä¸å¤±è´¥é‡è¯•ã€‚ å‘½ä¸­æ—§ç‰ˆæœ¬æ–‡æ¡£ï¼šç»™æ–‡æ¡£åŠ  versionã€updated_atï¼Œæ£€ç´¢æ—¶åŠ è¿‡æ»¤ã€‚ é•¿é—®é¢˜æ•ˆæœå·®ï¼šå…ˆåš query decompositionï¼ˆå­é—®é¢˜æ‹†åˆ†ï¼‰å†å¬å›ã€‚ ä¸ƒã€æœ€å°å¯è½åœ°æ¶æ„ï¼ˆMVPï¼‰ å‘é‡åº“ï¼šMilvus / pgvector / Weaviateï¼ˆä»»é€‰ï¼‰ å…³é”®è¯æ£€ç´¢ï¼šOpenSearch/Elasticsearch æˆ–æœ¬åœ° BM25 é‡æ’ï¼šbge-reranker / cross-encoder-miniLM è¯„ä¼°ï¼šè‡ªå»ºè„šæœ¬ + å‘¨æŠ¥ï¼ˆRecall@kã€MRRã€Faithfulnessï¼‰ å…ˆæŠŠè¿™æ¡é“¾è·¯è·‘é€šï¼Œå†è°ˆ agent åŒ–å’Œå¤æ‚å·¥ä½œæµã€‚\næ€»ç»“ RAG æå‡è´¨é‡æœ€æœ‰æ•ˆçš„é¡ºåºæ˜¯ï¼š\nå…ˆè¡¥å¬å›ï¼ˆæ··åˆæ£€ç´¢ï¼‰ å†åšé‡æ’ï¼ˆcross-encoderï¼‰ æœ€ååšè¯„ä¼°é—­ç¯ï¼ˆç¦»çº¿ + åœ¨çº¿ï¼‰ åˆ«ä¸€ä¸Šæ¥å°±æ¢æ›´è´µæ¨¡å‹ã€‚æŠŠæ£€ç´¢ç³»ç»Ÿå·¥ç¨‹åšå¥½ï¼Œæ•ˆæœå’Œæˆæœ¬éƒ½ä¼šæ›´åƒâ€œäº§å“â€ï¼Œè€Œä¸æ˜¯â€œæ¼”ç¤ºâ€ã€‚\n","permalink":"https://www.mfun.ink/2026/02/17/rag-retrieval-rerank-eval-loop/","summary":"\u003cp\u003eå¾ˆå¤šå›¢é˜Ÿåš RAG çš„ç¬¬ä¸€ååº”æ˜¯â€œæŠŠ embedding æ¢æˆæ›´è´µçš„æ¨¡å‹â€ï¼Œç»“æœæˆæœ¬ä¸Šå»äº†ï¼Œæ•ˆæœå´ä¸ç¨³å®šã€‚çœŸæ­£çš„é—®é¢˜é€šå¸¸ä¸åœ¨ç”Ÿæˆï¼Œè€Œåœ¨æ£€ç´¢é“¾è·¯ï¼šå¬å›ä¸å…¨ã€æ’åºä¸å‡†ã€è¯„ä¼°ç¼ºå¤±ã€‚\u003c/p\u003e\n\u003cp\u003eè¿™ç¯‡ç»™ä¸€å¥—å¯ç›´æ¥è½åœ°çš„åšæ³•ï¼šå…ˆæŠŠå¬å›åšåšï¼Œå†æŠŠé‡æ’åšå‡†ï¼Œæœ€åç”¨ç¦»çº¿ + åœ¨çº¿æŒ‡æ ‡å½¢æˆæŒç»­ä¼˜åŒ–é—­ç¯ã€‚\u003c/p\u003e","title":"RAG ä¸å‡†æ€ä¹ˆåŠï¼šæ£€ç´¢å¬å›ã€é‡æ’ä¸è¯„ä¼°é—­ç¯è½åœ°æŒ‡å—"},{"content":"æœ¬åœ° hugo èƒ½è·‘ï¼Œåˆ°äº† GitHub Actions å°±ç¿»è½¦ï¼Œæ˜¯å¾ˆå¤šåšå®¢ç»´æŠ¤è€…çš„æ—¥å¸¸ã€‚ æœ€å¸¸è§çš„é—®é¢˜ä¸æ˜¯â€œä¸ä¼šå†™ workflowâ€ï¼Œè€Œæ˜¯ç¯å¢ƒä¸ä¸€è‡´ã€ç‰ˆæœ¬æ¼‚ç§»ã€æƒé™è®¾ç½®é—æ¼ã€‚\nè¿™ç¯‡ç»™ä½ ä¸€å¥—èƒ½é•¿æœŸç¨³å®šè¿è¡Œçš„ Hugo è‡ªåŠ¨éƒ¨ç½²é…ç½®ï¼šæœ€å°å¿…è¦æƒé™ã€ç‰ˆæœ¬é”å®šã€å¤±è´¥å³æŠ¥é”™ã€å¯å¿«é€Ÿæ’éšœã€‚\nä¸€ã€å…ˆå®šè§„åˆ™ï¼šéƒ¨ç½²é“¾è·¯å¿…é¡»å¯é¢„æœŸ ç›®æ ‡åªæœ‰ä¸‰ä¸ªï¼š\næ¯æ¬¡ push åè‡ªåŠ¨æ„å»ºå¹¶å‘å¸ƒ ä¾èµ–ç‰ˆæœ¬å›ºå®šï¼Œä¸åƒâ€œä»Šå¤©èƒ½è·‘æ˜å¤©æŒ‚â€ å¤±è´¥æ—¶æ—¥å¿—æœ‰æ˜ç¡®å®šä½çº¿ç´¢ äºŒã€æ¨è workflowï¼ˆå¯ç›´æ¥ç”¨ï¼‰ åœ¨ä»“åº“åˆ›å»º .github/workflows/deploy-hugo.ymlï¼š\nname: Deploy Hugo on: push: branches: [\u0026#34;main\u0026#34;] workflow_dispatch: permissions: contents: read pages: write id-token: write concurrency: group: \u0026#34;pages\u0026#34; cancel-in-progress: true jobs: build: runs-on: ubuntu-latest env: HUGO_VERSION: \u0026#34;0.145.0\u0026#34; TZ: \u0026#34;Asia/Shanghai\u0026#34; steps: - name: Checkout uses: actions/checkout@v4 with: submodules: recursive fetch-depth: 0 - name: Setup Hugo uses: peaceiris/actions-hugo@v3 with: hugo-version: ${{ env.HUGO_VERSION }} extended: true - name: Setup Pages id: pages uses: actions/configure-pages@v5 - name: Build run: hugo --minify --gc - name: Upload artifact uses: actions/upload-pages-artifact@v3 with: path: ./public deploy: needs: build runs-on: ubuntu-latest environment: name: github-pages url: ${{ steps.deployment.outputs.page_url }} steps: - name: Deploy to GitHub Pages id: deployment uses: actions/deploy-pages@v4 ä¸‰ã€ä¸ºä»€ä¹ˆè¿™ä»½é…ç½®ä¸å®¹æ˜“ç‚¸ 1) é”å®š Hugo ç‰ˆæœ¬ ä¸è¦ä¾èµ– runner é»˜è®¤ç‰ˆæœ¬ ä¸»é¢˜æ›´æ–°åï¼Œç‰ˆæœ¬å·®å¼‚ç»å¸¸å¯¼è‡´æ¨¡æ¿æ¸²æŸ“å¼‚å¸¸ 2) æ˜¾å¼å¼€å¯ Pages æƒé™ pages: write å’Œ id-token: write ç¼ºä¸€ä¸å¯ï¼Œå¦åˆ™ deploy é˜¶æ®µä¼šæƒé™é”™è¯¯ã€‚\n3) æ‰“å¼€å¹¶å‘äº’æ–¥ è¿ç»­ push æ—¶ï¼Œæ—§ä»»åŠ¡ä¼šè‡ªåŠ¨å–æ¶ˆï¼Œé¿å…æ—§æ„å»ºè¦†ç›–æ–°å†…å®¹ã€‚\n4) å­æ¨¡å—é€’å½’æ‹‰å– å¦‚æœä¸»é¢˜åœ¨ submoduleï¼Œä¸åŠ  submodules: recursive ä¼šç›´æ¥æ„å»ºå¤±è´¥ã€‚\nå››ã€ä½ æœ€å¯èƒ½é‡åˆ°çš„ 5 ä¸ªæŠ¥é”™ Error: Failed to create deployment æ’æŸ¥ï¼š\nä»“åº“ Settings â†’ Pagesï¼ŒSource é€‰æ‹© GitHub Actions workflow é‡Œå¿…é¡»æœ‰ pages: write ä¸ id-token: write hugo: command not found æ’æŸ¥ï¼š\nactions-hugo æ˜¯å¦æ‰§è¡ŒæˆåŠŸ hugo-version æ˜¯å¦å¡«å†™å¹¶å¯ç”¨ module not found / ä¸»é¢˜æ¸²æŸ“æŠ¥é”™ æ’æŸ¥ï¼š\næ˜¯å¦æœ‰ submodules: recursive æœ¬åœ°å’Œ CI çš„ Hugo ç‰ˆæœ¬æ˜¯å¦ä¸€è‡´ No files were found with the provided path: ./public æ’æŸ¥ï¼š\nhugo æ˜¯å¦çœŸçš„è¾“å‡ºåˆ° public/ baseURL æˆ–é…ç½®é”™è¯¯å¯¼è‡´æ„å»ºæå‰é€€å‡º é¡µé¢éƒ¨ç½²æˆåŠŸä½†æ ·å¼å…¨ä¸¢ æ’æŸ¥ï¼š\nbaseURL æ˜¯å¦ä¸ Pages åŸŸååŒ¹é… èµ„æºè·¯å¾„æ˜¯å¦ç”¨ç»å¯¹è·¯å¾„ç¡¬ç¼–ç  äº”ã€å»ºè®®åŠ ä¸€ä¸ªå¿«é€Ÿå¥åº·æ£€æŸ¥ åœ¨ Build åè¿½åŠ ï¼š\n- name: Sanity check run: | test -f public/index.html echo \u0026#34;Build output looks good\u0026#34; è¿™ä¸ªæ£€æŸ¥å¾ˆåœŸï¼Œä½†èƒ½é˜²ä½â€œæ„å»ºçœ‹èµ·æ¥æˆåŠŸï¼Œå®é™…å•¥ä¹Ÿæ²¡äº§å‡ºâ€çš„ä½çº§äº‹æ•…ã€‚\nå…­ã€æ€»ç»“ æƒ³è®© Hugo è‡ªåŠ¨éƒ¨ç½²ç¨³å®šï¼Œé‡ç‚¹ä¸æ˜¯â€œå¤æ‚é…ç½®â€ï¼Œè€Œæ˜¯ï¼š\né”ç‰ˆæœ¬ ç»™å¯¹æƒé™ ä¿è¯ä¸»é¢˜ä¸ä¾èµ–å®Œæ•´ ç•™ä¸‹å¯è¯»çš„å¤±è´¥æ—¥å¿— å…ˆæŠŠè¿™å››ä»¶äº‹åšå¯¹ï¼Œä½ çš„åšå®¢ CI ä¼šæ¯”å¤§å¤šæ•°é¡¹ç›®ç¨³å¾—å¤šã€‚\n","permalink":"https://www.mfun.ink/2026/02/16/github-actions-hugo-auto-deploy-safe-config/","summary":"\u003cp\u003eæœ¬åœ° \u003ccode\u003ehugo\u003c/code\u003e èƒ½è·‘ï¼Œåˆ°äº† GitHub Actions å°±ç¿»è½¦ï¼Œæ˜¯å¾ˆå¤šåšå®¢ç»´æŠ¤è€…çš„æ—¥å¸¸ã€‚\næœ€å¸¸è§çš„é—®é¢˜ä¸æ˜¯â€œä¸ä¼šå†™ workflowâ€ï¼Œè€Œæ˜¯ç¯å¢ƒä¸ä¸€è‡´ã€ç‰ˆæœ¬æ¼‚ç§»ã€æƒé™è®¾ç½®é—æ¼ã€‚\u003c/p\u003e","title":"GitHub Actions è‡ªåŠ¨éƒ¨ç½² Hugoï¼šé˜²ç¿»è½¦é…ç½®ä¸æ’éšœæ¸…å•"},{"content":"Your local hugo build works, but GitHub Actions fails randomly. Classic. The root cause is usually not the workflow syntax. It is environment drift, missing permissions, and unstable dependencies.\nThis guide gives you a stable Hugo deployment workflow for GitHub Pages: pinned versions, minimum required permissions, and actionable failure signals.\n1) Deployment rules first A reliable pipeline should guarantee:\nAuto build and publish on every push Fixed toolchain versions Fast failure with readable logs 2) Recommended workflow (copy and run) Create .github/workflows/deploy-hugo.yml:\nname: Deploy Hugo on: push: branches: [\u0026#34;main\u0026#34;] workflow_dispatch: permissions: contents: read pages: write id-token: write concurrency: group: \u0026#34;pages\u0026#34; cancel-in-progress: true jobs: build: runs-on: ubuntu-latest env: HUGO_VERSION: \u0026#34;0.145.0\u0026#34; TZ: \u0026#34;Asia/Shanghai\u0026#34; steps: - name: Checkout uses: actions/checkout@v4 with: submodules: recursive fetch-depth: 0 - name: Setup Hugo uses: peaceiris/actions-hugo@v3 with: hugo-version: ${{ env.HUGO_VERSION }} extended: true - name: Setup Pages id: pages uses: actions/configure-pages@v5 - name: Build run: hugo --minify --gc - name: Upload artifact uses: actions/upload-pages-artifact@v3 with: path: ./public deploy: needs: build runs-on: ubuntu-latest environment: name: github-pages url: ${{ steps.deployment.outputs.page_url }} steps: - name: Deploy to GitHub Pages id: deployment uses: actions/deploy-pages@v4 3) Why this setup is robust Pin Hugo version Never rely on runner defaults. Theme and template behavior can break across versions.\nExplicit Pages permissions pages: write and id-token: write are both required for deployment.\nConcurrency guard If multiple pushes happen quickly, old runs are canceled to prevent stale deploys.\nRecursive submodule checkout If your theme is a submodule, missing recursive checkout will break builds.\n4) Top 5 common failures Error: Failed to create deployment Check:\nRepository Settings â†’ Pages â†’ Source is GitHub Actions Workflow includes pages: write and id-token: write hugo: command not found Check:\nactions-hugo step actually ran hugo-version is valid module not found or theme render errors Check:\nsubmodules: recursive is enabled Local and CI Hugo versions match No files were found with the provided path: ./public Check:\nHugo build really outputs to public/ Config errors did not stop build early Deploy succeeds but styles are broken Check:\nbaseURL matches your Pages domain No hardcoded absolute asset paths 5) Add a quick sanity check Append this after build:\n- name: Sanity check run: | test -f public/index.html echo \u0026#34;Build output looks good\u0026#34; Simple, but effective against \u0026ldquo;green build, empty output\u0026rdquo; mistakes.\n6) Summary For stable Hugo deployment, focus on four things:\nPin versions Set correct permissions Pull complete dependencies Keep logs readable for troubleshooting Get these right and your CI will be more reliable than most blog pipelines.\n","permalink":"https://www.mfun.ink/english/post/github-actions-hugo-auto-deploy-safe-config/","summary":"\u003cp\u003eYour local \u003ccode\u003ehugo\u003c/code\u003e build works, but GitHub Actions fails randomly. Classic.\nThe root cause is usually not the workflow syntax. It is environment drift, missing permissions, and unstable dependencies.\u003c/p\u003e","title":"Hugo Auto Deploy with GitHub Actions: Safe Config and Troubleshooting"},{"content":"If you still use one model for everything, you usually pay in one of three ways: higher cost, slower delivery, or more rework.\nA better setup is role-based collaboration: Claude Code for planning and quality gates, Codex for fast implementation and batch edits.\nBottom line first: the most practical split The most reliable split in real projects:\nClaude Code: requirement breakdown, architecture choices, risk checks, critical refactors Codex: scaffolding, batch updates, test generation, docs sync Short version: Claude owns direction, Codex owns throughput.\nHow to measure cost, speed, and quality Donâ€™t rely on vibes. Track at least 4 metrics:\nCost: token/call cost per task Speed: total minutes from task start to PR-ready Quality: first-pass success rate, rollback rate, review rounds Stability: output consistency with longer context windows A tiny log format is enough:\necho \u0026#34;$(date +%F_%T),task=api-refactor,model=codex,cost=0.42,time_min=26,review_round=2\u0026#34; \u0026gt;\u0026gt; .ai-benchmark.csv A copy-paste workflow you can run today 1) Let Claude Code define boundaries first Prompt template for Claude Code:\nYou are the tech lead. Goal: move auth logic in UserService from controller to middleware. Output: 1) file-level change list 2) risk points 3) acceptance criteria 4) rollback plan Required output quality:\nfile-level scope (no vague â€œrefactor everythingâ€) explicit out-of-scope list testable acceptance criteria 2) Let Codex do high-throughput execution Codex prompt template:\nImplement only the listed file changes. Do not modify files outside the list. Before finishing: - run tests - provide change summary - highlight risky diffs This is where speed gains are obvious, especially for:\nmechanical renames cross-file interface alignment test expansion README/comments synchronization 3) Return to Claude Code for quality gate Ask Claude Code to focus on:\narchitecture consistency edge cases (nulls, retries, timeouts, concurrency) reviewer-grade risk callouts 5 rules that save the most time and money One model, one role per stage. One iteration, one sub-goal. Keep all AI outputs replayable (prompt + diff + test output). No passing tests, no next stage. If rework happens twice, change role assignment. Common failure modes and fixes Issue 1: faster output, but more rollbacks Usually caused by Codex crossing boundaries.\nFix:\nenforce file allowlist enforce one theme per change always inspect summary diff git diff --stat git diff --name-only Issue 2: Claude plan is great, but execution is slow Usually caused by oversized task scope.\nFix:\nask for minimum mergeable plan (MMP) split work into 30â€“60 minute chunks Issue 3: model recommendations conflict Resolution priority:\ntests and production signals first system constraints (SLA, compatibility) lowest-risk change path Optional lightweight automation TASK_ID=\u0026#34;auth-mw-$(date +%s)\u0026#34; echo \u0026#34;$TASK_ID,start,$(date +%s)\u0026#34; \u0026gt;\u0026gt; .ai-run.log npm test echo \u0026#34;$TASK_ID,end,$(date +%s)\u0026#34; \u0026gt;\u0026gt; .ai-run.log Then calculate average lead time and rework rate. If numbers donâ€™t improve, the workflow is wrong.\nWhen not to use dual-model workflow tiny changes (1â€“2 files) extreme urgency (need result in 10 minutes) no review discipline in team In these cases, one model is often faster and safer.\nSummary Multi-model collaboration is not â€œmore advancedâ€; itâ€™s just better role matching.\nIf your current pain is â€œfast but fragile,â€ let Claude define boundaries and acceptance criteria, then let Codex execute. If your pain is â€œgood plans, slow delivery,â€ split tasks smaller and use Codex for mechanical work.\nRun it for 2 weeks, track ~20 tasks, and decide with dataâ€”not intuition.\n","permalink":"https://www.mfun.ink/english/post/claude-code-codex-multi-model-collaboration/","summary":"\u003cp\u003eIf you still use one model for everything, you usually pay in one of three ways: higher cost, slower delivery, or more rework.\u003c/p\u003e\n\u003cp\u003eA better setup is role-based collaboration: Claude Code for planning and quality gates, Codex for fast implementation and batch edits.\u003c/p\u003e","title":"Claude Code + Codex for Multi-Model Development: Cost, Speed, and Quality (Practical Workflow)"},{"content":"å¦‚æœä½ ç°åœ¨è¿˜åœ¨â€œä¸€ä¸ªæ¨¡å‹å¹²åˆ°åº•â€ï¼Œå¤§æ¦‚ç‡ä¼šé‡åˆ°ä¸‰ä¸ªé—®é¢˜ï¼šè¦ä¹ˆè´µã€è¦ä¹ˆæ…¢ã€è¦ä¹ˆè¿”å·¥å¤šã€‚\næ›´å®ç”¨çš„åšæ³•æ˜¯ï¼šæŠŠ Claude Code å’Œ Codex å½“æˆä¸¤ä¸ªä¸åŒå²—ä½æ¥é…åˆâ€”â€”ä¸€ä¸ªåé•¿é“¾è·¯è§„åˆ’å’Œé‡æ„ï¼Œä¸€ä¸ªåå¿«é€Ÿä»£ç è½åœ°å’Œæ‰¹é‡æ‰§è¡Œã€‚\nç»“è®ºå…ˆç»™ï¼šæ€ä¹ˆåˆ†å·¥æœ€åˆ’ç®— æˆ‘åœ¨çœŸå®å¼€å‘é‡Œç”¨ä¸‹æ¥ï¼Œæœ€ç¨³çš„åˆ†å·¥æ˜¯ï¼š\nClaude Codeï¼šåšéœ€æ±‚æ‹†è§£ã€æ¶æ„æ–¹æ¡ˆã€é£é™©æ£€æŸ¥ã€å…³é”®é‡æ„ Codexï¼šåšè„šæ‰‹æ¶ã€æ‰¹é‡ä¿®æ”¹ã€æµ‹è¯•è¡¥å…¨ã€æ–‡æ¡£åŒæ­¥ ä¸€å¥è¯ï¼šâ€œClaude ç®¡æ–¹å‘ï¼ŒCodex ç®¡äº§é‡ã€‚â€\nå¯¹æ¯”ç»´åº¦ï¼šæˆæœ¬ã€é€Ÿåº¦ã€è´¨é‡æ€ä¹ˆé‡åŒ– åˆ«é ä½“æ„Ÿï¼Œæœ€å°‘ç”¨è¿™ 4 ä¸ªæŒ‡æ ‡ï¼š\næˆæœ¬ï¼šæ¯ä¸ªä»»åŠ¡çš„ token æˆ–è°ƒç”¨æˆæœ¬ é€Ÿåº¦ï¼šä»åˆ›å»ºä»»åŠ¡åˆ°å¯åˆå¹¶ï¼ˆMR/PR Readyï¼‰çš„æ€»æ—¶é•¿ è´¨é‡ï¼šä¸€æ¬¡é€šè¿‡ç‡ã€å›æ»šç‡ã€review ä¿®æ”¹é‡ ç¨³å®šæ€§ï¼šä¸Šä¸‹æ–‡å˜é•¿åï¼Œè¾“å‡ºä¸€è‡´æ€§ ä½ å¯ä»¥åœ¨æ¯ä¸ªä»»åŠ¡ç»“æŸæ—¶è®°ä¸€æ¡æ—¥å¿—ï¼š\necho \u0026#34;$(date +%F_%T),task=api-refactor,model=codex,cost=0.42,time_min=26,review_round=2\u0026#34; \u0026gt;\u0026gt; .ai-benchmark.csv å¯ç›´æ¥æŠ„çš„åä½œæµç¨‹ï¼ˆæœ¬åœ°ä»“åº“ï¼‰ 1) å…ˆè®© Claude Code å®šâ€œä»»åŠ¡è¾¹ç•Œâ€ ç»™ Claude Code çš„ prompt æ¨¡æ¿ï¼š\nä½ æ˜¯ Tech Leadã€‚ ç›®æ ‡ï¼šæŠŠ UserService çš„é‰´æƒé€»è¾‘ä» controller ä¸‹æ²‰åˆ° middlewareã€‚ è¯·è¾“å‡ºï¼š 1) å˜æ›´æ¸…å•ï¼ˆæŒ‰æ–‡ä»¶ï¼‰ 2) é£é™©ç‚¹ 3) éªŒæ”¶æ ‡å‡† 4) å›æ»šæ–¹æ¡ˆ äº§ç‰©è¦æ±‚ï¼š\næ–‡ä»¶çº§å˜æ›´æ¸…å•ï¼ˆé¿å…å¤§è€Œç©ºï¼‰ æ˜ç¡®â€œä¸åšä»€ä¹ˆâ€ï¼ˆé˜²èŒƒå›´è†¨èƒ€ï¼‰ éªŒæ”¶æ ‡å‡†å¯è‡ªåŠ¨åŒ–ï¼ˆtest/lint/buildï¼‰ 2) å†è®© Codex åšâ€œæ‰¹é‡è½åœ°â€ Codex æ‰§è¡Œæ¨¡æ¿ï¼š\næŒ‰ä»¥ä¸‹æ¸…å•æ”¹ä»£ç ï¼Œä¸è¦æ”¹æœªåˆ—å‡ºçš„æ–‡ä»¶ã€‚ å®Œæˆåå¿…é¡»ï¼š - è¿è¡Œæµ‹è¯• - è¾“å‡ºå˜æ›´æ‘˜è¦ - æ ‡æ³¨é«˜é£é™© diff è¿™ä¸€æ­¥æœ€å®¹æ˜“æé€Ÿï¼Œå°¤å…¶æ˜¯ï¼š\næœºæ¢°æ€§ rename è·¨æ–‡ä»¶æ¥å£å¯¹é½ å•æµ‹è¡¥é½ README/æ³¨é‡ŠåŒæ­¥ 3) å›åˆ° Claude Code åšâ€œè´¨é‡é—¸é—¨â€ è®© Claude Code ä¸“é—¨åš 3 ä»¶äº‹ï¼š\næ£€æŸ¥è®¾è®¡ä¸€è‡´æ€§ï¼ˆæœ‰æ²¡æœ‰å·å·æ­ªæ¥¼ï¼‰ æ£€æŸ¥è¾¹ç•Œåœºæ™¯ï¼ˆç©ºå€¼ã€å¹¶å‘ã€é‡è¯•ã€è¶…æ—¶ï¼‰ ç»™å‡º reviewer è§†è§’çš„â€œé«˜é£é™©ç‚¹â€ å®æˆ˜é‡Œæœ€å€¼é’±çš„ 5 æ¡è§„åˆ™ æ¯ä¸ªæ¨¡å‹åªè´Ÿè´£ä¸€ç§è§’è‰²ï¼Œåˆ«æ··ç”¨ã€‚ ä¸€è½®æœ€å¤š 1 ä¸ªå­ç›®æ ‡ï¼Œå¦åˆ™ä¸Šä¸‹æ–‡æ±¡æŸ“å¾ˆå¿«ã€‚ æ‰€æœ‰ AI ç»“æœå¿…é¡»å¯å›æ”¾ï¼ˆprompt + diff + æµ‹è¯•ç»“æœï¼‰ã€‚ ä¸é€šè¿‡æµ‹è¯•å°±ä¸è¿›å…¥ä¸‹ä¸€è½®ã€‚ å‡ºç°ä¸¤æ¬¡è¿”å·¥å°±æ¢æ¨¡å‹è§’è‰²ï¼Œä¸è¦ç¡¬æ‰›ã€‚ å¸¸è§ç¿»è½¦ç‚¹ä¸æ’æŸ¥ é—®é¢˜ 1ï¼šé€Ÿåº¦å¿«äº†ï¼Œä½†å›æ»šå˜å¤š åŸå› é€šå¸¸æ˜¯ Codex æ”¹å¾—å¤ªæ•£ã€è·¨è¶Šè¾¹ç•Œã€‚\nå¤„ç†ï¼š\nåŠ â€œç™½åå•æ–‡ä»¶â€é™åˆ¶ æ¯æ¬¡åªå…è®¸ä¸€ä¸ªä¸»é¢˜æ”¹åŠ¨ å¼ºåˆ¶è¾“å‡º git diff --stat git diff --stat git diff --name-only é—®é¢˜ 2ï¼šClaude ç»™çš„æ–¹æ¡ˆå¥½ï¼Œä½†è½åœ°æ…¢ åŸå› é€šå¸¸æ˜¯æ–¹æ¡ˆç²’åº¦å¤ªå¤§ã€‚\nå¤„ç†ï¼š\nè®© Claude å…ˆç»™â€œæœ€å°å¯åˆå¹¶ç‰ˆæœ¬ï¼ˆMMPï¼‰â€ æŠŠä»»åŠ¡åˆ‡æˆ 30-60 åˆ†é’Ÿå¯å®Œæˆçš„å— é—®é¢˜ 3ï¼šä¸¤ä¸ªæ¨¡å‹ç»“è®ºäº’ç›¸å†²çª å¤„ç†ä¼˜å…ˆçº§ï¼š\nä»¥æµ‹è¯•ä¸ç›‘æ§æ•°æ®ä¸ºå‡† ä»¥ç³»ç»Ÿçº¦æŸï¼ˆSLAã€å…¼å®¹æ€§ï¼‰ä¸ºå‡† ä»¥æœ€å°é£é™©å˜æ›´ä¸ºå‡† ä¸€å¥—è½»é‡è‡ªåŠ¨åŒ–ï¼ˆå¯é€‰ï¼‰ # 1) è®°å½•ä»»åŠ¡å¼€å§‹ TASK_ID=\u0026#34;auth-mw-$(date +%s)\u0026#34; echo \u0026#34;$TASK_ID,start,$(date +%s)\u0026#34; \u0026gt;\u0026gt; .ai-run.log # 2) æ‰§è¡Œæµ‹è¯•ï¼ˆç¤ºä¾‹ï¼‰ npm test # 3) è®°å½•ç»“æŸ echo \u0026#34;$TASK_ID,end,$(date +%s)\u0026#34; \u0026gt;\u0026gt; .ai-run.log å†é…ä¸€ä¸ªç®€å•è„šæœ¬ç»Ÿè®¡å¹³å‡è€—æ—¶å’Œè¿”å·¥ç‡ï¼Œå°±èƒ½çŸ¥é“ä½ çš„åä½œç­–ç•¥åˆ°åº•æœ‰æ²¡æœ‰çœé’±ã€‚\nä»€ä¹ˆæ—¶å€™ä¸è¯¥ç”¨åŒæ¨¡å‹ é¡¹ç›®æå°ï¼ˆ1-2 ä¸ªæ–‡ä»¶æ”¹åŠ¨ï¼‰ æ—¶é™æçŸ­ï¼ˆ10 åˆ†é’Ÿå†…å¿…é¡»å‡ºç»“æœï¼‰ å›¢é˜Ÿæ²¡æœ‰ review ä¹ æƒ¯ï¼ˆä¼šæ”¾å¤§é£é™©ï¼‰ è¿™æ—¶å€™å•æ¨¡å‹ç›´æ¨æ›´å¿«ï¼Œæµç¨‹æˆæœ¬æ›´ä½ã€‚\næ€»ç»“ å¤šæ¨¡å‹åä½œä¸æ˜¯â€œæ›´é«˜çº§â€ï¼Œè€Œæ˜¯æŠŠä¸åŒæ¨¡å‹æ”¾åœ¨æœ€æ“…é•¿çš„ä½ç½®ã€‚\nå¦‚æœä½ ç°åœ¨çš„ç—›ç‚¹æ˜¯â€œæ”¹å¾—å¿«ä½†ä¸ç¨³â€ï¼Œå…ˆè®© Claude åšè¾¹ç•Œå’ŒéªŒæ”¶ï¼Œå†è®© Codex æ‰¹é‡æ‰§è¡Œï¼›å¦‚æœç—›ç‚¹æ˜¯â€œæ–¹æ¡ˆå¥½ä½†é€Ÿåº¦æ…¢â€ï¼Œå°±æŠŠä»»åŠ¡åˆ‡å°å¹¶è®© Codex åƒæ‰æœºæ¢°å·¥ä½œã€‚\nå…ˆè·‘ 2 å‘¨ã€è®°å½• 20 ä¸ªä»»åŠ¡ï¼Œå†å†³å®šä½ çš„æœ€ç»ˆé…æ¯”ã€‚åˆ«é æ„Ÿè§‰ï¼Œé æ•°æ®ã€‚\n","permalink":"https://www.mfun.ink/2026/02/15/claude-code-codex-multi-model-collaboration/","summary":"\u003cp\u003eå¦‚æœä½ ç°åœ¨è¿˜åœ¨â€œä¸€ä¸ªæ¨¡å‹å¹²åˆ°åº•â€ï¼Œå¤§æ¦‚ç‡ä¼šé‡åˆ°ä¸‰ä¸ªé—®é¢˜ï¼šè¦ä¹ˆè´µã€è¦ä¹ˆæ…¢ã€è¦ä¹ˆè¿”å·¥å¤šã€‚\u003c/p\u003e\n\u003cp\u003eæ›´å®ç”¨çš„åšæ³•æ˜¯ï¼šæŠŠ Claude Code å’Œ Codex å½“æˆä¸¤ä¸ªä¸åŒå²—ä½æ¥é…åˆâ€”â€”ä¸€ä¸ªåé•¿é“¾è·¯è§„åˆ’å’Œé‡æ„ï¼Œä¸€ä¸ªåå¿«é€Ÿä»£ç è½åœ°å’Œæ‰¹é‡æ‰§è¡Œã€‚\u003c/p\u003e","title":"Claude Code + Codex å¤šæ¨¡å‹åä½œå¼€å‘ï¼šæˆæœ¬ã€é€Ÿåº¦ä¸è´¨é‡å¯¹æ¯”ï¼ˆå«å¯å¤ç”¨æµç¨‹ï¼‰"},{"content":"If your Go service RSS keeps climbing, drops after restart, then climbs again, you likely have a memory retention problem (or an actual leak pattern).\nDo not start with random code edits. Run a clean evidence chain: metrics trend check â†’ pprof snapshots â†’ FlameGraph comparison â†’ object growth path â†’ regression validation.\nTL;DR Trend beats point-in-time values. Use heap + allocs + GC metrics together, or you will misdiagnose normal cache growth. Start with go tool pprof; use FlameGraph to pinpoint the business call path. 1) Confirm it is likely a real leak pattern Watch these three metrics first:\nprocess_resident_memory_bytes (RSS) go_memstats_heap_inuse_bytes go_memstats_heap_objects Escalate to leak triage when:\nQPS is stable (or lower) RSS and heap objects still rise over time Full GC does not bring memory down meaningfully 2) Expose pprof safely (internal only) Standard setup import _ \u0026#34;net/http/pprof\u0026#34; func init() { go func() { // internal or localhost only _ = http.ListenAndServe(\u0026#34;127.0.0.1:6060\u0026#34;, nil) }() } Use a dedicated debug port if your service framework is Gin/Echo/Fiber.\nCollect snapshots curl -s http://127.0.0.1:6060/debug/pprof/heap \u0026gt; heap_1.pb.gz sleep 300 curl -s http://127.0.0.1:6060/debug/pprof/heap \u0026gt; heap_2.pb.gz curl -s http://127.0.0.1:6060/debug/pprof/allocs \u0026gt; allocs.pb.gz Always collect at least two time-separated heap snapshots.\n3) Use pprof to find growth owners go tool pprof -top heap_1.pb.gz go tool pprof -top heap_2.pb.gz go tool pprof -base heap_1.pb.gz heap_2.pb.gz Focus on:\nBiggest growth in inuse_space Call paths that keep expanding Object-heavy types (map, slice, string, buffers) Common leak patterns:\nGlobal map that only grows Goroutine leak keeping references alive Cache without TTL/LRU limits Channel backlog retaining payloads 4) FlameGraph for call-path attribution go tool pprof -http=:8081 heap_2.pb.gz In FlameGraph:\nWider block = larger memory share Drill down to business-level functions Compare early vs later snapshots to find widening chains A widening path like BuildResponse -\u0026gt; append -\u0026gt; json.Marshal often indicates oversized object assembly plus retained references.\n5) Practical fix example Problematic pattern var userCache = map[string]*UserProfile{} func GetUserProfile(uid string) *UserProfile { if v, ok := userCache[uid]; ok { return v } p := loadProfile(uid) userCache[uid] = p return p } With high-cardinality user IDs, this grows forever.\nBetter approach Add size limit (LRU) Add expiration (TTL) Add observability (size, hit rate, evictions) Pseudo example:\ncache := lru.NewWithTTL(20000, 10*time.Minute) 6) Regression validation (no gut feeling) After the fix:\nRun the same load profile for 30â€“60 minutes Compare heap_objects slope before/after Re-capture heap and run -base comparison Healthy result:\nObject count plateaus heap_inuse drops after GC cycles RSS fluctuates but no longer trends one-way up 7) On-call checklist pprof endpoint is internal-only at least two heap snapshots (\u0026gt;=5 min apart) -base delta analysis completed goroutine count checked cache has limit + TTL post-fix load regression completed Summary In most Go incidents, â€œmemory leakâ€ is not GC failure; it is retention caused by uncontrolled reference paths.\nIf you run the full chain (metrics â†’ pprof â†’ FlameGraph â†’ fix â†’ regression), you move from guessing to proof-driven incident handlingâ€”and that is what actually fixes production issues fast.\n","permalink":"https://www.mfun.ink/english/post/go-memory-leak-pprof-flamegraph/","summary":"\u003cp\u003eIf your Go service RSS keeps climbing, drops after restart, then climbs again, you likely have a memory retention problem (or an actual leak pattern).\u003c/p\u003e\n\u003cp\u003eDo not start with random code edits. Run a clean evidence chain: \u003cstrong\u003emetrics trend check â†’ pprof snapshots â†’ FlameGraph comparison â†’ object growth path â†’ regression validation\u003c/strong\u003e.\u003c/p\u003e","title":"Go Memory Leak Triage in Production: pprof + FlameGraph Step by Step"},{"content":"çº¿ä¸Š Go æœåŠ¡ RSS ä¸€è·¯æ¶¨ï¼Œé‡å¯åçŸ­æš‚æ¢å¤ï¼Œè¿‡å‡ å°æ—¶ç»§ç»­æ¶¨â€”â€”è¿™å°±æ˜¯å…¸å‹â€œç–‘ä¼¼å†…å­˜æ³„æ¼â€åœºæ™¯ã€‚\nåˆ«å…ˆæ‹è„‘è¢‹æ”¹ä»£ç ï¼Œå…ˆæŠŠè¯æ®é“¾è·‘é€šï¼šç›‘æ§ç¡®è®¤ â†’ pprof é‡‡æ · â†’ FlameGraph å¯¹æ¯” â†’ å®šä½å¯¹è±¡å¢é•¿è·¯å¾„ â†’ å›å½’éªŒè¯ã€‚è¿™å¥—æµç¨‹è·‘å®Œï¼ŒåŸºæœ¬èƒ½æŠŠâ€œç„å­¦æ³„æ¼â€æ‰“æˆâ€œå¯å¤ç° bugâ€ã€‚\nä¸€å¥è¯ç»“è®º å…ˆçœ‹è¶‹åŠ¿ï¼Œä¸è¦åªçœ‹æŸä¸€åˆ»å†…å­˜å€¼ã€‚ ç”¨ heap + allocs + GC æŒ‡æ ‡ä¸€èµ·åˆ¤æ–­ï¼Œé¿å…è¯¯åˆ¤â€œç¼“å­˜å¢é•¿â€ã€‚ çº¿ä¸Šæ’æŸ¥ä¼˜å…ˆç”¨ go tool pprofï¼Œå¤æ‚è°ƒç”¨é“¾å†ä¸Š FlameGraphã€‚ ä¸€ã€å…ˆç¡®è®¤æ˜¯ä¸æ˜¯â€œçœŸæ³„æ¼â€ å…ˆåœ¨ç›‘æ§çœ‹ 3 ç»„æŒ‡æ ‡ï¼š\nprocess_resident_memory_bytesï¼ˆè¿›ç¨‹ RSSï¼‰ go_memstats_heap_inuse_bytes go_memstats_heap_objects å¦‚æœç°è±¡æ˜¯ï¼š\nQPS ç¨³å®šç”šè‡³ä¸‹é™ RSS å’Œ Heap Objects ä»æŒç»­çˆ¬å‡ Full GC åä¹Ÿä¸æ˜æ˜¾å›è½ é‚£åŸºæœ¬å°±å€¼å¾—è¿›å…¥æ³„æ¼æ’æŸ¥ã€‚\näºŒã€ç»™æœåŠ¡æš´éœ² pprofï¼ˆä»…å†…ç½‘ï¼‰ 1) æ ‡å‡†æ–¹å¼æ¥å…¥ import _ \u0026#34;net/http/pprof\u0026#34; func init() { go func() { // åªç›‘å¬å†…ç½‘æˆ– localhostï¼Œåˆ«è£¸å¥”åˆ°å…¬ç½‘ _ = http.ListenAndServe(\u0026#34;127.0.0.1:6060\u0026#34;, nil) }() } å¦‚æœä½ ç”¨ Gin/Echoï¼Œä¹Ÿå¯ä»¥å•ç‹¬èµ·ä¸€ä¸ª debug ç«¯å£ï¼Œé¿å…ä¸šåŠ¡è·¯ç”±æ±¡æŸ“ã€‚\n2) é‡‡æ ·å‘½ä»¤ï¼ˆçº¿ä¸Šå¯ç›´æ¥è·‘ï¼‰ # å½“å‰å †å¿«ç…§ curl -s http://127.0.0.1:6060/debug/pprof/heap \u0026gt; heap_1.pb.gz sleep 300 curl -s http://127.0.0.1:6060/debug/pprof/heap \u0026gt; heap_2.pb.gz # åˆ†é…è§†è§’ï¼ˆçœ‹è°åœ¨ç–¯ç‹‚åˆ†é…ï¼‰ curl -s http://127.0.0.1:6060/debug/pprof/allocs \u0026gt; allocs.pb.gz å…³é”®ç‚¹ï¼šè‡³å°‘æŠ“ä¸¤ä»½é—´éš”æ ·æœ¬ï¼Œå•æ ·æœ¬å¾ˆéš¾åˆ¤æ–­â€œå¢é•¿è´£ä»»æ–¹â€ã€‚\nä¸‰ã€ç”¨ pprof å¿«é€Ÿé”å®šå¢é•¿å¯¹è±¡ go tool pprof -top heap_1.pb.gz go tool pprof -top heap_2.pb.gz go tool pprof -base heap_1.pb.gz heap_2.pb.gz é‡ç‚¹å…³æ³¨ï¼š\ninuse_space å¢é•¿æœ€å¤§çš„ç±»å‹ åŒä¸€è°ƒç”¨è·¯å¾„æ˜¯å¦æŒç»­æ‰©å¤§ æ˜¯å¦é›†ä¸­åœ¨ map/slice/string/buffer ç›¸å…³å¯¹è±¡ å¸¸è§æ³„æ¼æ¨¡å¼ï¼š\nå…¨å±€ map åªå¢ä¸åˆ ï¼ˆkey æŒç»­å¢é•¿ï¼‰ goroutine æ³„æ¼æŒæœ‰å¼•ç”¨ï¼Œå¯¼è‡´å¯¹è±¡æ— æ³•å›æ”¶ ç¼“å­˜æ²¡æœ‰ TTL/LRUï¼Œä¸Šé™å¤±æ§ channel ç§¯å‹å¯¼è‡´å¯¹è±¡æ»ç•™ å››ã€FlameGraph çœ‹è°ƒç”¨é“¾ï¼ˆå®šä½â€œè°åœ¨å…»èƒ–å®ƒâ€ï¼‰ go tool pprof -http=:8081 heap_2.pb.gz æµè§ˆå™¨æ‰“å¼€åçœ‹ FlameGraphï¼š\næ¨ªå‘è¶Šå®½ï¼Œå†…å­˜å ç”¨è¶Šå¤§ æ²¿è°ƒç”¨æ ˆå¾€ä¸‹é’»ï¼Œæ‰¾åˆ°ä¸šåŠ¡å‡½æ•°å…¥å£ å¯¹æ¯” heap_1 å’Œ heap_2ï¼Œçœ‹æ˜¯å“ªæ¡é“¾åœ¨æŒç»­å˜å®½ å¦‚æœä½ çœ‹åˆ°æŸæ¡ BuildXXXResponse -\u0026gt; append -\u0026gt; json.Marshal é“¾é•¿æœŸå˜å®½ï¼Œåæœ‰å…«ä¹æ˜¯å¤§å¯¹è±¡æ‹¼è£… + ç¼“å­˜å¼•ç”¨æ²¡é‡Šæ”¾ã€‚\näº”ã€ä¸€ä¸ªçœŸå®ä¿®å¤ç¤ºä¾‹ï¼ˆå¯ç›´æ¥å‚è€ƒï¼‰ é—®é¢˜ä»£ç ï¼ˆç®€åŒ–ï¼‰ var userCache = map[string]*UserProfile{} func GetUserProfile(uid string) *UserProfile { if v, ok := userCache[uid]; ok { return v } p := loadProfile(uid) userCache[uid] = p return p } è¿™æ®µåœ¨é«˜åŸºæ•° UID ä¸‹ä¼šæ— é™å¢é•¿ã€‚\nä¿®å¤æ–¹æ¡ˆ åŠ ä¸Šé™ï¼ˆLRUï¼‰ åŠ è¿‡æœŸï¼ˆTTLï¼‰ åŠ è§‚æµ‹ï¼ˆç¼“å­˜å¤§å°ã€å‘½ä¸­ç‡ã€æ·˜æ±°æ¬¡æ•°ï¼‰ ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼‰ï¼š\ncache := lru.NewWithTTL(20000, 10*time.Minute) å…­ã€å›å½’éªŒè¯ï¼šåˆ«â€œæ„Ÿè§‰å¥½äº†â€ ä¿®å¤åè‡³å°‘åšè¿™ 3 ä»¶äº‹ï¼š\nåŒè´Ÿè½½å‹æµ‹ 30~60 åˆ†é’Ÿ å¯¹æ¯”ä¿®å¤å‰å heap_objects æ–œç‡ å¤æŠ“ heap å¹¶åš -base å¯¹æ¯” ç†æƒ³çŠ¶æ€ï¼š\nå¯¹è±¡æ€»é‡è¿›å…¥å¹³å°æœŸ GC å heap_inuse æ˜æ˜¾å›è½ RSS æ³¢åŠ¨ä½†ä¸å†å•è¾¹ä¸Šå‡ ä¸ƒã€æ’æŸ¥æ¸…å•ï¼ˆå€¼ç­æ—¶ç›´æ¥æŠ„ï¼‰ pprof ç«¯å£ä»…å†…ç½‘å¯è¾¾ è‡³å°‘ä¸¤ä»½ heap æ ·æœ¬ï¼ˆé—´éš” \u0026gt;= 5 åˆ†é’Ÿï¼‰ ä½¿ç”¨ -base åšå¢é‡å¯¹æ¯” éªŒè¯ goroutine æ˜¯å¦å¼‚å¸¸å¢é•¿ éªŒè¯ç¼“å­˜æ˜¯å¦æœ‰ä¸Šé™ + è¿‡æœŸ ä¿®å¤ååšåŒæ¡ä»¶å›å½’å‹æµ‹ æ€»ç»“ Go çš„â€œå†…å­˜æ³„æ¼â€å¤§å¤šä¸æ˜¯ GC å¤±çµï¼Œè€Œæ˜¯å¯¹è±¡å¼•ç”¨è·¯å¾„è®¾è®¡å¤±æ§ã€‚\næŠŠè¯æ®é“¾èµ°å®Œæ•´ï¼šç›‘æ§ â†’ pprof â†’ FlameGraph â†’ ä¿®å¤ â†’ å›å½’ï¼Œä½ å°±èƒ½æŠŠé—®é¢˜ä»â€œçŒœâ€å˜æˆâ€œè¯æ®é©±åŠ¨â€ã€‚è¿™æ¯”ç›²æ”¹å¿«å¾—å¤šï¼Œä¹Ÿå®‰å…¨å¾—å¤šã€‚\n","permalink":"https://www.mfun.ink/2026/02/14/go-memory-leak-pprof-flamegraph/","summary":"\u003cp\u003eçº¿ä¸Š Go æœåŠ¡ RSS ä¸€è·¯æ¶¨ï¼Œé‡å¯åçŸ­æš‚æ¢å¤ï¼Œè¿‡å‡ å°æ—¶ç»§ç»­æ¶¨â€”â€”è¿™å°±æ˜¯å…¸å‹â€œç–‘ä¼¼å†…å­˜æ³„æ¼â€åœºæ™¯ã€‚\u003c/p\u003e\n\u003cp\u003eåˆ«å…ˆæ‹è„‘è¢‹æ”¹ä»£ç ï¼Œå…ˆæŠŠè¯æ®é“¾è·‘é€šï¼š\u003cstrong\u003eç›‘æ§ç¡®è®¤ â†’ pprof é‡‡æ · â†’ FlameGraph å¯¹æ¯” â†’ å®šä½å¯¹è±¡å¢é•¿è·¯å¾„ â†’ å›å½’éªŒè¯\u003c/strong\u003eã€‚è¿™å¥—æµç¨‹è·‘å®Œï¼ŒåŸºæœ¬èƒ½æŠŠâ€œç„å­¦æ³„æ¼â€æ‰“æˆâ€œå¯å¤ç° bugâ€ã€‚\u003c/p\u003e","title":"Go æœåŠ¡å†…å­˜æ³„æ¼å®šä½å®æˆ˜ï¼špprof + FlameGraph ä¸€æ¬¡æ‰¾å‡†"},{"content":"If you\u0026rsquo;ve already used function calling but keep writing glue code for every non-trivial task, you\u0026rsquo;re likely at the point where Responses API + MCP makes more sense.\nThis guide is practical: how to move from single tool calls to a scalable agent workflow where retrieval, execution, validation, and write-back follow a consistent structure.\nOne-line conclusion Function Calling is good for isolated single-step tool use. Responses API + MCP is better for multi-step, multi-tool, stateful workflows. What you need is not just better prompting, but a better tool protocol and workflow architecture. 1) Clarify the boundary: Function Calling vs MCP Typical function-calling pain points At scale, teams usually hit these issues:\nTool definitions are scattered across business code. Cross-tool orchestration needs custom state machines. Permissions and observability are inconsistent. What MCP actually fixes MCP (Model Context Protocol) is a standard layer for tool integration:\nTool discovery Unified invocation schema Better isolation and permission boundaries Traceable tool execution 2) MVP architecture that works Start with a simple three-layer setup:\nOrchestrator: business entry point Model Layer: Responses API for reasoning and routing Tool Layer: MCP servers exposing retrieval/read/write/ops tools Flow:\nUser task enters orchestrator Model decomposes task and selects tools MCP tools return structured results Model continues or finalizes output 3) Reusable calling skeleton Simplified pseudo-code (focus on shape, not SDK details):\nfrom openai import OpenAI client = OpenAI() tools = [ { \u0026#34;type\u0026#34;: \u0026#34;mcp\u0026#34;, \u0026#34;server_label\u0026#34;: \u0026#34;docs\u0026#34;, \u0026#34;server_url\u0026#34;: \u0026#34;http://127.0.0.1:8080/mcp\u0026#34; }, { \u0026#34;type\u0026#34;: \u0026#34;mcp\u0026#34;, \u0026#34;server_label\u0026#34;: \u0026#34;ops\u0026#34;, \u0026#34;server_url\u0026#34;: \u0026#34;http://127.0.0.1:8081/mcp\u0026#34; } ] resp = client.responses.create( model=\u0026#34;gpt-5\u0026#34;, input=\u0026#34;Find root cause of last night\u0026#39;s failed deployment and propose a fix plan\u0026#34;, tools=tools ) print(resp.output_text) Add a hard safety policy early:\nPOLICY = { \u0026#34;dangerous_actions_require_approval\u0026#34;: True, \u0026#34;readonly_tools_default\u0026#34;: True, \u0026#34;max_tool_hops\u0026#34;: 8 } 4) Reliability and debugging (the part most teams skip) 1) Enforce structured JSON output from tools Do not return free-form text only. Keep at least:\n{ \u0026#34;status\u0026#34;: \u0026#34;ok\u0026#34;, \u0026#34;data\u0026#34;: {}, \u0026#34;error\u0026#34;: null, \u0026#34;trace_id\u0026#34;: \u0026#34;...\u0026#34; } This dramatically improves model decision stability in subsequent steps.\n2) Add timeout and retry controls per tool # pseudo config TOOL_TIMEOUT_MS=8000 TOOL_MAX_RETRY=2 TOOL_RETRY_BACKOFF_MS=300 3) Keep replayable logs At minimum, log:\nOriginal task Model decision summary Every MCP request/response Final output Without replay logs, production debugging becomes guesswork.\n5) Common mistakes Mistake 1: Treating MCP as a magic plugin layer MCP is a protocol, not a business model. Bad tool design stays bad.\nMistake 2: Adding too many tools too early More tools can reduce routing stability. Start with 3â€“5 high-value tools.\nMistake 3: Measuring demo quality, not long-run reliability Track these metrics:\nMulti-step task completion rate Tool failure rate Average tool hops Human takeover rate 6) Minimum practical rollout checklist Pick one narrow scenario (e.g., deploy incident triage). Integrate only three MCP tools (logs, config read, fix suggestion). Use Responses API for decomposition and routing. Gate dangerous actions with human approval. Run for one week and iterate on failure paths. This is where an agent moves from â€œworks in demoâ€ to â€œworks in productionâ€.\nSummary Responses API is the brain, MCP is the hands, workflow is the operating discipline.\nYou need all three aligned for production-grade agent systems.\nIf you\u0026rsquo;re migrating from function calling, use this path: single-scenario MVP â†’ metrics â†’ gradual tool expansion.\n","permalink":"https://www.mfun.ink/english/post/openai-responses-api-mcp-agent-workflow/","summary":"\u003cp\u003eIf you\u0026rsquo;ve already used function calling but keep writing glue code for every non-trivial task, you\u0026rsquo;re likely at the point where \u003cstrong\u003eResponses API + MCP\u003c/strong\u003e makes more sense.\u003c/p\u003e\n\u003cp\u003eThis guide is practical: how to move from single tool calls to a scalable agent workflow where retrieval, execution, validation, and write-back follow a consistent structure.\u003c/p\u003e","title":"OpenAI Responses API + MCP in Practice: From Function Calling to Agent Workflows"},{"content":"å¦‚æœä½ å·²ç»åšè¿‡å‡½æ•°è°ƒç”¨ï¼ˆfunction callingï¼‰ï¼Œä½†ä¸€ä¸Šå¤æ‚æµç¨‹å°±å¼€å§‹å†™ä¸€å †èƒ¶æ°´ä»£ç ï¼Œé‚£ä½ å·®ä¸å¤šåˆ°äº†è¯¥ç”¨ Responses API + MCP çš„é˜¶æ®µã€‚\nè¿™ç¯‡ä¸è®²ç©ºæ¦‚å¿µï¼Œç›´æ¥ç»™ä½ ä¸€ä¸ªå¯è½åœ°çš„è·¯çº¿ï¼šæŠŠâ€œæ¨¡å‹è°ƒç”¨å·¥å…·â€å‡çº§æˆâ€œå¯æ‰©å±• Agent å·¥ä½œæµâ€ï¼Œè®©æ£€ç´¢ã€æ‰§è¡Œã€æ ¡éªŒã€å›å†™å˜æˆæ ‡å‡†æµç¨‹ã€‚\nä¸€å¥è¯ç»“è®º Function Calling é€‚åˆå•æ¬¡å·¥å…·è°ƒç”¨ã€‚ Responses API + MCP é€‚åˆå¤šå·¥å…·ã€å¤šæ­¥éª¤ã€æœ‰çŠ¶æ€çš„ä»»åŠ¡ç¼–æ’ã€‚ ä½ çœŸæ­£éœ€è¦çš„ä¸æ˜¯æ›´å¼ºçš„ promptï¼Œè€Œæ˜¯æ›´ç¨³å®šçš„â€œå·¥å…·å±‚åè®® + å·¥ä½œæµç»“æ„â€ã€‚ ä¸€ã€å…ˆæŠŠè¾¹ç•Œè¯´æ¸…æ¥šï¼šFunction Calling vs MCP Function Calling çš„å…¸å‹é—®é¢˜ ä½ ä¼šå¾ˆå¿«é‡åˆ°è¿™å‡ ä¸ªå‘ï¼š\nå·¥å…·æ³¨å†Œåˆ†æ•£åœ¨ä¸šåŠ¡ä»£ç é‡Œï¼Œé¡¹ç›®ä¸€å¤§å°±éš¾ç»´æŠ¤ã€‚ è·¨å·¥å…·åä½œï¼ˆæ¯”å¦‚å…ˆæŸ¥æ–‡æ¡£å†æ”¹é…ç½®å†å›å†™ï¼‰è¦è‡ªå·±æ‰‹æ“çŠ¶æ€æœºã€‚ å·¥å…·æƒé™å’Œå¯è§‚æµ‹æ€§ä¸ç»Ÿä¸€ï¼Œæ’éšœé çŒœã€‚ MCP è§£å†³çš„æ ¸å¿ƒç‚¹ MCPï¼ˆModel Context Protocolï¼‰ä¸æ˜¯â€œåˆä¸€ä¸ª SDKâ€ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯å·¥å…·å±‚æ ‡å‡†åŒ–ï¼š\nå·¥å…·å‘ç°ï¼šæ¨¡å‹çŸ¥é“æœ‰ä»€ä¹ˆå·¥å…·å¯ç”¨ å·¥å…·è°ƒç”¨ï¼šç»Ÿä¸€è¾“å…¥è¾“å‡ºç»“æ„ å·¥å…·éš”ç¦»ï¼šæƒé™è¾¹ç•Œæ›´æ¸…æ™° å¯è§‚æµ‹æ€§ï¼šæ¯ä¸€æ­¥è°ƒç”¨å¯è¿½è¸ª äºŒã€æœ€å°å¯ç”¨æ¶æ„ï¼ˆMVPï¼‰ å»ºè®®ä½ ä»è¿™ä¸ªä¸‰å±‚ç»“æ„èµ·æ­¥ï¼š\nOrchestratorï¼šä½ çš„ä¸šåŠ¡å…¥å£ï¼ˆæ¯”å¦‚ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå™¨ï¼‰ Model Layerï¼šResponses API è´Ÿè´£æ¨ç†ä¸å†³ç­– Tool Layerï¼šé€šè¿‡ MCP æš´éœ²æ£€ç´¢ã€è¯»å†™ã€æ‰§è¡Œç±»å·¥å…· æµç¨‹ç¤ºæ„ï¼š\nç”¨æˆ·ä»»åŠ¡è¿›å…¥ Orchestrator æ¨¡å‹å…ˆæ‹†è§£ä»»åŠ¡ï¼Œå†é€‰æ‹©å·¥å…· MCP å·¥å…·è¿”å›ç»“æ„åŒ–ç»“æœ æ¨¡å‹åŸºäºç»“æœç»§ç»­ä¸‹ä¸€æ­¥æˆ–ç»™ç»“è®º ä¸‰ã€ä¸€ä¸ªå¯å¤åˆ¶çš„è°ƒç”¨éª¨æ¶ ä¸‹é¢æ˜¯ç®€åŒ–ç‰ˆä¼ªä»£ç ï¼ˆé‡ç‚¹çœ‹ç»“æ„ï¼Œä¸çº ç»“ SDK ç»†èŠ‚ï¼‰ï¼š\nfrom openai import OpenAI client = OpenAI() tools = [ { \u0026#34;type\u0026#34;: \u0026#34;mcp\u0026#34;, \u0026#34;server_label\u0026#34;: \u0026#34;docs\u0026#34;, \u0026#34;server_url\u0026#34;: \u0026#34;http://127.0.0.1:8080/mcp\u0026#34; }, { \u0026#34;type\u0026#34;: \u0026#34;mcp\u0026#34;, \u0026#34;server_label\u0026#34;: \u0026#34;ops\u0026#34;, \u0026#34;server_url\u0026#34;: \u0026#34;http://127.0.0.1:8081/mcp\u0026#34; } ] resp = client.responses.create( model=\u0026#34;gpt-5\u0026#34;, input=\u0026#34;å®šä½æ˜¨æ™šéƒ¨ç½²å¤±è´¥åŸå› ï¼Œå¹¶ç»™å‡ºä¿®å¤æ­¥éª¤\u0026#34;, tools=tools ) print(resp.output_text) ä¸€ä¸ªæ›´ç¨³çš„åšæ³•æ˜¯æŠŠâ€œæ‰§è¡Œå‰ç¡®è®¤â€åšæˆç¡¬è§„åˆ™ï¼š\nPOLICY = { \u0026#34;dangerous_actions_require_approval\u0026#34;: True, \u0026#34;readonly_tools_default\u0026#34;: True, \u0026#34;max_tool_hops\u0026#34;: 8 } å››ã€æ’éšœä¸è´¨é‡æ§åˆ¶ï¼ˆè¿™éƒ¨åˆ†æœ€å®¹æ˜“è¢«å¿½ç•¥ï¼‰ 1) è®©å·¥å…·è¾“å‡ºç»“æ„åŒ– JSON ä¸è¦è¿”å›ä¸€å¨è‡ªç„¶è¯­è¨€ï¼Œè‡³å°‘ä¿è¯ï¼š\n{ \u0026#34;status\u0026#34;: \u0026#34;ok\u0026#34;, \u0026#34;data\u0026#34;: {}, \u0026#34;error\u0026#34;: null, \u0026#34;trace_id\u0026#34;: \u0026#34;...\u0026#34; } è¿™æ ·æ¨¡å‹æ‰èƒ½ç¨³å®šåœ°è¿›è¡Œä¸‹ä¸€æ­¥å†³ç­–ï¼Œè€Œä¸æ˜¯â€œçŒœä½ çš„è¿”å›æ ¼å¼â€ã€‚\n2) ç»™æ¯ä¸ªå·¥å…·åŠ è¶…æ—¶å’Œé‡è¯• # ä¼ªé…ç½®ç¤ºä¾‹ TOOL_TIMEOUT_MS=8000 TOOL_MAX_RETRY=2 TOOL_RETRY_BACKOFF_MS=300 3) è®°å½•å¯å›æ”¾æ—¥å¿— è‡³å°‘è®°å½•ï¼š\nè¾“å…¥ä»»åŠ¡ æ¨¡å‹ä¸­é—´å†³ç­–æ‘˜è¦ æ¯æ¬¡ MCP è°ƒç”¨å…¥å‚ä¸å‡ºå‚ æœ€ç»ˆè¾“å‡º æ²¡æœ‰å›æ”¾æ—¥å¿—ï¼Œçº¿ä¸Šé—®é¢˜åŸºæœ¬ç­‰äºç„å­¦ã€‚\näº”ã€å¸¸è§è¯¯åŒº è¯¯åŒº 1ï¼šæŠŠ MCP å½“â€œä¸‡èƒ½æ’ä»¶ç³»ç»Ÿâ€ MCP æ˜¯åè®®å±‚ï¼Œä¸ä¼šæ›¿ä½ åšä¸šåŠ¡å»ºæ¨¡ã€‚å·¥å…·è®¾è®¡çƒ‚ï¼Œåè®®å†æ ‡å‡†ä¹Ÿæ•‘ä¸å›æ¥ã€‚\nè¯¯åŒº 2ï¼šå·¥å…·è¶Šå¤šè¶Šå¼º é”™ã€‚å·¥å…·å¤ªå¤šä¼šæ‹‰ä½å†³ç­–ç¨³å®šæ€§ã€‚å…ˆåš 3-5 ä¸ªé«˜ä»·å€¼å·¥å…·ï¼Œè·‘é¡ºå†æ‰©ã€‚\nè¯¯åŒº 3ï¼šåªçœ‹é¦–è½®æ•ˆæœï¼Œä¸çœ‹é•¿ä»»åŠ¡ç¨³å®šæ€§ ä½ åº”è¯¥ç›¯çš„æ˜¯ï¼š\nå¤šæ­¥ä»»åŠ¡å®Œæˆç‡ å·¥å…·è°ƒç”¨å¤±è´¥ç‡ å¹³å‡è°ƒç”¨ hops äººå·¥æ¥ç®¡ç‡ å…­ã€æœ€å°è½åœ°æ¸…å•ï¼ˆå¯ç›´æ¥ç…§ç€åšï¼‰ å…ˆé€‰ä¸€ä¸ªå•åœºæ™¯ï¼ˆä¾‹å¦‚â€œå‘å¸ƒæ•…éšœå®šä½â€ï¼‰ã€‚ åªæ¥ 3 ä¸ª MCP å·¥å…·ï¼šæ—¥å¿—æ£€ç´¢ã€é…ç½®è¯»å–ã€æ‰§è¡Œå»ºè®®ã€‚ Responses API åšä»»åŠ¡æ‹†è§£å’Œå·¥å…·è·¯ç”±ã€‚ åŠ å®¡æ‰¹é—¸é—¨ï¼ˆé«˜é£é™©åŠ¨ä½œå¿…é¡»äººç¡®è®¤ï¼‰ã€‚ è·‘ 1 å‘¨æ—¥å¿—ï¼ŒæŒ‰å¤±è´¥è·¯å¾„è¿­ä»£ã€‚ è¿™å¥—åšå®Œï¼Œä½ çš„ Agent æ‰ç®—ä»â€œèƒ½æ¼”ç¤ºâ€å‡çº§åˆ°â€œèƒ½ä¸Šçº¿â€ã€‚\næ€»ç»“ Responses API è´Ÿè´£â€œè„‘å­â€ï¼ŒMCP è´Ÿè´£â€œæ‰‹è„šâ€ï¼Œå·¥ä½œæµè´Ÿè´£â€œè§„çŸ©â€ã€‚\nä¸‰è€…æ‹†å¼€ä½ ä¼šå¾ˆç—›è‹¦ï¼Œç»„åˆèµ·æ¥æ‰æ˜¯ç”Ÿäº§å¯ç”¨çš„ Agent æ¶æ„ã€‚\nå¦‚æœä½ æ­£åœ¨ä» function calling è¿ç§»ï¼Œå»ºè®®æŒ‰â€œå•åœºæ™¯ MVP â†’ æŒ‡æ ‡åŒ– â†’ æ‰©å·¥å…·â€è¿™æ¡è·¯å¾„èµ°ï¼Œåˆ«ä¸€ä¸Šæ¥å°±å…¨å®¶æ¡¶ã€‚\n","permalink":"https://www.mfun.ink/2026/02/11/openai-responses-api-mcp-agent-workflow/","summary":"\u003cp\u003eå¦‚æœä½ å·²ç»åšè¿‡å‡½æ•°è°ƒç”¨ï¼ˆfunction callingï¼‰ï¼Œä½†ä¸€ä¸Šå¤æ‚æµç¨‹å°±å¼€å§‹å†™ä¸€å †èƒ¶æ°´ä»£ç ï¼Œé‚£ä½ å·®ä¸å¤šåˆ°äº†è¯¥ç”¨ \u003cstrong\u003eResponses API + MCP\u003c/strong\u003e çš„é˜¶æ®µã€‚\u003c/p\u003e\n\u003cp\u003eè¿™ç¯‡ä¸è®²ç©ºæ¦‚å¿µï¼Œç›´æ¥ç»™ä½ ä¸€ä¸ªå¯è½åœ°çš„è·¯çº¿ï¼šæŠŠâ€œæ¨¡å‹è°ƒç”¨å·¥å…·â€å‡çº§æˆâ€œå¯æ‰©å±• Agent å·¥ä½œæµâ€ï¼Œè®©æ£€ç´¢ã€æ‰§è¡Œã€æ ¡éªŒã€å›å†™å˜æˆæ ‡å‡†æµç¨‹ã€‚\u003c/p\u003e","title":"OpenAI Responses API + MCP å®æˆ˜ï¼šä»å‡½æ•°è°ƒç”¨åˆ° Agent å·¥ä½œæµ"},{"content":"If your WSL2 + Docker setup suddenly fails with docker pull timeouts, Temporary failure in name resolution, or containers that start but cannot access the internet, don\u0026rsquo;t nuke your environment yet. Most cases are recoverable in 15 minutes.\nThis guide gives you a practical sequence: identify whether the fault is DNS, proxy/VPN, virtual NIC, or Docker daemon configâ€”then apply the smallest fix first.\n1) Identify the failure layer first Run these checks inside WSL:\n# 1) Basic network reachability from WSL ping -c 2 1.1.1.1 curl -I https://registry-1.docker.io # 2) DNS health cat /etc/resolv.conf nslookup registry-1.docker.io # 3) Docker daemon/container network health docker info | sed -n \u0026#39;1,80p\u0026#39; docker run --rm alpine sh -c \u0026#34;ping -c 2 1.1.1.1 \u0026amp;\u0026amp; nslookup google.com\u0026#34; Quick mapping:\nIP works but domain fails: DNS issue. WSL can access network but containers cannot: Docker network/daemon issue. Both fail: check Windows proxy/VPN/firewall first. 2) Fix WSL2 DNS (most common root cause) WSL2 may auto-generate an unusable /etc/resolv.conf. Pin DNS manually to verify:\nsudo tee /etc/wsl.conf \u0026gt;/dev/null \u0026lt;\u0026lt;\u0026#39;CONF\u0026#39; [network] generateResolvConf = false CONF sudo rm -f /etc/resolv.conf printf \u0026#34;nameserver 1.1.1.1\\nnameserver 8.8.8.8\\n\u0026#34; | sudo tee /etc/resolv.conf \u0026gt;/dev/null Then restart WSL from Windows PowerShell:\nwsl --shutdown Retest after relaunch:\nnslookup registry-1.docker.io docker pull alpine:latest 3) Add Docker daemon DNS + registry mirror fallback If DNS is fixed but pulling images is still unstable, add daemon-level fallback:\nsudo mkdir -p /etc/docker sudo tee /etc/docker/daemon.json \u0026gt;/dev/null \u0026lt;\u0026lt;\u0026#39;JSON\u0026#39; { \u0026#34;dns\u0026#34;: [\u0026#34;1.1.1.1\u0026#34;, \u0026#34;8.8.8.8\u0026#34;], \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;https://docker.m.daocloud.io\u0026#34; ] } JSON sudo service docker restart || sudo systemctl restart docker If you\u0026rsquo;re using Docker Desktop with WSL integration, prefer setting DNS/mirrors in Docker Desktop to avoid conflicting configs.\n4) Common errors and targeted fixes 1) Temporary failure in name resolution Meaning: DNS resolution is broken. Fix: apply step 2 and restart WSL. 2) net/http: request canceled while waiting for connection Meaning: outbound traffic blocked by proxy/VPN/firewall/routing. Fix: disable proxy/VPN temporarily and retest; then check enterprise network policy. 3) WSL can reach internet, containers cannot Meaning: Docker bridge/NAT path is broken. Fix: restart Docker service and rebuild networks if needed: docker network prune -f docker network ls docker run --rm alpine ping -c 2 8.8.8.8 5) MVP recovery path (fastest stable route) If you only need things working again quickly:\nPin WSL DNS (wsl.conf + resolv.conf). Run wsl --shutdown and retest docker pull. If still failing, add Docker daemon dns + registry-mirrors. This sequence usually restores WSL2 Docker networking with minimal side effects.\nSuggested follow-up reads WSL2 disk cleanup and performance tuning Docker build cache strategy for CI/CD Unified proxy setup for Docker/apt/git in enterprise networks ","permalink":"https://www.mfun.ink/english/post/wsl2-docker-network-troubleshooting/","summary":"\u003cp\u003eIf your \u003cstrong\u003eWSL2 + Docker\u003c/strong\u003e setup suddenly fails with \u003ccode\u003edocker pull\u003c/code\u003e timeouts, \u003ccode\u003eTemporary failure in name resolution\u003c/code\u003e, or containers that start but cannot access the internet, don\u0026rsquo;t nuke your environment yet. Most cases are recoverable in 15 minutes.\u003c/p\u003e\n\u003cp\u003eThis guide gives you a practical sequence: identify whether the fault is DNS, proxy/VPN, virtual NIC, or Docker daemon configâ€”then apply the smallest fix first.\u003c/p\u003e","title":"WSL2 + Docker Network Troubleshooting: Fix DNS Timeouts and Image Pull Failures"},{"content":"å¦‚æœä½ åœ¨ WSL2 + Docker ç¯å¢ƒé‡Œé‡åˆ° docker pull è¶…æ—¶ã€Temporary failure in name resolutionã€å®¹å™¨èƒ½å¯åŠ¨ä½†ä¸èƒ½è”ç½‘ï¼Œå…ˆåˆ«é‡è£…ç³»ç»Ÿã€‚ç»å¤§å¤šæ•°é—®é¢˜éƒ½èƒ½åœ¨ 15 åˆ†é’Ÿå†…å®šä½å¹¶ä¿®å¥½ã€‚\nè¿™ç¯‡ç»™ä½ ä¸€å¥—å¯å¤åˆ¶çš„æ’æŸ¥é¡ºåºï¼šå…ˆç¡®è®¤æ˜¯ DNSã€ä»£ç†ã€è™šæ‹Ÿç½‘å¡è¿˜æ˜¯ Docker daemon é…ç½®ï¼Œå†æŒ‰æœ€å°æ”¹åŠ¨æ¢å¤ç½‘ç»œã€‚\nä¸€ã€å…ˆåˆ¤å®šæ•…éšœå±‚çº§ï¼ˆåˆ«ä¸Šæ¥å°±ä¹±æ”¹ï¼‰ å…ˆåœ¨ WSL é‡Œè·‘ä¸‹é¢ä¸‰ç»„å‘½ä»¤ï¼š\n# 1) å®¿ä¸»ç½‘ç»œæ˜¯å¦æ­£å¸¸ï¼ˆWSL å†…ï¼‰ ping -c 2 1.1.1.1 curl -I https://registry-1.docker.io # 2) DNS æ˜¯å¦å¼‚å¸¸ cat /etc/resolv.conf nslookup registry-1.docker.io # 3) Docker daemon ä¸å®¹å™¨ç½‘ç»œæ˜¯å¦å¼‚å¸¸ docker info | sed -n \u0026#39;1,80p\u0026#39; docker run --rm alpine sh -c \u0026#34;ping -c 2 1.1.1.1 \u0026amp;\u0026amp; nslookup google.com\u0026#34; å¿«é€Ÿåˆ¤æ–­ï¼š\nping 1.1.1.1 é€šï¼Œä½†åŸŸåä¸é€šï¼šDNS é—®é¢˜ã€‚ WSL èƒ½è”ç½‘ï¼Œå®¹å™¨ä¸èƒ½è”ç½‘ï¼šDocker ç½‘ç»œæˆ– daemon é…ç½®é—®é¢˜ã€‚ å…¨éƒ½ä¸é€šï¼šä¼˜å…ˆæŸ¥ Windows ä¾§ä»£ç†/VPN/é˜²ç«å¢™ã€‚ äºŒã€WSL2 DNS ä¿®å¤ï¼ˆæœ€å¸¸è§ï¼‰ WSL2 å¸¸è§é—®é¢˜æ˜¯ /etc/resolv.conf è¢«è‡ªåŠ¨ç”Ÿæˆæˆä¸å¯ç”¨ DNSã€‚å»ºè®®å…ˆåˆ‡åˆ°å›ºå®š DNS éªŒè¯ï¼š\nsudo tee /etc/wsl.conf \u0026gt;/dev/null \u0026lt;\u0026lt;\u0026#39;CONF\u0026#39; [network] generateResolvConf = false CONF sudo rm -f /etc/resolv.conf printf \u0026#34;nameserver 1.1.1.1\\nnameserver 8.8.8.8\\n\u0026#34; | sudo tee /etc/resolv.conf \u0026gt;/dev/null ç„¶ååœ¨ Windows PowerShell é‡å¯ WSLï¼š\nwsl --shutdown é‡æ–°è¿›å…¥å‘è¡Œç‰ˆåå†æµ‹ï¼š\nnslookup registry-1.docker.io docker pull alpine:latest ä¸‰ã€Docker daemon é•œåƒæºä¸ DNS å…œåº• å¦‚æœ DNS å·²æ¢å¤ï¼Œä½†æ‹‰é•œåƒä¾æ—§æ…¢æˆ–è¶…æ—¶ï¼Œè¡¥ä¸€å±‚ Docker daemon é…ç½®ï¼š\nsudo mkdir -p /etc/docker sudo tee /etc/docker/daemon.json \u0026gt;/dev/null \u0026lt;\u0026lt;\u0026#39;JSON\u0026#39; { \u0026#34;dns\u0026#34;: [\u0026#34;1.1.1.1\u0026#34;, \u0026#34;8.8.8.8\u0026#34;], \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;https://docker.m.daocloud.io\u0026#34; ] } JSON sudo service docker restart || sudo systemctl restart docker å¦‚æœä½ ç”¨çš„æ˜¯ Docker Desktop + WSL é›†æˆï¼Œä¹Ÿå¯ä»¥åœ¨ Docker Desktop è®¾ç½®é‡Œé…ç½® DNS / é•œåƒåŠ é€Ÿï¼Œé¿å…åŒç«¯é…ç½®å†²çªã€‚\nå››ã€å¸¸è§é”™è¯¯ä¸å¯¹åº”å¤„ç† 1) Temporary failure in name resolution ç»“è®ºï¼šDNS é…ç½®å¤±æ•ˆã€‚ å¤„ç†ï¼šæŒ‰â€œç¬¬äºŒæ­¥â€å›ºå®š resolv.confï¼Œå† wsl --shutdownã€‚ 2) net/http: request canceled while waiting for connection ç»“è®ºï¼šç½‘ç»œå‡ºå£è¢«ä»£ç†/VPN/é˜²ç«å¢™æ‹¦æˆªæˆ–è·¯ç”±å¼‚å¸¸ã€‚ å¤„ç†ï¼šå…ˆå…³å…¨å±€ä»£ç†/VPN å¤æµ‹ï¼›å†æ£€æŸ¥å…¬å¸ç½‘ç»œç­–ç•¥ã€‚ 3) WSL èƒ½ä¸Šç½‘ï¼Œå®¹å™¨ä¸èƒ½ ç»“è®ºï¼šDocker bridge/NAT è§„åˆ™å¼‚å¸¸ã€‚ å¤„ç†ï¼šé‡å¯ Docker æœåŠ¡ï¼Œå¿…è¦æ—¶é‡å»ºç½‘ç»œï¼š docker network prune -f docker network ls docker run --rm alpine ping -c 2 8.8.8.8 äº”ã€æœ€å°å¯è¡Œæ¢å¤æ–¹æ¡ˆï¼ˆMVPï¼‰ å¦‚æœä½ åªæƒ³æœ€å¿«æ¢å¤å¯ç”¨ï¼ŒæŒ‰è¿™ä¸ªé¡ºåºï¼š\nå›ºå®š WSL DNSï¼ˆwsl.conf + resolv.confï¼‰ã€‚ wsl --shutdown åé‡æµ‹ docker pullã€‚ ä»å¤±è´¥å†åŠ  Docker daemon dns + registry-mirrorsã€‚ è¿™ä¸‰æ­¥é€šå¸¸å°±èƒ½æŠŠ WSL2 Docker ç½‘ç»œå¼‚å¸¸ æ‹‰å›å¯ç”¨çŠ¶æ€ï¼Œè€Œä¸”ä¸ä¼šå¼•å…¥å¤ªå¤šå‰¯ä½œç”¨ã€‚\nå»¶ä¼¸é˜…è¯»å»ºè®® WSL2 ç£ç›˜æ¸…ç†ä¸æ€§èƒ½ä¼˜åŒ–ï¼ˆå¯å‡å°‘ Docker æ„å»ºæŠ–åŠ¨ï¼‰ Docker æ„å»ºç¼“å­˜ç­–ç•¥ï¼ˆåŠ é€Ÿ CI/CDï¼‰ ä¼ä¸šä»£ç†ä¸‹çš„ Docker/apt/git ç»Ÿä¸€ä»£ç†é…ç½® ","permalink":"https://www.mfun.ink/2026/02/11/wsl2-docker-network-troubleshooting/","summary":"\u003cp\u003eå¦‚æœä½ åœ¨ \u003cstrong\u003eWSL2 + Docker\u003c/strong\u003e ç¯å¢ƒé‡Œé‡åˆ° \u003ccode\u003edocker pull\u003c/code\u003e è¶…æ—¶ã€\u003ccode\u003eTemporary failure in name resolution\u003c/code\u003eã€å®¹å™¨èƒ½å¯åŠ¨ä½†ä¸èƒ½è”ç½‘ï¼Œå…ˆåˆ«é‡è£…ç³»ç»Ÿã€‚ç»å¤§å¤šæ•°é—®é¢˜éƒ½èƒ½åœ¨ 15 åˆ†é’Ÿå†…å®šä½å¹¶ä¿®å¥½ã€‚\u003c/p\u003e\n\u003cp\u003eè¿™ç¯‡ç»™ä½ ä¸€å¥—å¯å¤åˆ¶çš„æ’æŸ¥é¡ºåºï¼šå…ˆç¡®è®¤æ˜¯ DNSã€ä»£ç†ã€è™šæ‹Ÿç½‘å¡è¿˜æ˜¯ Docker daemon é…ç½®ï¼Œå†æŒ‰æœ€å°æ”¹åŠ¨æ¢å¤ç½‘ç»œã€‚\u003c/p\u003e","title":"WSL2 + Docker ç½‘ç»œå¼‚å¸¸æ’æŸ¥ï¼šDNS è¶…æ—¶ã€æ‹‰é•œåƒå¤±è´¥åˆ°æ¢å¤å¯ç”¨"},{"content":"MCP sounds great in theory, but real-world setup often fails at browser debugging: AI cannot reach Chrome, cannot inspect network requests, and cannot collect performance traces. This guide gives you a copy-paste setup that works on Windows + WSL.\nEnvironment Windows 11 + WSL2 Google Chrome on Windows node / npx available inside WSL Any MCP-capable client (for example, Codex CLI) 1) Enable port forwarding and firewall rule on Windows Open PowerShell as Administrator and run:\nnetsh interface portproxy add v4tov4 ` listenaddress=0.0.0.0 listenport=9222 ` connectaddress=127.0.0.1 connectport=9222 New-NetFirewallRule ` -DisplayName \u0026#34;Chrome DevTools MCP 9222\u0026#34; ` -Direction Inbound ` -Protocol TCP ` -LocalPort 9222 ` -Action Allow This allows WSL to reach Chrome\u0026rsquo;s debugging endpoint.\n2) Launch Chrome with remote debugging \u0026amp; \u0026#34;C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\u0026#34; ` --user-data-dir=\u0026#34;$env:USERPROFILE\\ChromeProfiles\\mcp\u0026#34; ` --remote-debugging-port=9222 ` --remote-debugging-address=127.0.0.1 ` --no-first-run ` --no-default-browser-check Use a dedicated user data directory to avoid affecting your daily profile.\n3) Configure DevTools MCP in WSL Example configuration for Codex:\n[mcp_servers.chrome-devtools] command = \u0026#34;npx\u0026#34; args = [\u0026#34;chrome-devtools-mcp@latest\u0026#34;, \u0026#34;--browserUrl=http://172.31.240.1:9222/json\u0026#34;] The gateway IP (172.31.240.1) is environment-specific. Find it via ipconfig on Windows (vEthernet (WSL...)).\n4) Verify connectivity before asking AI to debug curl http://172.31.240.1:9222/json If you get JSON with webSocketDebuggerUrl, the pipeline is ready.\nNow AI can automate:\nConsole error collection Network bottleneck analysis Performance tracing for LCP/INP diagnostics Repeatable regression checks Troubleshooting curl times out Recheck portproxy and firewall rule Confirm Chrome is running with --remote-debugging-port=9222 MCP connects but no pages are visible Use the /json endpoint, not just :9222 Ensure Chrome is running in the expected profile/session Random disconnects Sleep/resume can break old sessions Restart Chrome first, then restart the MCP server Why this matters for content/SEO sites If you operate a blog, page quality affects indexing and engagement. With DevTools MCP connected, browser diagnostics become automation instead of manual QA, which makes technical SEO maintenance much more reliable.\nSummary Three essentials: expose 9222 correctly, launch Chrome with remote debugging, and connect from WSL using the gateway IP and /json. Once this is stable, AI-driven browser debugging finally becomes practical.\n","permalink":"https://www.mfun.ink/english/post/mcp-devtools-mcp-auto-browser-debugging/","summary":"\u003cp\u003eMCP sounds great in theory, but real-world setup often fails at browser debugging: AI cannot reach Chrome, cannot inspect network requests, and cannot collect performance traces. This guide gives you a copy-paste setup that works on Windows + WSL.\u003c/p\u003e","title":"MCP in Practice: Automated Browser Debugging with DevTools MCP"},{"content":"å¾ˆå¤šäººæŠŠ MCP å½“æˆâ€œè®© AI è°ƒå·¥å…·â€çš„æ¦‚å¿µè¯ï¼Œä½†çœŸè½åœ°æ—¶æœ€å¸¸å¡åœ¨æµè§ˆå™¨è°ƒè¯•ï¼šAI è¿ä¸ä¸Š Chromeã€æ‹¿ä¸åˆ°ç½‘ç»œè¯·æ±‚ã€çœ‹ä¸åˆ°æ€§èƒ½ç“¶é¢ˆã€‚è¿™ç¯‡ç›´æ¥ç»™ä½ ä¸€å¥—èƒ½å¤åˆ¶çš„æµç¨‹ï¼ŒæŠŠ DevTools MCP è·‘èµ·æ¥ï¼Œè®© AI èƒ½è‡ªåŠ¨æŸ¥é¡µé¢é—®é¢˜ã€‚\né€‚ç”¨ç¯å¢ƒ Windows 11 + WSL2 Chromeï¼ˆWindows ä¾§ï¼‰ WSL ä¸­å¯ç”¨ node / npx ä»»æ„æ”¯æŒ MCP çš„å®¢æˆ·ç«¯ï¼ˆå¦‚ Codex CLIï¼‰ 1) åœ¨ Windows æ‰“å¼€ 9222 è½¬å‘ä¸é˜²ç«å¢™ ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€ PowerShellï¼Œæ‰§è¡Œï¼š\nnetsh interface portproxy add v4tov4 ` listenaddress=0.0.0.0 listenport=9222 ` connectaddress=127.0.0.1 connectport=9222 New-NetFirewallRule ` -DisplayName \u0026#34;Chrome DevTools MCP 9222\u0026#34; ` -Direction Inbound ` -Protocol TCP ` -LocalPort 9222 ` -Action Allow è¿™ä¸€æ­¥è§£å†³çš„æ˜¯ï¼šWSL è®¿é—®ä¸åˆ° Windows æœ¬åœ° 127.0.0.1:9222 çš„é—®é¢˜ã€‚\n2) å¯åŠ¨å¸¦è¿œç¨‹è°ƒè¯•å‚æ•°çš„ Chrome \u0026amp; \u0026#34;C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\u0026#34; ` --user-data-dir=\u0026#34;$env:USERPROFILE\\ChromeProfiles\\mcp\u0026#34; ` --remote-debugging-port=9222 ` --remote-debugging-address=127.0.0.1 ` --no-first-run ` --no-default-browser-check å»ºè®®å•ç‹¬ user-data-dirï¼Œåˆ«æ±¡æŸ“ä½ å¹³æ—¶æµè§ˆå™¨é…ç½®ã€‚\n3) åœ¨ WSL ä¾§é…ç½® DevTools MCP ç¤ºä¾‹ï¼ˆCodexï¼‰ï¼š\n[mcp_servers.chrome-devtools] command = \u0026#34;npx\u0026#34; args = [\u0026#34;chrome-devtools-mcp@latest\u0026#34;, \u0026#34;--browserUrl=http://172.31.240.1:9222/json\u0026#34;] 172.31.240.1 ä¸æ˜¯å›ºå®šå€¼ï¼Œå» Windows ipconfig é‡Œæ‰¾ vEthernet (WSL...) çš„ IPv4ã€‚\n4) å…ˆåšè¿é€šæ€§æ£€æŸ¥ï¼Œå†äº¤ç»™ AI åœ¨ WSL é‡Œå…ˆæµ‹ï¼š\ncurl http://172.31.240.1:9222/json å¦‚æœè¿”å› JSON ä¸”å¸¦ webSocketDebuggerUrlï¼Œè¯´æ˜é“¾è·¯é€šäº†ã€‚å†è®© AI åšè¿™äº›äº‹ï¼š\nè‡ªåŠ¨æŠ“æ§åˆ¶å°æŠ¥é”™ è‡ªåŠ¨åˆ†æ Network æ…¢è¯·æ±‚ è‡ªåŠ¨å¯¼å‡ºæ€§èƒ½ traceï¼ˆå®šä½ LCP/INPï¼‰ è‡ªåŠ¨å›å½’æ£€æŸ¥å…³é”®é¡µé¢ å¸¸è§å‘ä¸ä¿®å¤ å‘ 1ï¼šcurl è¶…æ—¶ æ£€æŸ¥ PowerShell çš„ç«¯å£è½¬å‘å’Œé˜²ç«å¢™è§„åˆ™æ˜¯å¦ç”Ÿæ•ˆ ç¡®è®¤ Chrome ä»åœ¨å¸¦ --remote-debugging-port=9222 è¿è¡Œ å‘ 2ï¼šMCP å®¢æˆ·ç«¯è¿ä¸Šä½†æ²¡æœ‰é¡µé¢ æµè§ˆå™¨ URL è¦ç”¨ /json ç«¯ç‚¹ï¼Œä¸æ˜¯è£¸ 9222 Chrome å¯èƒ½å¼€åœ¨äº†å¦ä¸€ä¸ª profile æˆ–è¢«æ—§è¿›ç¨‹å ä½ å‘ 3ï¼šå¶å‘æ–­è¿ é¿å…ç³»ç»Ÿç¡çœ åå¤ç”¨æ—§ session æ–­è¿åå…ˆé‡å¯ Chromeï¼Œå†é‡å¯ MCP server ä¸ºä»€ä¹ˆè¿™ä¸ªæ–¹æ¡ˆå¯¹æµé‡ç«™ç‚¹æœ‰ä»·å€¼ å¦‚æœä½ åšåšå®¢æˆ–å†…å®¹ç«™ï¼Œé¡µé¢ä½“éªŒç›´æ¥å½±å“æ”¶å½•å’Œåœç•™æ—¶é•¿ã€‚è®© AI æ¥ç®¡ DevTools åï¼Œèƒ½æŠŠâ€œæ…¢ã€æŠ¥é”™ã€æ¸²æŸ“æŠ–åŠ¨â€è¿™ç±»é—®é¢˜ä»æ‰‹å·¥å·¡æ£€å˜æˆè‡ªåŠ¨åŒ–æµç¨‹ï¼Œé•¿æœŸå°±æ˜¯æ›´ç¨³çš„ SEO è¡¨ç°ã€‚\næ€»ç»“ æ ¸å¿ƒå°±ä¸‰æ­¥ï¼šWindows æ”¾è¡Œ 9222ã€Chrome å¼€è¿œç¨‹è°ƒè¯•ã€WSL ç”¨ç½‘å…³ IP è¿ /jsonã€‚é“¾è·¯é€šäº†ä»¥åï¼ŒAI æ‰çœŸèƒ½æ¥ç®¡æµè§ˆå™¨è°ƒè¯•ï¼Œè€Œä¸æ˜¯åªä¼šçº¸ä¸Šè°ˆå…µã€‚\n","permalink":"https://www.mfun.ink/2026/02/10/mcp-devtools-mcp-auto-browser-debugging/","summary":"\u003cp\u003eå¾ˆå¤šäººæŠŠ MCP å½“æˆâ€œè®© AI è°ƒå·¥å…·â€çš„æ¦‚å¿µè¯ï¼Œä½†çœŸè½åœ°æ—¶æœ€å¸¸å¡åœ¨æµè§ˆå™¨è°ƒè¯•ï¼šAI è¿ä¸ä¸Š Chromeã€æ‹¿ä¸åˆ°ç½‘ç»œè¯·æ±‚ã€çœ‹ä¸åˆ°æ€§èƒ½ç“¶é¢ˆã€‚è¿™ç¯‡ç›´æ¥ç»™ä½ ä¸€å¥—èƒ½å¤åˆ¶çš„æµç¨‹ï¼ŒæŠŠ DevTools MCP è·‘èµ·æ¥ï¼Œè®© AI èƒ½è‡ªåŠ¨æŸ¥é¡µé¢é—®é¢˜ã€‚\u003c/p\u003e","title":"MCP å®æˆ˜ï¼šè‡ªåŠ¨åŒ–æµè§ˆå™¨è°ƒè¯•ï¼ˆDevTools MCPï¼‰ä» 0 åˆ°å¯ç”¨"},{"content":"å¦‚æœä½ æŠŠ AI åªå½“â€œèŠå¤©å·¥å…·â€ï¼Œä¸‰å®¶çœ‹èµ·æ¥å·®ä¸å¤šï¼›ä½†ä¸€æ—¦è¿›å…¥çœŸå®å¼€å‘é“¾è·¯ï¼Œå·®å¼‚ä¼šéå¸¸æ˜æ˜¾ã€‚\næˆ‘çš„ç»“è®ºå…ˆæ”¾å‰é¢ï¼šæ—¥å¸¸ç¼–ç +é¡¹ç›®å†…æ”¹åŠ¨ä¼˜å…ˆ Codexï¼Œé•¿æ–‡æ¨ç†å’Œæ–¹æ¡ˆæ‹†è§£ç”¨ Claudeï¼ŒOpenAI CLI é€‚åˆåšæ ‡å‡†åŒ–è‡ªåŠ¨åŒ–å’Œè·¨å·¥å…·ä¸²è”ã€‚\nè¯„ä¼°æ ‡å‡†ï¼ˆä¸èŠç„å­¦ï¼ŒåªèŠäº§å‡ºï¼‰ æˆ‘ç”¨ 5 ä¸ªæŒ‡æ ‡è¯„ä¼°ï¼š\nä¸Šæ‰‹é€Ÿåº¦ï¼š10 åˆ†é’Ÿå†…èƒ½å¦å¼€å§‹å¹²æ´» ä»£ç è½åœ°ç‡ï¼šå›ç­”æ˜¯å¦èƒ½ç›´æ¥æ”¹é¡¹ç›® é•¿ä»»åŠ¡ç¨³å®šæ€§ï¼šå¤šè½®åæ˜¯å¦â€œè·‘åâ€ å·¥å…·é›†æˆèƒ½åŠ›ï¼šæ˜¯å¦æ–¹ä¾¿æ¥å…¥è„šæœ¬ã€MCPã€CI æˆæœ¬å¯æ§æ€§ï¼šå•ä½äº§å‡ºçš„ token / æ—¶é—´æˆæœ¬ Codexï¼šé¡¹ç›®å†…ä¿®æ”¹æœ€é¡ºæ‰‹ é€‚åˆåœºæ™¯ï¼š\nåœ¨å·²æœ‰ä»“åº“é‡Œæ”¹ä»£ç ã€è¡¥è„šæœ¬ã€ä¿®é…ç½® éœ€è¦â€œçœ‹æ–‡ä»¶â†’æ”¹æ–‡ä»¶â†’æäº¤â€é—­ç¯ è¿½æ±‚çŸ­å›è·¯è¿­ä»£ ä¼˜ç‚¹ï¼š\nå¯¹å·¥ç¨‹ä¸Šä¸‹æ–‡æ„ŸçŸ¥æ›´ç›´æ¥ é€‚åˆè¾¹æ‰§è¡Œè¾¹ä¿®æ­£ å‘½ä»¤è¡Œé©±åŠ¨ï¼ŒèŠ‚å¥å¿« çŸ­æ¿ï¼š\nåšè¶…é•¿ç­–ç•¥æŠ¥å‘Šæ—¶ï¼Œä¸å¦‚ Claudeâ€œé“ºé™ˆå®Œæ•´â€ Claudeï¼šå¤æ‚æ¨ç†å’Œæ–‡æ¡£å‹ä»»åŠ¡å¼º é€‚åˆåœºæ™¯ï¼š\næ¶æ„æ–¹æ¡ˆè¯„å®¡ é•¿æ–‡æ¡£æ¢³ç†ã€å¯¹æ¯”ã€æŠ½è±¡ éœ€è¦é«˜è´¨é‡â€œè§£é‡Šå±‚â€è¾“å‡º ä¼˜ç‚¹ï¼š\né•¿ä¸Šä¸‹æ–‡ä¸‹ç¨³å®šæ€§è¾ƒå¥½ å¯¹å¤æ‚çº¦æŸé—®é¢˜è¡¨è¾¾æ¸…æ™° çŸ­æ¿ï¼š\nå¦‚æœä½ è¦çš„æ˜¯â€œç›´æ¥æ”¹ä»“åº“å¹¶è½ç›˜â€ï¼Œé“¾è·¯ä¸å¦‚ CLI å‹å·¥å…·ç›´æ¥ OpenAI CLIï¼šè‡ªåŠ¨åŒ–ç¼–æ’èƒ½åŠ›å¼º é€‚åˆåœºæ™¯ï¼š\næ‰¹é‡ä»»åŠ¡ æ ‡å‡†åŒ–å†…å®¹ç”Ÿäº§ ä¸ shellã€è„šæœ¬ã€éƒ¨ç½²æµç¨‹ä¸²è” ä¼˜ç‚¹ï¼š\næ˜“äºçº³å…¥ç°æœ‰ DevOps æµç¨‹ åšâ€œå›ºå®šåŠ¨ä½œè‡ªåŠ¨æ‰§è¡Œâ€å¾ˆçœå¿ƒ çŸ­æ¿ï¼š\nè¦å…ˆæŠŠæµç¨‹è§„èŒƒå¥½ï¼Œå¦åˆ™åªæ˜¯æŠŠæ··ä¹±è‡ªåŠ¨åŒ– æˆ‘å®é™…æ¨èçš„ç»„åˆï¼ˆæœ€çœæ—¶é—´ï¼‰ å¼€å‘æ—¥å¸¸ï¼šCodex ä¸»åŠ› æ–¹æ¡ˆè®¾è®¡/å¤ç›˜ï¼šClaude è¡¥ä½ æ‰¹å¤„ç†/å‘å¸ƒæµæ°´çº¿ï¼šOpenAI CLI æ‰§è¡Œ ä¸€å¥è¯ï¼šæŠŠæ¨¡å‹å½“â€œå²—ä½â€åˆ†å·¥ï¼Œä¸è¦å½“â€œä¿¡ä»°â€ç«™é˜Ÿã€‚\nä¸€å¥—å¯ç›´æ¥è½åœ°çš„å·¥ä½œæµ ç”¨ Claude å‡ºæŠ€æœ¯æ–¹æ¡ˆåˆç¨¿ï¼ˆæ¶æ„/é£é™©/å–èˆï¼‰ äº¤ç»™ Codex åœ¨ä»“åº“é‡Œè½å®ç°å®æ”¹åŠ¨ ç”¨ OpenAI CLI è·‘è‡ªåŠ¨å‘å¸ƒã€æ€»ç»“ã€å½’æ¡£ ç¤ºä¾‹ï¼ˆä¼ªå‘½ä»¤ï¼‰ï¼š\n# 1) æ–¹æ¡ˆæ•´ç† claude \u0026#34;Review this migration plan and list risks\u0026#34; # 2) ä»“åº“å†…æ‰§è¡Œ codex \u0026#34;Apply config changes in ./infra and update docs\u0026#34; # 3) è‡ªåŠ¨åŒ–å‘å¸ƒ openai workflows run publish-blog --topic \u0026#34;ai-cli-comparison\u0026#34; å¸¸è§è¯¯åŒº è¯¯åŒº 1ï¼šåªé€‰ä¸€ä¸ªå·¥å…·æ‰“å¤©ä¸‹ ç»“æœï¼šè¦ä¹ˆæˆæœ¬é«˜ï¼Œè¦ä¹ˆè´¨é‡ä¸ç¨³ã€‚ è¯¯åŒº 2ï¼šæ²¡æœ‰è¯„ä¼°æ ‡å‡†å°±ä¸‹ç»“è®º ç»“æœï¼šè®¨è®ºçƒ­é—¹ï¼Œäº§å‡ºå¾ˆå·®ã€‚ è¯¯åŒº 3ï¼šæŠŠè‡ªåŠ¨åŒ–å»ºç«‹åœ¨æ··ä¹±æµç¨‹ä¸Š ç»“æœï¼šæ›´å¿«åœ°åˆ¶é€ äº‹æ•…ã€‚ æœ€å°å¯è¡Œæ–¹æ¡ˆï¼ˆMVPï¼‰ å¦‚æœä½ ä»Šå¤©å°±æƒ³ææ•ˆï¼Œç›´æ¥ç…§åšï¼š\nå…ˆå®š 3 ä¸ªå›ºå®šä»»åŠ¡æ¨¡æ¿ï¼ˆä»£ç ä¿®æ”¹ã€æ–‡æ¡£æ€»ç»“ã€å‘å¸ƒéƒ¨ç½²ï¼‰ æ¯ä¸ªæ¨¡æ¿åªç»‘å®šä¸€ä¸ªä¸»å·¥å…· è¿ç»­è·‘ 2 å‘¨ï¼Œè®°å½•è€—æ—¶ä¸è¿”å·¥æ¬¡æ•° ä½ ä¼šå¾ˆå¿«çœ‹å‡ºï¼šæ•ˆç‡ä¸æ˜¯æ¨¡å‹å‚æ•°å †å‡ºæ¥çš„ï¼Œæ˜¯æµç¨‹è®¾è®¡å‡ºæ¥çš„ã€‚\n","permalink":"https://www.mfun.ink/2026/02/09/claude-codex-openai-cli-workflow-comparison/","summary":"\u003cp\u003eå¦‚æœä½ æŠŠ AI åªå½“â€œèŠå¤©å·¥å…·â€ï¼Œä¸‰å®¶çœ‹èµ·æ¥å·®ä¸å¤šï¼›ä½†ä¸€æ—¦è¿›å…¥çœŸå®å¼€å‘é“¾è·¯ï¼Œå·®å¼‚ä¼šéå¸¸æ˜æ˜¾ã€‚\u003c/p\u003e\n\u003cp\u003eæˆ‘çš„ç»“è®ºå…ˆæ”¾å‰é¢ï¼š\u003cstrong\u003eæ—¥å¸¸ç¼–ç +é¡¹ç›®å†…æ”¹åŠ¨ä¼˜å…ˆ Codexï¼Œé•¿æ–‡æ¨ç†å’Œæ–¹æ¡ˆæ‹†è§£ç”¨ Claudeï¼ŒOpenAI CLI é€‚åˆåšæ ‡å‡†åŒ–è‡ªåŠ¨åŒ–å’Œè·¨å·¥å…·ä¸²è”ã€‚\u003c/strong\u003e\u003c/p\u003e","title":"Claude / Codex / OpenAI CLI å·¥ä½œæµå¯¹æ¯”ï¼šå¼€å‘æ•ˆç‡æ€ä¹ˆé€‰"},{"content":"If you use AI as a chatbot only, these tools feel similar. In real engineering workflows, they behave very differently.\nMy conclusion first: use Codex for repo-native coding changes, Claude for deep reasoning and long-form planning, and OpenAI CLI for standardized automation pipelines.\nEvaluation Criteria (Output, Not Hype) I compare them with five practical metrics:\nTime to first useful output Code applicability in real repos Stability across long multi-turn tasks Integration with scripts/MCP/CI Cost per useful outcome Codex: Best for In-Repo Execution Best for:\nEditing existing codebases Config/script fixes with fast iteration \u0026ldquo;inspect -\u0026gt; edit -\u0026gt; commit\u0026rdquo; loops Strengths:\nStrong project-context execution flow Fast command-line feedback cycle Good for iterative engineering tasks Tradeoff:\nLess ideal than Claude for long narrative strategy documents Claude: Strong for Reasoning and Structured Thinking Best for:\nArchitecture analysis Long-form documentation synthesis Constraint-heavy decision analysis Strengths:\nStable in long-context reasoning Clear explanation quality Tradeoff:\nLess direct than CLI-first tooling for file-level repo execution OpenAI CLI: Great for Automation and Orchestration Best for:\nBatch tasks Standardized content pipelines Shell-driven publishing flows Strengths:\nEasy to integrate into DevOps routines Good for repeatable operational jobs Tradeoff:\nAutomation amplifies whatever process you already have (good or bad) Recommended Stack (Fastest in Practice) Daily coding: Codex Planning/review: Claude Automation/publishing: OpenAI CLI One line summary: assign tools by role, not by fandom.\nA Practical Workflow You Can Use Today Draft architecture and risk plan with Claude Implement concrete repo changes with Codex Run standard release/documentation automation with OpenAI CLI Example (pseudo-commands):\n# 1) Strategy review claude \u0026#34;Review this migration plan and list risks\u0026#34; # 2) Execute inside repository codex \u0026#34;Apply config changes in ./infra and update docs\u0026#34; # 3) Automate publishing pipeline openai workflows run publish-blog --topic \u0026#34;ai-cli-comparison\u0026#34; Common Mistakes Trying one tool for everything -\u0026gt; unstable quality and cost No evaluation criteria -\u0026gt; lots of opinions, little output Automating a messy process -\u0026gt; faster failures MVP Setup If you want immediate gains:\nDefine 3 repeatable task templates (code edit, doc synthesis, publish) Assign one primary tool to each template Track execution time and rework rate for two weeks You will see quickly: productivity comes from workflow design, not model worship.\n","permalink":"https://www.mfun.ink/english/post/claude-codex-openai-cli-workflow-comparison/","summary":"\u003cp\u003eIf you use AI as a chatbot only, these tools feel similar. In real engineering workflows, they behave very differently.\u003c/p\u003e\n\u003cp\u003eMy conclusion first: \u003cstrong\u003euse Codex for repo-native coding changes, Claude for deep reasoning and long-form planning, and OpenAI CLI for standardized automation pipelines.\u003c/strong\u003e\u003c/p\u003e","title":"Claude vs Codex vs OpenAI CLI: Which Workflow Actually Improves Dev Productivity"},{"content":"Large language models are changing how we clarify requirements, generate code, and design tests, and many teams feel that traditional workflows are being rewritten. To understand what is truly changing, it helps to place today inside the longer history of software engineering.\nThis article walks through the major stages of software engineering and ends with the AI-era variables and a simple checklist so you can map your current problems to the right time scale.\nBackground: From â€œWriting Codeâ€ to â€œEngineering Deliveryâ€ Software engineering is not just about writing code. It is about delivering reliable software under controlled cost and risk. From the beginning, that required teams, coordination, and method, not solo heroics.\nStages and Turning Points Stage Time Primary Traits Keywords Early Exploration 1940s-1960s Hardware-led, manual control of complexity Assembly, batch processing, early OS Software Crisis and Discipline 1968-1970s Scale out of control, delays, cost overruns Software crisis, structured methods, specs Standardization 1980s Process and quality management CMM, QA, structured design Object Orientation and Reuse 1990s Better modeling for complex systems OOP, UML, design patterns, components Internet and Agile 2000s Faster iteration and delivery cadence Scrum, XP, continuous integration Cloud Native and DevOps 2010s Infra automation and observability Microservices, containers, SRE, IaC AI Co-Creation 2020s- Shifts in collaboration across the lifecycle LLM, Copilot, evaluation, governance Most turning points fall into three categories:\nScale: moving from small teams to large coordination, driving process. Complexity: broader system boundaries, driving abstraction and reuse. Efficiency: faster delivery expectations, driving automation and platforms. Typical Evolution of Engineering Methods A short view of the main flow models:\nWaterfall: clear phase boundaries and documentation, good for stable requirements. Iterative/Incremental: staged delivery to reduce big-bang risk. Agile: feedback-focused, shorter cycles. DevOps/SRE: delivery and operations together, automation for stability. Platform Engineering: shared capabilities as a platform to raise org efficiency. New Variables in the AI Era AI does not replace engineering methods; it changes knowledge-heavy steps into collaborative, amplifiable, and governance-heavy work:\nRequirements and design: higher dependency on context quality; prompts become a new type of spec. Coding: faster generation, but consistency and constraints matter more. Testing: easier to generate cases, but coverage and quality still need human control. Operations: faster diagnosis and runbook generation, still requires strong observability. Governance: data security, compliance, and evaluation become new engineering overhead. How AI Participates in Real Workflows Treat AI as a structured artifact generator, not a free-form replacement.\nRequirements and planning: clarify needs, fill exception flows, draft acceptance criteria lists. Solutions and design: produce option comparisons, risk checklists, and API contract drafts. Development: generate module-level code under explicit inputs, outputs, and boundaries. Testing: generate edge and exception case drafts, humans curate critical paths. Release and operations: impact analysis, log summaries, and incident investigation drafts. After adoption, keep three controls: traceability (prompts and model version), evaluation (correctness/consistency/usability), and constraints (boundaries and compliance).\nVerify: Which Stage Is Your Team In? Use this checklist for a quick self-assessment:\nDo you have a stable mechanism for requirements and change control? Do you have CI/CD with rollback strategy? Do you enforce automated tests and quality gates on critical paths? Do you have unified monitoring, logging, and alerting? Do you evaluate AI outputs with explicit quality baselines (accuracy, explainability, compliance)? If the first four are weak, AI will not produce stable gains. If the fifth is missing, AI can introduce new risks.\nSummary Software engineering history is a line of â€œscaled collaboration + complexity control + delivery efficiency.â€ AI pushes that line into a new stage: higher productivity, denser collaboration, and stronger governance needs. Align your team capability to the right stage to capture AIâ€™s real value.\n","permalink":"https://www.mfun.ink/english/post/software-engineering-history-ai/","summary":"\u003cp\u003eLarge language models are changing how we clarify requirements, generate code, and design tests, and many teams feel that traditional workflows are being rewritten. To understand what is truly changing, it helps to place today inside the longer history of software engineering.\u003c/p\u003e\n\u003cp\u003eThis article walks through the major stages of software engineering and ends with the AI-era variables and a simple checklist so you can map your current problems to the right time scale.\u003c/p\u003e","title":"Software Engineering History: From Software Crisis to AI Co-Creation"},{"content":"AIå¤§æ¨¡å‹è®©éœ€æ±‚æ¾„æ¸…ã€ä»£ç ç”Ÿæˆã€æµ‹è¯•ç”Ÿæˆéƒ½å‡ºç°äº†æ–°çš„è·¯å¾„ï¼Œå¾ˆå¤šå›¢é˜Ÿæ„Ÿåˆ°ä¼ ç»Ÿå¼€å‘æµç¨‹è¢«é‡å†™äº†ã€‚è¦çœ‹æ¸…è¿™ä¸€è½®å˜åŒ–çš„æœ¬è´¨ï¼Œå…ˆæŠŠè½¯ä»¶å·¥ç¨‹çš„å†å²è„‰ç»œæ¢³ç†å‡ºæ¥ä¼šæ›´æœ‰å¸®åŠ©ã€‚\næœ¬æ–‡æŒ‰é˜¶æ®µå›é¡¾è½¯ä»¶å·¥ç¨‹çš„å‘å±•è·¯å¾„ï¼Œæœ€åè½åˆ°AIæ—¶ä»£çš„å˜é‡ä¸åˆ¤æ–­æ–¹æ³•ï¼Œæ–¹ä¾¿ä½ æŠŠå½“ä¸‹çš„é—®é¢˜æ”¾å›æ›´é•¿çš„æ—¶é—´å°ºåº¦é‡Œçœ‹æ¸…æ¥šã€‚\nèƒŒæ™¯ï¼šä»â€œå†™ä»£ç â€åˆ°â€œå·¥ç¨‹åŒ–â€ è½¯ä»¶å·¥ç¨‹çš„æ ¸å¿ƒä¸æ˜¯â€œå†™å‡ºä»£ç â€ï¼Œè€Œæ˜¯â€œåœ¨å¯æ§æˆæœ¬å’Œé£é™©ä¸‹äº¤ä»˜ç¨³å®šçš„è½¯ä»¶â€ã€‚è¿™ä»¶äº‹ä»ä¸€å¼€å§‹å°±ä¸æ˜¯ä¸ªäººè‹±é›„ä¸»ä¹‰ï¼Œè€Œæ˜¯ç»„ç»‡åä½œä¸æ–¹æ³•è®ºçš„é›†åˆä½“ã€‚\nå‘å±•é˜¶æ®µä¸å…³é”®æ‹ç‚¹ é˜¶æ®µ æ—¶é—´ ä¸»è¦ç‰¹å¾ å…¸å‹å…³é”®è¯ æ—©æœŸæ¢ç´¢ 1940s-1960s ç¡¬ä»¶ä¸»å¯¼ã€ç¨‹åºå‘˜æ‰‹å·¥ç®¡ç†å¤æ‚åº¦ æ±‡ç¼–ã€æ‰¹å¤„ç†ã€æ“ä½œç³»ç»Ÿé›å½¢ è½¯ä»¶å±æœºä¸å­¦ç§‘è¯ç”Ÿ 1968-1970s è§„æ¨¡å¤±æ§ã€å»¶æœŸã€æˆæœ¬é£™å‡ è½¯ä»¶å±æœºã€ç»“æ„åŒ–æ–¹æ³•ã€éœ€æ±‚è§„æ ¼ å·¥ç¨‹åŒ–è§„èŒƒåŒ– 1980s è¿‡ç¨‹ä¸è´¨é‡ç®¡ç†å…´èµ· CMMã€QAã€ç»“æ„åŒ–è®¾è®¡ é¢å‘å¯¹è±¡ä¸å¤ç”¨ 1990s å¤æ‚ç³»ç»Ÿå»ºæ¨¡èƒ½åŠ›æå‡ OOPã€UMLã€è®¾è®¡æ¨¡å¼ã€ç»„ä»¶åŒ– äº’è”ç½‘ä¸æ•æ· 2000s å¿«é€Ÿè¿­ä»£ã€äº¤ä»˜èŠ‚å¥åŠ å¿« Scrumã€XPã€æŒç»­é›†æˆ äº‘åŸç”Ÿä¸DevOps 2010s åŸºç¡€è®¾æ–½è‡ªåŠ¨åŒ–ã€å¯è§‚æµ‹æ€§ å¾®æœåŠ¡ã€å®¹å™¨ã€SREã€IaC AIå…±åˆ›æ—¶ä»£ 2020s- éœ€æ±‚/è®¾è®¡/ç¼–ç /æµ‹è¯•åä½œèŒƒå¼å˜åŒ– LLMã€Copilotã€è¯„æµ‹ã€æ²»ç† å…³é”®æ‹ç‚¹å¤§è‡´æœ‰ä¸‰ç±»ï¼š\nè§„æ¨¡æ‹ç‚¹ï¼šä»ä¸ªäºº/å°å›¢é˜Ÿåˆ°å¤§è§„æ¨¡åä½œï¼Œéœ€è¦è¿‡ç¨‹ä¸è§„èŒƒã€‚ å¤æ‚åº¦æ‹ç‚¹ï¼šç³»ç»Ÿè¾¹ç•Œæ‰©å¤§åï¼Œéœ€è¦æŠ½è±¡ã€å»ºæ¨¡ä¸å¤ç”¨ã€‚ æ•ˆç‡æ‹ç‚¹ï¼šäº¤ä»˜èŠ‚å¥ç¼©çŸ­ï¼Œéœ€è¦è‡ªåŠ¨åŒ–ä¸å¹³å°åŒ–æ”¯æ’‘ã€‚ å…¸å‹å·¥ç¨‹æ–¹æ³•çš„æ¼”è¿›è·¯å¾„ å¯ä»¥ç”¨â€œæµç¨‹æ¨¡å‹â€è§†è§’å¿«é€Ÿç†è§£ä¸»çº¿ï¼š\nç€‘å¸ƒï¼šå¼ºè°ƒé˜¶æ®µè¾¹ç•Œä¸æ–‡æ¡£é—­ç¯ï¼Œé€‚åˆéœ€æ±‚ç¨³å®šåœºæ™¯ã€‚ è¿­ä»£/å¢é‡ï¼šå…è®¸åˆ†æ‰¹äº¤ä»˜ï¼Œé™ä½ä¸€æ¬¡æ€§äº¤ä»˜é£é™©ã€‚ æ•æ·ï¼šå¼ºè°ƒåé¦ˆä¸äººï¼Œç¼©çŸ­äº¤ä»˜å‘¨æœŸã€‚ DevOps/SREï¼šæŠŠäº¤ä»˜ä¸è¿ç»´æ‰“é€šï¼Œç”¨è‡ªåŠ¨åŒ–ä¿è¯ç¨³å®šæ€§ã€‚ å¹³å°å·¥ç¨‹ï¼šæŠŠå…±æ€§èƒ½åŠ›æŠ½è±¡ä¸ºå¹³å°ï¼Œæå‡ç»„ç»‡çº§æ•ˆç‡ã€‚ AIæ—¶ä»£çš„æ–°å˜é‡ AIå¹¶ä¸æ˜¯æ›¿æ¢å·¥ç¨‹æ–¹æ³•ï¼Œè€Œæ˜¯æŠŠâ€œçŸ¥è¯†å¯†é›†å‹ç¯èŠ‚â€å˜æˆå¯åä½œã€å¯æ”¾å¤§ã€ä¹Ÿæ›´éœ€è¦æ²»ç†çš„ç¯èŠ‚ï¼š\néœ€æ±‚ä¸è®¾è®¡ï¼šæ›´ä¾èµ–é«˜è´¨é‡ä¸Šä¸‹æ–‡ï¼Œæç¤ºè¯æˆä¸ºâ€œæ–°éœ€æ±‚æ–‡æ¡£â€ã€‚ ç¼–ç ï¼šç”Ÿæˆé€Ÿåº¦æé«˜ï¼Œä½†ä»£ç ä¸€è‡´æ€§ä¸çº¦æŸæ›´é‡è¦ã€‚ æµ‹è¯•ï¼šè‡ªåŠ¨ç”Ÿæˆç”¨ä¾‹æ›´å®¹æ˜“ï¼Œä½†è¦†ç›–ç‡ä¸è´¨é‡ä»éœ€äººå·¥æŠŠå…³ã€‚ è¿ç»´ï¼šæ•…éšœåˆ†æä¸Runbookç”Ÿæˆæ•ˆç‡ä¸Šå‡ï¼Œä»éœ€å¼ºè§‚æµ‹èƒ½åŠ›æ”¯æ’‘ã€‚ æ²»ç†ï¼šæ•°æ®å®‰å…¨ã€åˆè§„ã€è¯„æµ‹ä½“ç³»æˆä¸ºæ–°çš„å·¥ç¨‹è´Ÿæ‹…ã€‚ AIå¦‚ä½•å‚ä¸åˆ°å®é™…æµç¨‹ä¸­ æŠŠAIä½œä¸ºæµç¨‹é‡Œçš„â€œç»“æ„åŒ–äº§ç‰©ç”Ÿæˆå™¨â€ï¼Œè€Œä¸æ˜¯è‡ªç”±å‘æŒ¥çš„æ›¿ä»£è€…ã€‚\néœ€æ±‚ä¸è§„åˆ’ï¼šæ¾„æ¸…éœ€æ±‚ã€è¡¥å…¨å¼‚å¸¸æµã€æ‹†åˆ†éªŒæ”¶æ ‡å‡†ï¼Œäº§å‡ºç»“æ„åŒ–æ¸…å•ã€‚ æ–¹æ¡ˆä¸è®¾è®¡ï¼šè¾“å‡ºæ–¹æ¡ˆå¯¹æ¯”ä¸é£é™©æ¸…å•ã€æ¥å£å¥‘çº¦è‰æ¡ˆã€‚ å¼€å‘ï¼šåœ¨æ˜ç¡®è¾“å…¥è¾“å‡ºä¸è¾¹ç•Œå‰æä¸‹ç”Ÿæˆæ¨¡å—å†…ä»£ç ä¸æ ·æ¿å®ç°ã€‚ æµ‹è¯•ï¼šç”Ÿæˆè¾¹ç•Œä¸å¼‚å¸¸ç”¨ä¾‹è‰æ¡ˆï¼Œäººå·¥ç­›é€‰å…³é”®é“¾è·¯ã€‚ å‘å¸ƒä¸è¿ç»´ï¼šå½±å“åˆ†æã€æ—¥å¿—æ‘˜è¦ã€æ•…éšœå®šä½æ­¥éª¤è‰æ¡ˆã€‚ å‚ä¸åè¦ç¡®ä¿ä¸‰ä»¶äº‹ï¼šå¯è¿½æº¯ï¼ˆæç¤ºè¯ä¸æ¨¡å‹ç‰ˆæœ¬ï¼‰ã€å¯è¯„æµ‹ï¼ˆæ­£ç¡®æ€§/ä¸€è‡´æ€§/å¯ç”¨æ€§ï¼‰ã€å¯çº¦æŸï¼ˆè¾¹ç•Œä¸åˆè§„è§„åˆ™ï¼‰ã€‚\néªŒè¯ï¼šå¦‚ä½•åˆ¤æ–­ä½ çš„å›¢é˜Ÿå¤„åœ¨å“ªä¸ªé˜¶æ®µ å¯ä»¥ç”¨ä¸‹é¢è¿™ç»„é—®é¢˜åšå¿«é€Ÿè‡ªæ£€ï¼š\næ˜¯å¦æœ‰ç¨³å®šçš„éœ€æ±‚ä¸å˜æ›´ç®¡ç†æœºåˆ¶ï¼ˆä¸ä¸€å®šé‡ï¼Œä½†å¿…é¡»ä¸€è‡´ï¼‰ï¼Ÿ æ˜¯å¦æœ‰æŒç»­é›†æˆ/æŒç»­äº¤ä»˜ä¸å›æ»šç­–ç•¥ï¼Ÿ æ˜¯å¦æœ‰è¦†ç›–å…³é”®é“¾è·¯çš„è‡ªåŠ¨åŒ–æµ‹è¯•ä¸è´¨é‡é—¨ç¦ï¼Ÿ æ˜¯å¦æœ‰ç»Ÿä¸€çš„ç›‘æ§ã€æ—¥å¿—ä¸å‘Šè­¦ä½“ç³»ï¼Ÿ æ˜¯å¦å¯¹AIäº§å‡ºæœ‰è¯„æµ‹ä¸è´¨é‡åŸºå‡†ï¼ˆå‡†ç¡®ç‡ã€å¯è§£é‡Šæ€§ã€åˆè§„ï¼‰ï¼Ÿ å¦‚æœå‰å››é¡¹æ²¡å»ºç«‹èµ·æ¥ï¼Œå†å¼ºçš„AIä¹Ÿå¾ˆéš¾å¸¦æ¥ç¨³å®šå¢ç›Šï¼›å¦‚æœç¬¬äº”é¡¹ç¼ºå¤±ï¼ŒAIåè€Œå¯èƒ½å˜æˆæ–°çš„ä¸å¯æ§é£é™©ã€‚\næ€»ç»“ è½¯ä»¶å·¥ç¨‹çš„å‘å±•å²æ˜¯ä¸€æ¡â€œè§„æ¨¡åŒ–åä½œ + å¤æ‚åº¦æ§åˆ¶ + äº¤ä»˜æ•ˆç‡â€çš„ä¸»çº¿ã€‚AIåªæ˜¯è®©è¿™æ¡ä¸»çº¿è¿›å…¥äº†æ–°çš„é˜¶æ®µï¼šæ›´é«˜çš„ç”Ÿäº§åŠ›ã€æ›´é«˜çš„åä½œå¯†åº¦ã€ä¹Ÿæ›´é«˜çš„æ²»ç†è¦æ±‚ã€‚æŠŠå›¢é˜Ÿèƒ½åŠ›å¯¹é½åˆ°ç›¸åº”é˜¶æ®µï¼Œä½ æ‰èƒ½çœŸæ­£äº«å—åˆ°AIå¸¦æ¥çš„çº¢åˆ©ã€‚\n","permalink":"https://www.mfun.ink/2025/12/31/software-engineering-history-ai/","summary":"\u003cp\u003eAIå¤§æ¨¡å‹è®©éœ€æ±‚æ¾„æ¸…ã€ä»£ç ç”Ÿæˆã€æµ‹è¯•ç”Ÿæˆéƒ½å‡ºç°äº†æ–°çš„è·¯å¾„ï¼Œå¾ˆå¤šå›¢é˜Ÿæ„Ÿåˆ°ä¼ ç»Ÿå¼€å‘æµç¨‹è¢«é‡å†™äº†ã€‚è¦çœ‹æ¸…è¿™ä¸€è½®å˜åŒ–çš„æœ¬è´¨ï¼Œå…ˆæŠŠè½¯ä»¶å·¥ç¨‹çš„å†å²è„‰ç»œæ¢³ç†å‡ºæ¥ä¼šæ›´æœ‰å¸®åŠ©ã€‚\u003c/p\u003e\n\u003cp\u003eæœ¬æ–‡æŒ‰é˜¶æ®µå›é¡¾è½¯ä»¶å·¥ç¨‹çš„å‘å±•è·¯å¾„ï¼Œæœ€åè½åˆ°AIæ—¶ä»£çš„å˜é‡ä¸åˆ¤æ–­æ–¹æ³•ï¼Œæ–¹ä¾¿ä½ æŠŠå½“ä¸‹çš„é—®é¢˜æ”¾å›æ›´é•¿çš„æ—¶é—´å°ºåº¦é‡Œçœ‹æ¸…æ¥šã€‚\u003c/p\u003e","title":"è½¯ä»¶å·¥ç¨‹å‘å±•å²ï¼šä»è½¯ä»¶å±æœºåˆ°AIå…±åˆ›"},{"content":"Chrome DevTools MCP lets MCP clients connect to Chrome\u0026rsquo;s remote debugging endpoint. Because WSL2 and Windows are isolated at the network layer, you need port forwarding and a firewall rule. The commands below are split into clear steps.\nPrerequisites Chrome installed on Windows. WSL2 set up and npx available inside WSL. PowerShell running with admin privileges. 1. Configure port forwarding and firewall on Windows From an elevated PowerShell prompt, run:\nnetsh interface portproxy add v4tov4 ` listenaddress=0.0.0.0 listenport=9222 ` connectaddress=127.0.0.1 connectport=9222 New-NetFirewallRule ` -DisplayName \u0026#34;Chrome DevTools MCP 9222\u0026#34; ` -Direction Inbound ` -Protocol TCP ` -LocalPort 9222 ` -Action Allow The first command forwards 0.0.0.0:9222 to 127.0.0.1:9222. The second command allows inbound TCP 9222.\n2. Launch Chrome with remote debugging Still in PowerShell, run:\n\u0026amp; \u0026#34;C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\u0026#34; ` --user-data-dir=\u0026#34;$env:USERPROFILE\\ChromeProfiles\\mcp\u0026#34; ` --remote-debugging-port=9222 ` --remote-debugging-address=127.0.0.1 ` --no-first-run ` --no-default-browser-check This uses a dedicated user data directory to avoid affecting your daily browsing profile.\n3. Configure the MCP client in WSL Example for Codex in ~/.codex/config.toml:\n[mcp_servers.chrome-devtools] command = \u0026#34;npx\u0026#34; args = [\u0026#34;chrome-devtools-mcp@latest\u0026#34;, \u0026#34;--browserUrl=http://172.31.240.1:9222/json\u0026#34;] 172.31.240.1 should be taken from Windows. In PowerShell, run ipconfig and find the IPv4 address for vEthernet (WSL (Hyper-V firewall)):\nEthernet adapter vEthernet (WSL (Hyper-V firewall)): Connection-specific DNS suffix . : Link-local IPv6 Address . . . . . : fe80::2ec3:951c:91a0:afbd%61 IPv4 Address. . . . . . . . . . . : 172.31.240.1 Subnet Mask . . . . . . . . . . . : 255.255.240.0 Default Gateway . . . . . . . . . : Use that IPv4 address in browserUrl.\n4. Verify the connection From WSL, check the endpoint directly:\ncurl http://172.31.240.1:9222/json If it returns JSON entries with webSocketDebuggerUrl, the connection is working.\nTroubleshooting Port in use: Make sure nothing else is bound to 9222. Cannot reach 9222: Confirm the port proxy and firewall rule were created. Chrome didn\u0026rsquo;t launch: The command assumes C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe; update it if your install path differs. Summary The core flow is: forward and open port 9222 on Windows, launch Chrome with remote debugging, then use the WSL gateway IP to reach /json. After that, WSL-based MCP clients can connect to Chrome reliably.\n","permalink":"https://www.mfun.ink/english/post/chrome-devtools-mcp-wsl/","summary":"\u003cp\u003eChrome DevTools MCP lets MCP clients connect to Chrome\u0026rsquo;s remote debugging endpoint. Because WSL2 and Windows are isolated at the network layer, you need port forwarding and a firewall rule. The commands below are split into clear steps.\u003c/p\u003e","title":"Configure Chrome DevTools MCP in WSL"},{"content":"Chrome DevTools MCP å¯ä»¥è®© MCP å®¢æˆ·ç«¯ç›´æ¥è¿æ¥åˆ° Chrome çš„è¿œç¨‹è°ƒè¯•æ¥å£ã€‚WSL2 å’Œ Windows çš„ç½‘ç»œæ˜¯éš”ç¦»çš„ï¼Œæ‰€ä»¥éœ€è¦åšç«¯å£è½¬å‘ä¸é˜²ç«å¢™æ”¾è¡Œã€‚ä¸‹é¢æŠŠå…³é”®å‘½ä»¤æ‹†å¼€è¯´æ˜ï¼ŒæŒ‰æ­¥éª¤æ‰§è¡Œå³å¯ã€‚\nå‰ç½®æ¡ä»¶ Windows å·²å®‰è£… Chromeã€‚ å·²å®‰è£… WSL2ï¼Œå¹¶èƒ½åœ¨ WSL å†…ä½¿ç”¨ npxã€‚ å…·å¤‡ç®¡ç†å‘˜æƒé™è¿è¡Œ PowerShell è„šæœ¬ã€‚ 1. åœ¨ Windows ä¾§å¼€å¯ç«¯å£è½¬å‘ä¸é˜²ç«å¢™ ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ PowerShellï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\nnetsh interface portproxy add v4tov4 ` listenaddress=0.0.0.0 listenport=9222 ` connectaddress=127.0.0.1 connectport=9222 New-NetFirewallRule ` -DisplayName \u0026#34;Chrome DevTools MCP 9222\u0026#34; ` -Direction Inbound ` -Protocol TCP ` -LocalPort 9222 ` -Action Allow ç¬¬ä¸€æ¡å‘½ä»¤å°† 0.0.0.0:9222 è½¬å‘åˆ° 127.0.0.1:9222ï¼Œç¬¬äºŒæ¡å‘½ä»¤æ”¾è¡Œ 9222 å…¥ç«™ã€‚\n2. åœ¨ Windows ä¾§å¯åŠ¨ Chrome è¿œç¨‹è°ƒè¯• ç»§ç»­åœ¨ PowerShell ä¸­æ‰§è¡Œï¼š\n\u0026amp; \u0026#34;C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\u0026#34; ` --user-data-dir=\u0026#34;$env:USERPROFILE\\ChromeProfiles\\mcp\u0026#34; ` --remote-debugging-port=9222 ` --remote-debugging-address=127.0.0.1 ` --no-first-run ` --no-default-browser-check è¿™é‡Œä½¿ç”¨ç‹¬ç«‹çš„ç”¨æˆ·æ•°æ®ç›®å½•ï¼Œé¿å…å½±å“æ—¥å¸¸æµè§ˆã€‚\n3. åœ¨ WSL ä¸­é…ç½® MCP å®¢æˆ·ç«¯ ä»¥ Codex ä¸ºä¾‹ï¼Œåœ¨ ~/.codex/config.toml æ·»åŠ ï¼š\n[mcp_servers.chrome-devtools] command = \u0026#34;npx\u0026#34; args = [\u0026#34;chrome-devtools-mcp@latest\u0026#34;, \u0026#34;--browserUrl=http://172.31.240.1:9222/json\u0026#34;] å…¶ä¸­ 172.31.240.1 éœ€è¦é€šè¿‡ Windows ä¾§è·å–ã€‚ä»¥ç®¡ç†å‘˜æˆ–æ™®é€š PowerShell æ‰§è¡Œ ipconfigï¼Œæ‰¾åˆ° vEthernet (WSL (Hyper-V firewall)) çš„ IPv4 åœ°å€ï¼š\nä»¥å¤ªç½‘é€‚é…å™¨ vEthernet (WSL (Hyper-V firewall)): è¿æ¥ç‰¹å®šçš„ DNS åç¼€ . . . . . . . : æœ¬åœ°é“¾æ¥ IPv6 åœ°å€. . . . . . . . : fe80::2ec3:951c:91a0:afbd%61 IPv4 åœ°å€ . . . . . . . . . . . . : 172.31.240.1 å­ç½‘æ©ç  . . . . . . . . . . . . : 255.255.240.0 é»˜è®¤ç½‘å…³. . . . . . . . . . . . . : å°†è¯¥ IPv4 åœ°å€ç”¨ä½œ browserUrl çš„ä¸»æœºåœ°å€ã€‚\n4. éªŒè¯è¿æ¥ ç›´æ¥åœ¨ WSL ä¸­è®¿é—®ï¼š\ncurl http://172.31.240.1:9222/json è‹¥è¿”å›åŒ…å« webSocketDebuggerUrl çš„ JSON åˆ—è¡¨ï¼Œè¯´æ˜è¿æ¥æ­£å¸¸ã€‚\nå¸¸è§é—®é¢˜ ç«¯å£è¢«å ç”¨ï¼šç¡®è®¤æœ¬æœº 9222 æœªè¢«å…¶ä»–å®ä¾‹å ç”¨ã€‚ æ— æ³•è®¿é—® 9222ï¼šæ£€æŸ¥æ˜¯å¦æˆåŠŸè®¾ç½®ç«¯å£è½¬å‘ä¸é˜²ç«å¢™è§„åˆ™ã€‚ Chrome æ²¡æœ‰å¯åŠ¨ï¼šå‘½ä»¤é»˜è®¤è·¯å¾„ä¸º C:\\Program Files\\Google\\Chrome\\Application\\chrome.exeï¼Œå¦‚å®‰è£…ä½ç½®ä¸åŒè¯·è°ƒæ•´å‘½ä»¤è·¯å¾„ã€‚ æ€»ç»“ æµç¨‹æ ¸å¿ƒæ˜¯ï¼šWindows ä¾§åšç«¯å£è½¬å‘ä¸æ”¾è¡Œï¼Œå¹¶å¯åŠ¨ Chrome è¿œç¨‹è°ƒè¯•ï¼ŒWSL ä¾§ç”¨æ­£ç¡®çš„ç½‘å…³ IP è®¿é—® /jsonã€‚å®Œæˆåï¼ŒWSL å†…çš„ MCP å®¢æˆ·ç«¯å³å¯ç¨³å®šè¿æ¥åˆ° Chromeã€‚\n","permalink":"https://www.mfun.ink/2025/12/28/chrome-devtools-mcp-wsl/","summary":"\u003cp\u003eChrome DevTools MCP å¯ä»¥è®© MCP å®¢æˆ·ç«¯ç›´æ¥è¿æ¥åˆ° Chrome çš„è¿œç¨‹è°ƒè¯•æ¥å£ã€‚WSL2 å’Œ Windows çš„ç½‘ç»œæ˜¯éš”ç¦»çš„ï¼Œæ‰€ä»¥éœ€è¦åšç«¯å£è½¬å‘ä¸é˜²ç«å¢™æ”¾è¡Œã€‚ä¸‹é¢æŠŠå…³é”®å‘½ä»¤æ‹†å¼€è¯´æ˜ï¼ŒæŒ‰æ­¥éª¤æ‰§è¡Œå³å¯ã€‚\u003c/p\u003e","title":"åœ¨ WSL ä¸­é…ç½® Chrome DevTools MCP"},{"content":"For developers who love the power of Linux tools but work on Windows, the Windows Subsystem for Linux (WSL) is a game-changer. Cursor, the AI-first code editor, can further enhance this setup by integrating with Model Control Program (MCP) servers. Running these MCP servers directly within your WSL environment keeps your development workflow clean and consolidated. This guide will walk you through configuring Cursor to use MCP servers running in WSL.\nWhat is MCP? MCP (Model Control Protocol) is a protocol that allows AI models, like those in Cursor, to securely interact with various tools and data sources. These tools, or \u0026ldquo;MCP servers,\u0026rdquo; can perform actions like web searches, file system operations, or even browser interactions, providing the AI with a richer context and more capabilities.\nWhy Run MCP Servers in WSL? Consistency: Keep your entire development toolchain within the Linux environment you\u0026rsquo;re comfortable with. Simplified Paths: Avoid complexities with Windows vs. Linux path translations for tools that access the file system. Leverage Linux-specific Tools: Some MCP servers or their dependencies might work better or exclusively in a Linux environment. Containment: Keep Node.js versions and other dependencies required by MCP servers managed within WSL, separate from your Windows system. Prerequisites Before you begin, ensure you have the following:\nWSL Installed: A working WSL installation with a Linux distribution (e.g., Ubuntu). Node.js and npx in WSL: Node.js and npx (which comes with npm) must be installed inside your WSL distribution. It\u0026rsquo;s highly recommended to use a version manager like nvm (Node Version Manager) within WSL to manage Node.js versions. This helps avoid permission issues and allows easy switching between Node.js versions. Cursor IDE: Installed on your Windows machine. Configuration Steps The key to running MCP servers in WSL is to tell Cursor how to launch them using the WSL command-line interface. This is done by editing the mcp.json file.\n1. Locate or Create mcp.json Cursor stores its MCP server configurations in a file named mcp.json. On Windows, you can typically find this file in:\nC:\\\\Users\\\\\u0026lt;YourUserName\u0026gt;\\\\.cursor\\\\mcp.json\nReplace \u0026lt;YourUserName\u0026gt; with your actual Windows username. If the file or .cursor directory doesn\u0026rsquo;t exist, Cursor might create it when you first try to add an MCP server through its UI, or you might need to create it manually.\n2. Understanding mcp.json Structure The mcp.json file contains a JSON object, where each key under mcpServers represents a configured MCP server. Here\u0026rsquo;s a basic structure:\n{ \u0026#34;mcpServers\u0026#34;: { \u0026#34;your-mcp-server-name\u0026#34;: { \u0026#34;command\u0026#34;: \u0026#34;executable_or_wsl\u0026#34;, \u0026#34;args\u0026#34;: [\u0026#34;argument1\u0026#34;, \u0026#34;argument2\u0026#34;, \u0026#34;command_to_run_in_wsl\u0026#34;], \u0026#34;enabled\u0026#34;: true // Other options like \u0026#34;env\u0026#34;, \u0026#34;workingDirectory\u0026#34; can also be specified } } } 3. Core Configuration for WSL To run an MCP server (which is typically an npx command) within WSL, you\u0026rsquo;ll configure a server entry as follows:\n\u0026quot;command\u0026quot;: Set this to \u0026quot;wsl\u0026quot;.\n\u0026quot;args\u0026quot;: This will be an array. The first elements tell wsl which shell to use and to execute a command string. The final element is the command string itself.\nExample for bash: [\u0026quot;bash\u0026quot;, \u0026quot;-c\u0026quot;, \u0026quot;npx @some-mcp/package --port {{port}}\u0026quot;] Example for zsh: [\u0026quot;zsh\u0026quot;, \u0026quot;-c\u0026quot;, \u0026quot;npx @some-mcp/package --port {{port}}\u0026quot;] (Note: {{port}} is a placeholder that Cursor often uses to inject a port number for the MCP server to listen on. Check the specific MCP server\u0026rsquo;s documentation if it requires a port.)\n4. Handling Shell Environment (Crucial for nvm users) A common issue is that when Cursor invokes wsl ... npx ..., the npx command might not be found, or it might not use the Node.js version you expect (especially if you use nvm). This is because the non-interactive shell session started by wsl might not load your full shell profile (e.g., .bashrc, .zshrc), where nvm and other PATH modifications are usually configured.\nHere are two reliable solutions:\nSolution A: Using a Shell Script (Recommended for Clarity)\nThis method involves creating a small shell script within your WSL environment that sets up the environment and then runs the npx command.\nCreate the Script in WSL: Open your WSL terminal and create a script, for example, ~/run_browsermcp.sh:\n#!/bin/zsh # Or use #!/bin/bash if you use bash # Source your shell\u0026#39;s rc file to load nvm and other environment settings # Adjust the path to your rc file if necessary if [ -f \u0026#34;$HOME/.zshrc\u0026#34; ]; then source \u0026#34;$HOME/.zshrc\u0026#34; elif [ -f \u0026#34;$HOME/.bashrc\u0026#34; ]; then source \u0026#34;$HOME/.bashrc\u0026#34; fi # For debugging: check which npx is being used and Node version # which npx # node -v # The actual npx command for your MCP server # Replace with the specific MCP server command you need npx @browsermcp/mcp@latest --port {{port}} a example:\n#!/bin/sh zsh -c \u0026#34;source /home/vector/.zshrc \u0026amp;\u0026amp; npx @browsermcp/mcp@latest\u0026#34; (Note: The script directly invokes zsh -c. If using this approach, ensure the script itself is executable and the path to .zshrc is correct.)\nMake the Script Executable: In your WSL terminal:\nchmod +x ~/run_browsermcp.sh (Adjust script name as needed).\nConfigure mcp.json: Modify your mcp.json to execute this script. If your WSL username is vector and you use zsh, and the script is at /home/vector/run_browsermcp.sh:\n{ \u0026#34;mcpServers\u0026#34;: { \u0026#34;browsermcp-wsl\u0026#34;: { // Give it a descriptive name \u0026#34;command\u0026#34;: \u0026#34;wsl\u0026#34;, \u0026#34;args\u0026#34;: [ \u0026#34;zsh\u0026#34;, // Or \u0026#34;bash\u0026#34; \u0026#34;-c\u0026#34;, \u0026#34;/home/vector/run_browsermcp.sh\u0026#34; // Full path to your script within WSL ], \u0026#34;enabled\u0026#34;: true } } } This matches your provided mcp.json structure for browsermcp:\n{ \u0026#34;mcpServers\u0026#34;: { \u0026#34;browsermcp\u0026#34;: { \u0026#34;command\u0026#34;: \u0026#34;wsl\u0026#34;, \u0026#34;args\u0026#34;: [ \u0026#34;zsh\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;/home/vector/browsermcp.sh\u0026#34; // Path from your example ] } } } Solution B: Directly Sourcing in mcp.json\nYou can try to source your rc file directly in the args. This can sometimes be less reliable depending on the complexity of your rc file, but it\u0026rsquo;s more concise if it works.\n{ \u0026#34;mcpServers\u0026#34;: { \u0026#34;my-mcp-server-bash\u0026#34;: { \u0026#34;command\u0026#34;: \u0026#34;wsl\u0026#34;, \u0026#34;args\u0026#34;: [ \u0026#34;bash\u0026#34;, \u0026#34;-ic\u0026#34;, // Note: -i for interactive to potentially help source rc files \u0026#34;source ~/.bashrc \u0026amp;\u0026amp; npx @some-mcp/package --port {{port}}\u0026#34; ], \u0026#34;enabled\u0026#34;: true }, \u0026#34;my-mcp-server-zsh\u0026#34;: { \u0026#34;command\u0026#34;: \u0026#34;wsl\u0026#34;, \u0026#34;args\u0026#34;: [ \u0026#34;zsh\u0026#34;, \u0026#34;-ic\u0026#34;, // Note: -i for interactive \u0026#34;source ~/.zshrc \u0026amp;\u0026amp; npx @some-mcp/package --port {{port}}\u0026#34; ], \u0026#34;enabled\u0026#34;: true } } } If nvm is used and the above still fails, you might need to provide the absolute path to nvm.sh and the npx executable installed by nvm:\n{ \u0026#34;mcpServers\u0026#34;: { \u0026#34;my-mcp-nvm-direct\u0026#34;: { \u0026#34;command\u0026#34;: \u0026#34;wsl\u0026#34;, \u0026#34;args\u0026#34;: [ \u0026#34;bash\u0026#34;, // Or \u0026#34;zsh\u0026#34; \u0026#34;-c\u0026#34;, // Replace /home/your_user and YOUR_NODE_VERSION appropriately \u0026#34;source /home/your_user/.nvm/nvm.sh \u0026amp;\u0026amp; /home/your_user/.nvm/versions/node/vXX.YY.Z/bin/npx @some-mcp/package --port {{port}}\u0026#34; ], \u0026#34;enabled\u0026#34;: true } } } To find the full path to npx after sourcing nvm.sh and selecting a Node version with nvm use, run which npx in your WSL terminal.\n5. Example: Configuring a Browser Interaction MCP Let\u0026rsquo;s use @browsermcp/mcp as an example, as it\u0026rsquo;s common.\nUsing Solution A (shell script ~/run_browsermcp.sh as defined before):\n{ \u0026#34;mcpServers\u0026#34;: { \u0026#34;browsermcp-wsl\u0026#34;: { \u0026#34;command\u0026#34;: \u0026#34;wsl\u0026#34;, \u0026#34;args\u0026#34;: [ \u0026#34;zsh\u0026#34;, // Or \u0026#34;bash\u0026#34; if your script and environment use bash \u0026#34;-c\u0026#34;, \u0026#34;/home/YOUR_WSL_USERNAME/run_browsermcp.sh\u0026#34; // Adjust path ], \u0026#34;enabled\u0026#34;: true, \u0026#34;env\u0026#34;: { // Optional: if the MCP server needs specific environment variables // \u0026#34;DEBUG\u0026#34;: \u0026#34;true\u0026#34; } } } } Remember to replace YOUR_WSL_USERNAME with your actual WSL username.\nVerification After saving mcp.json:\nRestart Cursor or go to Cursor Settings -\u0026gt; Features -\u0026gt; MCP and click the refresh icon next to one of your servers or for all MCP servers. A green dot next to the server name in the MCP settings indicates Cursor has successfully connected to it. You might see a new terminal window pop up (launched by wsl). This window must remain open for the MCP server to function. This is expected behavior when running MCP servers this way. Test the MCP server by asking Cursor to perform an action that uses it (e.g., for @browsermcp/mcp, ask it to \u0026ldquo;take a screenshot of the current browser tab\u0026rdquo; after setting up the companion browser extension). Troubleshooting npx: command not found or wrong Node version: This almost always means the shell environment within WSL isn\u0026rsquo;t being set up correctly. Double-check paths in your shell script or direct command. Ensure nvm is sourced correctly. Try adding export NVM_DIR=\u0026quot;$HOME/.nvm\u0026quot; and [ -s \u0026quot;$NVM_DIR/nvm.sh\u0026quot; ] \u0026amp;\u0026amp; \\. \u0026quot;$NVM_DIR/nvm.sh\u0026quot; explicitly at the start of your script or command string if using nvm. Verify that node and npx are indeed installed in your WSL distribution and accessible after sourcing your rc file. MCP Server Fails to Connect (No Green Dot): Check the output in the WSL terminal window that pops up. It might contain error messages. Ensure the npx command for the MCP server is correct and includes any necessary arguments like --port {{port}}. Some MCPs might auto-assign ports if not specified. Firewall issues: Less common with WSL2\u0026rsquo;s networking model, but ensure Windows Firewall isn\u0026rsquo;t blocking connections to WSL. \u0026ldquo;Blank\u0026rdquo; Terminal Window: As mentioned, a terminal window will open for each MCP server launched via wsl. This is normal. Closing it will stop the MCP server. Conclusion Configuring Cursor to run MCP servers within your WSL environment provides a streamlined and powerful development setup on Windows. By carefully setting up your mcp.json and ensuring your WSL shell environment is correctly sourced, you can seamlessly integrate AI capabilities into your Linux-based workflows. The shell script method (Solution A) is generally the most robust way to handle environments managed by tools like nvm.\nHappy coding with Cursor and WSL! ","permalink":"https://www.mfun.ink/english/post/installing-cursor-mcp-in-wsl/","summary":"\u003cp\u003eFor developers who love the power of Linux tools but work on Windows, the Windows Subsystem for Linux (WSL) is a game-changer. Cursor, the AI-first code editor, can further enhance this setup by integrating with Model Control Program (MCP) servers. Running these MCP servers directly within your WSL environment keeps your development workflow clean and consolidated. This guide will walk you through configuring Cursor to use MCP servers running in WSL.\u003c/p\u003e","title":"Installing Cursor MCP Servers in WSL for a Seamless Dev Experience"},{"content":"å¯¹äºå–œæ¬¢ Linux å·¥å…·çš„å¼ºå¤§åŠŸèƒ½ä½†åœ¨ Windows ä¸Šå·¥ä½œçš„å¼€å‘äººå‘˜æ¥è¯´ï¼ŒWindows Subsystem for Linux (WSL) æ˜¯ä¸€ä¸ªæ”¹å˜æ¸¸æˆè§„åˆ™çš„å·¥å…·ã€‚Cursorï¼Œè¿™æ¬¾ AI ä¼˜å…ˆçš„ä»£ç ç¼–è¾‘å™¨ï¼Œå¯ä»¥é€šè¿‡ä¸æ¨¡å‹æ§åˆ¶ç¨‹åº (MCP) æœåŠ¡å™¨é›†æˆæ¥è¿›ä¸€æ­¥å¢å¼ºæ­¤è®¾ç½®ã€‚ç›´æ¥åœ¨ä½ çš„ WSL ç¯å¢ƒä¸­è¿è¡Œè¿™äº› MCP æœåŠ¡å™¨å¯ä»¥ä½¿ä½ çš„å¼€å‘å·¥ä½œæµç¨‹ä¿æŒæ•´æ´å’Œç»Ÿä¸€ã€‚æœ¬æŒ‡å—å°†å¼•å¯¼ä½ å®Œæˆé…ç½® Cursor ä»¥ä½¿ç”¨åœ¨ WSL ä¸­è¿è¡Œçš„ MCP æœåŠ¡å™¨çš„æ­¥éª¤ã€‚\nMCP æ˜¯ä»€ä¹ˆï¼Ÿ MCP (Model Control Protocolï¼Œæ¨¡å‹æ§åˆ¶åè®®) æ˜¯ä¸€ç§åè®®ï¼Œå…è®¸åƒ Cursor ä¸­çš„ AI æ¨¡å‹å®‰å…¨åœ°ä¸å„ç§å·¥å…·å’Œæ•°æ®æºè¿›è¡Œäº¤äº’ã€‚è¿™äº›å·¥å…·ï¼Œæˆ–ç§°\u0026quot;MCP æœåŠ¡å™¨\u0026quot;ï¼Œå¯ä»¥æ‰§è¡Œè¯¸å¦‚ Web æœç´¢ã€æ–‡ä»¶ç³»ç»Ÿæ“ä½œç”šè‡³æµè§ˆå™¨äº¤äº’ç­‰æ“ä½œï¼Œä»è€Œä¸º AI æä¾›æ›´ä¸°å¯Œçš„ä¸Šä¸‹æ–‡å’Œæ›´å¤šåŠŸèƒ½ã€‚\nä¸ºä»€ä¹ˆè¦åœ¨ WSL ä¸­è¿è¡Œ MCP æœåŠ¡å™¨ï¼Ÿ ä¸€è‡´æ€§ï¼š å°†ä½ çš„æ•´ä¸ªå¼€å‘å·¥å…·é“¾ä¿æŒåœ¨ä½ ä¹ æƒ¯çš„ Linux ç¯å¢ƒä¸­ã€‚ ç®€åŒ–çš„è·¯å¾„ï¼š é¿å…åœ¨è®¿é—®æ–‡ä»¶ç³»ç»Ÿçš„å·¥å…·ä¸­å¤„ç† Windows ä¸ Linux è·¯å¾„è½¬æ¢çš„å¤æ‚æ€§ã€‚ åˆ©ç”¨ Linux ç‰¹å®šçš„å·¥å…·ï¼š æŸäº› MCP æœåŠ¡å™¨æˆ–å…¶ä¾èµ–é¡¹å¯èƒ½åœ¨ Linux ç¯å¢ƒä¸­è¿è¡Œå¾—æ›´å¥½æˆ–ä»…èƒ½åœ¨ Linux ç¯å¢ƒä¸­è¿è¡Œã€‚ éš”ç¦»æ€§ï¼š å°† MCP æœåŠ¡å™¨æ‰€éœ€çš„ Node.js ç‰ˆæœ¬å’Œå…¶ä»–ä¾èµ–é¡¹ç®¡ç†åœ¨ WSL å†…éƒ¨ï¼Œä¸ä½ çš„ Windows ç³»ç»Ÿåˆ†å¼€ã€‚ å…ˆå†³æ¡ä»¶ åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ å…·å¤‡ä»¥ä¸‹æ¡ä»¶ï¼š\nå·²å®‰è£… WSLï¼š ä¸€ä¸ªæ­£å¸¸å·¥ä½œçš„ WSLï¼Œå¹¶å·²è®¾ç½®å¥½ä¸€ä¸ª Linux å‘è¡Œç‰ˆ (ä¾‹å¦‚ Ubuntu)ã€‚ WSL ä¸­çš„ Node.js å’Œ npxï¼š Node.js å’Œ npx (npm è‡ªå¸¦) å¿…é¡»å®‰è£…åœ¨ä½ çš„ WSL å‘è¡Œç‰ˆå†…éƒ¨ã€‚ å¼ºçƒˆå»ºè®®åœ¨ WSL ä¸­ä½¿ç”¨åƒ nvm (Node Version Manager) è¿™æ ·çš„ç‰ˆæœ¬ç®¡ç†å™¨æ¥ç®¡ç† Node.js ç‰ˆæœ¬ã€‚è¿™æœ‰åŠ©äºé¿å…æƒé™é—®é¢˜ï¼Œå¹¶å…è®¸è½»æ¾åˆ‡æ¢ Node.js ç‰ˆæœ¬ã€‚ Cursor IDEï¼š å·²å®‰è£…åœ¨ä½ çš„ Windows è®¡ç®—æœºä¸Šã€‚ é…ç½®æ­¥éª¤ åœ¨ WSL ä¸­è¿è¡Œ MCP æœåŠ¡å™¨çš„å…³é”®æ˜¯å‘Šè¯‰ Cursor å¦‚ä½•ä½¿ç”¨ WSL å‘½ä»¤è¡Œç•Œé¢å¯åŠ¨å®ƒä»¬ã€‚è¿™é€šè¿‡ç¼–è¾‘ mcp.json æ–‡ä»¶æ¥å®Œæˆã€‚\n1. å®šä½æˆ–åˆ›å»º mcp.json Cursorå°†å…¶ MCP æœåŠ¡å™¨é…ç½®å­˜å‚¨åœ¨ä¸€ä¸ªåä¸º mcp.json çš„æ–‡ä»¶ä¸­ã€‚åœ¨ Windows ä¸Šï¼Œä½ é€šå¸¸å¯ä»¥åœ¨ä»¥ä¸‹ä½ç½®æ‰¾åˆ°æ­¤æ–‡ä»¶ï¼š\nC:\\\\Users\\\\\u0026lt;YourUserName\u0026gt;\\\\.cursor\\\\mcp.json\nå°† \u0026lt;YourUserName\u0026gt; æ›¿æ¢ä¸ºä½ çš„å®é™… Windows ç”¨æˆ·åã€‚å¦‚æœè¯¥æ–‡ä»¶æˆ– .cursor ç›®å½•ä¸å­˜åœ¨ï¼ŒCursor å¯èƒ½ä¼šåœ¨ä½ é¦–æ¬¡å°è¯•é€šè¿‡å…¶ UI æ·»åŠ  MCP æœåŠ¡å™¨æ—¶åˆ›å»ºå®ƒï¼Œæˆ–è€…ä½ å¯èƒ½éœ€è¦æ‰‹åŠ¨åˆ›å»ºå®ƒã€‚\n2. ç†è§£ mcp.json ç»“æ„ mcp.json æ–‡ä»¶åŒ…å«ä¸€ä¸ª JSON å¯¹è±¡ï¼Œå…¶ä¸­ mcpServersä¸‹çš„æ¯ä¸ªé”®ä»£è¡¨ä¸€ä¸ªå·²é…ç½®çš„ MCP æœåŠ¡å™¨ã€‚è¿™æ˜¯ä¸€ä¸ªåŸºæœ¬ç»“æ„ï¼š\n{ \u0026#34;mcpServers\u0026#34;: { \u0026#34;your-mcp-server-name\u0026#34;: { // ä½ çš„ MCP æœåŠ¡å™¨åç§° \u0026#34;command\u0026#34;: \u0026#34;executable_or_wsl\u0026#34;, // å¯æ‰§è¡Œæ–‡ä»¶æˆ– wsl \u0026#34;args\u0026#34;: [\u0026#34;argument1\u0026#34;, \u0026#34;argument2\u0026#34;, \u0026#34;command_to_run_in_wsl\u0026#34;], // å‚æ•° \u0026#34;enabled\u0026#34;: true // æ˜¯å¦å¯ç”¨ // å…¶ä»–é€‰é¡¹ï¼Œå¦‚ \u0026#34;env\u0026#34;, \u0026#34;workingDirectory\u0026#34; ä¹Ÿå¯ä»¥æŒ‡å®š } } } 3. WSL çš„æ ¸å¿ƒé…ç½® è¦åœ¨ WSL ä¸­è¿è¡Œ MCP æœåŠ¡å™¨ (é€šå¸¸æ˜¯ä¸€ä¸ª npx å‘½ä»¤)ï¼Œä½ éœ€è¦æŒ‰å¦‚ä¸‹æ–¹å¼é…ç½®æœåŠ¡å™¨æ¡ç›®ï¼š\n\u0026quot;command\u0026quot;: å°†æ­¤è®¾ç½®ä¸º \u0026quot;wsl\u0026quot;ã€‚\n\u0026quot;args\u0026quot;: è¿™å°†æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ç¬¬ä¸€ä¸ªå…ƒç´ å‘Šè¯‰ wsl ä½¿ç”¨å“ªä¸ª shell å¹¶æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ã€‚æœ€åä¸€ä¸ªå…ƒç´ æ˜¯å‘½ä»¤å­—ç¬¦ä¸²æœ¬èº«ã€‚\nbash ç¤ºä¾‹: [\u0026quot;bash\u0026quot;, \u0026quot;-c\u0026quot;, \u0026quot;npx @some-mcp/package --port {{port}}\u0026quot;] zsh ç¤ºä¾‹: [\u0026quot;zsh\u0026quot;, \u0026quot;-c\u0026quot;, \u0026quot;npx @some-mcp/package --port {{port}}\u0026quot;] (æ³¨æ„: {{port}} æ˜¯ Cursor é€šå¸¸ç”¨æ¥æ³¨å…¥ç«¯å£å·ä¾› MCP æœåŠ¡å™¨ä¾¦å¬çš„å ä½ç¬¦ã€‚å¦‚æœ MCP æœåŠ¡å™¨éœ€è¦ç«¯å£ï¼Œè¯·æŸ¥é˜…å…¶ç‰¹å®šæ–‡æ¡£ã€‚)\n4. å¤„ç† Shell ç¯å¢ƒ (å¯¹ nvm ç”¨æˆ·è‡³å…³é‡è¦) ä¸€ä¸ªå¸¸è§çš„é—®é¢˜æ˜¯ï¼Œå½“ Cursor è°ƒç”¨ wsl ... npx ... æ—¶ï¼Œå¯èƒ½æ‰¾ä¸åˆ° npx å‘½ä»¤ï¼Œæˆ–è€…å®ƒå¯èƒ½æœªä½¿ç”¨ä½ æœŸæœ›çš„ Node.js ç‰ˆæœ¬ (ç‰¹åˆ«æ˜¯å¦‚æœä½ ä½¿ç”¨ nvm)ã€‚è¿™æ˜¯å› ä¸º wsl å¯åŠ¨çš„éäº¤äº’å¼ shell ä¼šè¯å¯èƒ½ä¸ä¼šåŠ è½½ä½ çš„å®Œæ•´ shell é…ç½®æ–‡ä»¶ (ä¾‹å¦‚ .bashrcã€.zshrc)ï¼Œè€Œ nvm å’Œå…¶ä»– PATH ä¿®æ”¹é€šå¸¸æ˜¯åœ¨è¿™äº›æ–‡ä»¶ä¸­é…ç½®çš„ã€‚\nä»¥ä¸‹æ˜¯ä¸¤ç§å¯é çš„è§£å†³æ–¹æ¡ˆï¼š\nè§£å†³æ–¹æ¡ˆ Aï¼šä½¿ç”¨ Shell è„šæœ¬ (æ¨èï¼Œæ›´æ¸…æ™°)\næ­¤æ–¹æ³•æ¶‰åŠåœ¨ä½ çš„ WSL ç¯å¢ƒä¸­åˆ›å»ºä¸€ä¸ªå°å‹ shell è„šæœ¬ï¼Œè¯¥è„šæœ¬è´Ÿè´£è®¾ç½®ç¯å¢ƒç„¶åè¿è¡Œ npx å‘½ä»¤ã€‚\nåœ¨ WSL ä¸­åˆ›å»ºè„šæœ¬ï¼š æ‰“å¼€ä½ çš„ WSL ç»ˆç«¯å¹¶åˆ›å»ºä¸€ä¸ªè„šæœ¬ï¼Œä¾‹å¦‚ ~/run_browsermcp.shï¼š\n#!/bin/zsh # å¦‚æœä½ ä½¿ç”¨ bashï¼Œåˆ™ä½¿ç”¨ #!/bin/bash # åŠ è½½ shell çš„ rc æ–‡ä»¶ä»¥é…ç½® nvm å’Œå…¶ä»–ç¯å¢ƒå˜é‡ # å¦‚æœéœ€è¦ï¼Œè¯·è°ƒæ•´ rc æ–‡ä»¶çš„è·¯å¾„ if [ -f \u0026#34;$HOME/.zshrc\u0026#34; ]; then source \u0026#34;$HOME/.zshrc\u0026#34; elif [ -f \u0026#34;$HOME/.bashrc\u0026#34; ]; then source \u0026#34;$HOME/.bashrc\u0026#34; fi # ç”¨äºè°ƒè¯•ï¼šæ£€æŸ¥æ­£åœ¨ä½¿ç”¨å“ªä¸ª npx ä»¥åŠ Node ç‰ˆæœ¬ # which npx # node -v # ä½ çš„ MCP æœåŠ¡å™¨çš„å®é™… npx å‘½ä»¤ # æ›¿æ¢ä¸ºä½ éœ€è¦çš„ç‰¹å®š MCP æœåŠ¡å™¨å‘½ä»¤ npx @browsermcp/mcp@latest --port {{port}} ä¸€ä¸ªä¾‹å­ï¼š\n#!/bin/sh zsh -c \u0026#34;source /home/vector/.zshrc \u0026amp;\u0026amp; npx @browsermcp/mcp@latest\u0026#34; (æ³¨æ„ï¼šç›´æ¥è°ƒç”¨ zsh -cã€‚å¦‚æœä½¿ç”¨æ­¤æ–¹æ³•ï¼Œè¯·ç¡®ä¿è„šæœ¬æœ¬èº«æ˜¯å¯æ‰§è¡Œçš„ï¼Œå¹¶ä¸” .zshrc çš„è·¯å¾„æ­£ç¡®ã€‚)\nä½¿è„šæœ¬å¯æ‰§è¡Œï¼š åœ¨ä½ çš„ WSL ç»ˆç«¯ä¸­ï¼š\nchmod +x ~/run_browsermcp.sh (æ ¹æ®éœ€è¦è°ƒæ•´è„šæœ¬åç§°)ã€‚\né…ç½® mcp.jsonï¼š ä¿®æ”¹ä½ çš„ mcp.json ä»¥æ‰§è¡Œæ­¤è„šæœ¬ã€‚å¦‚æœä½ çš„ WSL ç”¨æˆ·åæ˜¯ vectorï¼Œä½ ä½¿ç”¨ zshï¼Œå¹¶ä¸”è„šæœ¬ä½äº /home/vector/run_browsermcp.shï¼š\n{ \u0026#34;mcpServers\u0026#34;: { \u0026#34;browsermcp-wsl\u0026#34;: { // ç»™å®ƒä¸€ä¸ªæè¿°æ€§çš„åç§° \u0026#34;command\u0026#34;: \u0026#34;wsl\u0026#34;, \u0026#34;args\u0026#34;: [ \u0026#34;zsh\u0026#34;, // æˆ– \u0026#34;bash\u0026#34; \u0026#34;-c\u0026#34;, \u0026#34;/home/vector/run_browsermcp.sh\u0026#34; // WSL ä¸­è„šæœ¬çš„å®Œæ•´è·¯å¾„ ], \u0026#34;enabled\u0026#34;: true } } } è¿™ä¸ä½ ä¸º browsermcp æä¾›çš„ mcp.json ç»“æ„ç›¸åŒ¹é…ï¼š\n{ \u0026#34;mcpServers\u0026#34;: { \u0026#34;browsermcp\u0026#34;: { \u0026#34;command\u0026#34;: \u0026#34;wsl\u0026#34;, \u0026#34;args\u0026#34;: [ \u0026#34;zsh\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;/home/vector/browsermcp.sh\u0026#34; // ä½ ç¤ºä¾‹ä¸­çš„è·¯å¾„ ] } } } è§£å†³æ–¹æ¡ˆ Bï¼šç›´æ¥åœ¨ mcp.json ä¸­åŠ è½½ (Sourcing)\nä½ å¯ä»¥å°è¯•ç›´æ¥åœ¨ args ä¸­åŠ è½½ä½ çš„ rc æ–‡ä»¶ã€‚æ ¹æ® rc æ–‡ä»¶çš„å¤æ‚æ€§ï¼Œè¿™æœ‰æ—¶å¯èƒ½ä¸å¤ªå¯é ï¼Œä½†å¦‚æœå¯è¡Œï¼Œåˆ™æ›´ä¸ºç®€æ´ã€‚\n{ \u0026#34;mcpServers\u0026#34;: { \u0026#34;my-mcp-server-bash\u0026#34;: { \u0026#34;command\u0026#34;: \u0026#34;wsl\u0026#34;, \u0026#34;args\u0026#34;: [ \u0026#34;bash\u0026#34;, \u0026#34;-ic\u0026#34;, // æ³¨æ„ï¼š-i è¡¨ç¤ºäº¤äº’å¼ï¼Œå¯èƒ½æœ‰åŠ©äºåŠ è½½ rc æ–‡ä»¶ \u0026#34;source ~/.bashrc \u0026amp;\u0026amp; npx @some-mcp/package --port {{port}}\u0026#34; ], \u0026#34;enabled\u0026#34;: true }, \u0026#34;my-mcp-server-zsh\u0026#34;: { \u0026#34;command\u0026#34;: \u0026#34;wsl\u0026#34;, \u0026#34;args\u0026#34;: [ \u0026#34;zsh\u0026#34;, \u0026#34;-ic\u0026#34;, // æ³¨æ„ï¼š-i è¡¨ç¤ºäº¤äº’å¼ \u0026#34;source ~/.zshrc \u0026amp;\u0026amp; npx @some-mcp/package --port {{port}}\u0026#34; ], \u0026#34;enabled\u0026#34;: true } } } å¦‚æœä½¿ç”¨ nvm å¹¶ä¸”ä¸Šè¿°æ–¹æ³•ä»ç„¶å¤±è´¥ï¼Œä½ å¯èƒ½éœ€è¦æä¾› nvm.sh å’Œç”± nvm å®‰è£…çš„ npx å¯æ‰§è¡Œæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼š\n{ \u0026#34;mcpServers\u0026#34;: { \u0026#34;my-mcp-nvm-direct\u0026#34;: { \u0026#34;command\u0026#34;: \u0026#34;wsl\u0026#34;, \u0026#34;args\u0026#34;: [ \u0026#34;bash\u0026#34;, // æˆ– \u0026#34;zsh\u0026#34; \u0026#34;-c\u0026#34;, // ç›¸åº”åœ°æ›¿æ¢ /home/your_user å’Œ YOUR_NODE_VERSION \u0026#34;source /home/your_user/.nvm/nvm.sh \u0026amp;\u0026amp; /home/your_user/.nvm/versions/node/vXX.YY.Z/bin/npx @some-mcp/package --port {{port}}\u0026#34; ], \u0026#34;enabled\u0026#34;: true } } } è¦åœ¨åŠ è½½ nvm.sh å¹¶ä½¿ç”¨ nvm use é€‰æ‹© Node ç‰ˆæœ¬åæ‰¾åˆ° npx çš„å®Œæ•´è·¯å¾„ï¼Œè¯·åœ¨ WSL ç»ˆç«¯ä¸­è¿è¡Œ which npxã€‚\n5. ç¤ºä¾‹ï¼šé…ç½®æµè§ˆå™¨äº¤äº’ MCP è®©æˆ‘ä»¬ä»¥ @browsermcp/mcp ä¸ºä¾‹ï¼Œå› ä¸ºå®ƒå¾ˆå¸¸è§ã€‚\nä½¿ç”¨è§£å†³æ–¹æ¡ˆ A (å¦‚å‰å®šä¹‰çš„ shell è„šæœ¬ ~/run_browsermcp.sh)ï¼š\n{ \u0026#34;mcpServers\u0026#34;: { \u0026#34;browsermcp-wsl\u0026#34;: { \u0026#34;command\u0026#34;: \u0026#34;wsl\u0026#34;, \u0026#34;args\u0026#34;: [ \u0026#34;zsh\u0026#34;, // å¦‚æœä½ çš„è„šæœ¬å’Œç¯å¢ƒä½¿ç”¨ bashï¼Œåˆ™ä¸º \u0026#34;bash\u0026#34; \u0026#34;-c\u0026#34;, \u0026#34;/home/YOUR_WSL_USERNAME/run_browsermcp.sh\u0026#34; // è°ƒæ•´è·¯å¾„ ], \u0026#34;enabled\u0026#34;: true, \u0026#34;env\u0026#34;: { // å¯é€‰ï¼šå¦‚æœ MCP æœåŠ¡å™¨éœ€è¦ç‰¹å®šçš„ç¯å¢ƒå˜é‡ // \u0026#34;DEBUG\u0026#34;: \u0026#34;true\u0026#34; } } } } è¯·è®°ä½å°† YOUR_WSL_USERNAME æ›¿æ¢ä¸ºä½ çš„å®é™… WSL ç”¨æˆ·åã€‚\néªŒè¯ ä¿å­˜ mcp.json åï¼š\né‡æ–°å¯åŠ¨ Cursor æˆ–è½¬åˆ° Cursor è®¾ç½® -\u0026gt; åŠŸèƒ½ -\u0026gt; MCPï¼Œç„¶åå•å‡»æŸä¸ªæœåŠ¡å™¨æ—è¾¹æˆ–æ‰€æœ‰ MCP æœåŠ¡å™¨çš„åˆ·æ–°å›¾æ ‡ã€‚ MCP è®¾ç½®ä¸­æœåŠ¡å™¨åç§°æ—è¾¹çš„ç»¿ç‚¹è¡¨ç¤º Cursor å·²æˆåŠŸè¿æ¥åˆ°å®ƒã€‚ ä½ å¯èƒ½ä¼šçœ‹åˆ°ä¸€ä¸ªç”± wsl å¯åŠ¨çš„æ–°ç»ˆç«¯çª—å£å¼¹å‡ºã€‚æ­¤çª—å£å¿…é¡»ä¿æŒæ‰“å¼€çŠ¶æ€æ‰èƒ½ä½¿ MCP æœåŠ¡å™¨æ­£å¸¸å·¥ä½œã€‚è¿™æ˜¯ä»¥è¿™ç§æ–¹å¼è¿è¡Œ MCP æœåŠ¡å™¨æ—¶çš„é¢„æœŸè¡Œä¸ºã€‚ é€šè¿‡è¦æ±‚ Cursor æ‰§è¡Œä½¿ç”¨è¯¥ MCP æœåŠ¡å™¨çš„æ“ä½œæ¥æµ‹è¯•å®ƒ (ä¾‹å¦‚ï¼Œå¯¹äº @browsermcp/mcpï¼Œåœ¨è®¾ç½®å¥½é…å¥—çš„æµè§ˆå™¨æ‰©å±•åï¼Œè¦æ±‚å®ƒ\u0026quot;æˆªå–å½“å‰æµè§ˆå™¨æ ‡ç­¾é¡µçš„å±å¹•æˆªå›¾\u0026quot;)ã€‚ æ•…éšœæ’é™¤ npx: command not found æˆ– Node ç‰ˆæœ¬é”™è¯¯ï¼š è¿™å‡ ä¹æ€»æ˜¯æ„å‘³ç€ WSL å†…çš„ shell ç¯å¢ƒæœªæ­£ç¡®è®¾ç½®ã€‚ ä»”ç»†æ£€æŸ¥ shell è„šæœ¬æˆ–ç›´æ¥å‘½ä»¤ä¸­çš„è·¯å¾„ã€‚ ç¡®ä¿ nvm å·²æ­£ç¡®åŠ è½½ã€‚ å¦‚æœä½¿ç”¨ nvmï¼Œè¯·å°è¯•åœ¨è„šæœ¬æˆ–å‘½ä»¤å­—ç¬¦ä¸²çš„å¼€å¤´æ˜ç¡®æ·»åŠ  export NVM_DIR=\u0026quot;$HOME/.nvm\u0026quot; å’Œ [ -s \u0026quot;$NVM_DIR/nvm.sh\u0026quot; ] \u0026amp;\u0026amp; \\. \u0026quot;$NVM_DIR/nvm.sh\u0026quot;ã€‚ éªŒè¯ node å’Œ npx ç¡®å®å·²å®‰è£…åœ¨ä½ çš„ WSL å‘è¡Œç‰ˆä¸­ï¼Œå¹¶ä¸”åœ¨åŠ è½½ rc æ–‡ä»¶åå¯ä»¥è®¿é—®ã€‚ MCP æœåŠ¡å™¨æ— æ³•è¿æ¥ (æ²¡æœ‰ç»¿ç‚¹)ï¼š æ£€æŸ¥å¼¹å‡ºçš„ WSL ç»ˆç«¯çª—å£ä¸­çš„è¾“å‡ºã€‚å®ƒå¯èƒ½åŒ…å«é”™è¯¯æ¶ˆæ¯ã€‚ ç¡®ä¿ MCP æœåŠ¡å™¨çš„ npx å‘½ä»¤æ­£ç¡®ï¼Œå¹¶åŒ…å«ä»»ä½•å¿…è¦çš„å‚æ•°ï¼Œå¦‚ --port {{port}}ã€‚æŸäº› MCP å¦‚æœæœªæŒ‡å®šç«¯å£ï¼Œå¯èƒ½ä¼šè‡ªåŠ¨åˆ†é…ç«¯å£ã€‚ é˜²ç«å¢™é—®é¢˜ï¼šåœ¨ä½¿ç”¨ WSL2 çš„ç½‘ç»œæ¨¡å‹æ—¶ä¸å¤ªå¸¸è§ï¼Œä½†è¯·ç¡®ä¿ Windows é˜²ç«å¢™æ²¡æœ‰é˜»æ­¢ä¸ WSL çš„è¿æ¥ã€‚ \u0026ldquo;ç©ºç™½\u0026quot;ç»ˆç«¯çª—å£ï¼š å¦‚å‰æ‰€è¿°ï¼Œæ¯ä¸ªé€šè¿‡ wsl å¯åŠ¨çš„ MCP æœåŠ¡å™¨éƒ½ä¼šæ‰“å¼€ä¸€ä¸ªç»ˆç«¯çª—å£ã€‚è¿™æ˜¯æ­£å¸¸çš„ã€‚å…³é—­å®ƒå°†åœæ­¢ MCP æœåŠ¡å™¨ã€‚ ç»“è®º é…ç½® Cursor ä»¥åœ¨ä½ çš„ WSL ç¯å¢ƒä¸­è¿è¡Œ MCP æœåŠ¡å™¨ï¼Œå¯åœ¨ Windows ä¸Šæä¾›ç®€åŒ–ä¸”å¼ºå¤§çš„å¼€å‘è®¾ç½®ã€‚é€šè¿‡ä»”ç»†è®¾ç½®ä½ çš„ mcp.json å¹¶ç¡®ä¿æ­£ç¡®åŠ è½½ WSL shell ç¯å¢ƒï¼Œä½ å¯ä»¥å°† AI åŠŸèƒ½æ— ç¼é›†æˆåˆ°åŸºäº Linux çš„å·¥ä½œæµç¨‹ä¸­ã€‚å¯¹äºå¤„ç†ç”± nvm ç­‰å·¥å…·ç®¡ç†çš„ç¯å¢ƒï¼Œshell è„šæœ¬æ–¹æ³• (è§£å†³æ–¹æ¡ˆ A) é€šå¸¸æ˜¯æœ€ç¨³å¥çš„æ–¹æ³•ã€‚\nç¥ä½ ä½¿ç”¨ Cursor å’Œ WSL ç¼–ç æ„‰å¿«ï¼ ","permalink":"https://www.mfun.ink/2025/05/13/installing-cursor-mcp-in-wsl/","summary":"\u003cp\u003eå¯¹äºå–œæ¬¢ Linux å·¥å…·çš„å¼ºå¤§åŠŸèƒ½ä½†åœ¨ Windows ä¸Šå·¥ä½œçš„å¼€å‘äººå‘˜æ¥è¯´ï¼ŒWindows Subsystem for Linux (WSL) æ˜¯ä¸€ä¸ªæ”¹å˜æ¸¸æˆè§„åˆ™çš„å·¥å…·ã€‚Cursorï¼Œè¿™æ¬¾ AI ä¼˜å…ˆçš„ä»£ç ç¼–è¾‘å™¨ï¼Œå¯ä»¥é€šè¿‡ä¸æ¨¡å‹æ§åˆ¶ç¨‹åº (MCP) æœåŠ¡å™¨é›†æˆæ¥è¿›ä¸€æ­¥å¢å¼ºæ­¤è®¾ç½®ã€‚ç›´æ¥åœ¨ä½ çš„ WSL ç¯å¢ƒä¸­è¿è¡Œè¿™äº› MCP æœåŠ¡å™¨å¯ä»¥ä½¿ä½ çš„å¼€å‘å·¥ä½œæµç¨‹ä¿æŒæ•´æ´å’Œç»Ÿä¸€ã€‚æœ¬æŒ‡å—å°†å¼•å¯¼ä½ å®Œæˆé…ç½® Cursor ä»¥ä½¿ç”¨åœ¨ WSL ä¸­è¿è¡Œçš„ MCP æœåŠ¡å™¨çš„æ­¥éª¤ã€‚\u003c/p\u003e","title":"åœ¨ WSL ä¸­å®‰è£… Cursor MCP æœåŠ¡å™¨ä»¥è·å¾—æ— ç¼å¼€å‘ä½“éªŒ"},{"content":"Introduction Hexo and Hugo are both excellent static site generators, but due to performance considerations or personal preference, you might want to migrate from Hexo to Hugo. This article will document the complete migration process in detail, including configuration, article conversion, multilingual support, and more.\nPreparation Before starting the migration, you need to install Hugo and understand the basic site creation process. Here are the official documentation links, which are recommended to follow:\n1. Install Hugo Hugo provides multiple installation methods, including pre-compiled binaries and package managers. Based on your operating system, please refer to the official installation documentation:\nHugo Official Installation Guide 2. Create a Hugo Site After installing Hugo, you can create a new Hugo site using the following command:\nhugo new site your-site-name cd your-site-name For more detailed information about creating a site, please refer to:\nHugo Quick Start Guide 3. Install a Theme Hugo has a rich selection of themes to choose from. You can browse and select a suitable theme on the Hugo Themes page.\nThe basic steps to install a theme are as follows:\ngit init git submodule add https://github.com/theme-author/theme-name.git themes/theme-name Then set the theme in your configuration file:\necho \u0026#34;theme = \u0026#39;theme-name\u0026#39;\u0026#34; \u0026gt;\u0026gt; hugo.toml Site Configuration Create a hugo.toml configuration file:\nbaseURL = \u0026#39;https://www.mfun.ink/\u0026#39; defaultContentLanguage = \u0026#39;zh-cn\u0026#39; title = \u0026#34;Mengboy\u0026#39;s Blog\u0026#34; theme = \u0026#39;PaperMod\u0026#39; hasCJKLanguage = true # Google Analytics configuration GoogleAnalytics = \u0026#34;G-xxxxxxx\u0026#34; # Please replace with your Google Analytics ID # Add permalink configuration to make link format compatible with Hexo [permalinks] post = \u0026#39;/:year/:month/:day/:contentbasename/\u0026#39; # PaperMod theme parameters [params] # Set environment to production, which is important for Google Analytics and AdSense loading env = \u0026#34;production\u0026#34; # Author information author = \u0026#34;mengboy\u0026#34; # Main sections mainSections = [\u0026#39;post\u0026#39;] defaultTheme = \u0026#34;auto\u0026#34; ShowReadingTime = true ShowShareButtons = true ShowPostNavLinks = true ShowBreadCrumbs = true ShowCodeCopyButtons = true ShowRssButtonInSectionTermList = true disableSpecial1stPost = false disableScrollToTop = false hideMeta = false hideFooter = false # Website favicon settings [params.assets] favicon = \u0026#34;/images/site/favicon.png\u0026#34; favicon16x16 = \u0026#34;/images/site/favicon.png\u0026#34; favicon32x32 = \u0026#34;/images/site/favicon.png\u0026#34; apple_touch_icon = \u0026#34;/images/site/favicon.png\u0026#34; # Google AdSense configuration, requires custom extension or theme support googleAdsense = \u0026#34;ca-pub-xxxxxxxxxx\u0026#34; # Please replace with your Google AdSense publisher ID googleAdsenseSlot = \u0026#34;xxxxxxxx\u0026#34; # Please replace with your Google AdSense ad unit ID # Sidebar configuration [params.profileMode] enabled = false title = \u0026#34;mengboy\u0026#34; subtitle = \u0026#34;Recording Learning and Life\u0026#34; imageUrl = \u0026#34;images/site/favicon.png\u0026#34; imageWidth = 120 imageHeight = 120 # Social icons [[params.socialIcons]] name = \u0026#34;github\u0026#34; url = \u0026#34;https://github.com/mengboy\u0026#34; # Search settings [params.fuseOpts] isCaseSensitive = false shouldSort = true location = 0 distance = 1000 threshold = 0.4 minMatchCharLength = 0 keys = [\u0026#34;title\u0026#34;, \u0026#34;permalink\u0026#34;, \u0026#34;summary\u0026#34;, \u0026#34;content\u0026#34;] # Allow HTML [markup.goldmark.renderer] unsafe = true # Ignore HTML warnings ignoreWarnings = [\u0026#39;raw-html\u0026#39;] ignoreLogs = [\u0026#39;warning-goldmark-raw-html\u0026#39;] [languages] [languages.zh-cn] contentDir = \u0026#39;content\u0026#39; languageName = \u0026#39;ç®€ä½“ä¸­æ–‡\u0026#39; weight = 10 title = \u0026#34;Mengboy\u0026#39;s Blog\u0026#34; # Chinese homepage information [languages.zh-cn.params] [languages.zh-cn.params.homeInfoParams] Title = \u0026#34;è®°å½•å­¦ä¹ ä¸ç”Ÿæ´»ç‚¹æ»´\u0026#34; # Chinese menu [languages.zh-cn.menu] [[languages.zh-cn.menu.main]] identifier = \u0026#34;home\u0026#34; name = \u0026#34;é¦–é¡µ\u0026#34; url = \u0026#34;/\u0026#34; weight = 10 [[languages.zh-cn.menu.main]] identifier = \u0026#34;categories\u0026#34; name = \u0026#34;åˆ†ç±»\u0026#34; url = \u0026#34;/categories/\u0026#34; weight = 20 [[languages.zh-cn.menu.main]] identifier = \u0026#34;tags\u0026#34; name = \u0026#34;æ ‡ç­¾\u0026#34; url = \u0026#34;/tags/\u0026#34; weight = 30 [[languages.zh-cn.menu.main]] identifier = \u0026#34;archives\u0026#34; name = \u0026#34;å½’æ¡£\u0026#34; url = \u0026#34;/archives/\u0026#34; weight = 40 [[languages.zh-cn.menu.main]] identifier = \u0026#34;about\u0026#34; name = \u0026#34;å…³äºæˆ‘\u0026#34; url = \u0026#34;/about/\u0026#34; weight = 50 [languages.en] contentDir = \u0026#39;content/english\u0026#39; languageName = \u0026#39;English\u0026#39; weight = 20 title = \u0026#34;Mengboy\u0026#39;s Blog\u0026#34; # English homepage information [languages.en.params] [languages.en.params.homeInfoParams] Title = \u0026#34;Recording Learning and Life\u0026#34; # English menu [languages.en.menu] [[languages.en.menu.main]] identifier = \u0026#34;home\u0026#34; name = \u0026#34;Home\u0026#34; url = \u0026#34;/\u0026#34; weight = 10 [[languages.en.menu.main]] identifier = \u0026#34;categories\u0026#34; name = \u0026#34;Categories\u0026#34; url = \u0026#34;/en/categories/\u0026#34; weight = 20 [[languages.en.menu.main]] identifier = \u0026#34;tags\u0026#34; name = \u0026#34;Tags\u0026#34; url = \u0026#34;/en/tags/\u0026#34; weight = 30 [[languages.en.menu.main]] identifier = \u0026#34;archives\u0026#34; name = \u0026#34;Archives\u0026#34; url = \u0026#34;/en/archives/\u0026#34; weight = 40 [[languages.en.menu.main]] identifier = \u0026#34;about\u0026#34; name = \u0026#34;About Me\u0026#34; url = \u0026#34;/en/about/\u0026#34; weight = 50 Create Content Directories mkdir -p content/post mkdir -p content/english/post # Directory for English articles Create Basic Pages About Page mkdir -p content/about Create Chinese about page content/about/index.md:\n--- title: \u0026#34;å…³äºæˆ‘\u0026#34; date: 2023-06-01T12:00:00+08:00 --- è¿™æ˜¯å…³äºæˆ‘çš„é¡µé¢å†…å®¹... Create English about page content/english/about/index.md:\n--- title: \u0026#34;About Me\u0026#34; date: 2023-06-01T12:00:00+08:00 --- This is about me page... You can create other basic pages using the about page as a reference.\nWrite the Conversion Script Create a Python script to convert Hexo articles to Hugo format:\n#!/usr/bin/env python3 # Convert Hexo Markdown files to Hugo format import os import re import datetime import shutil from pathlib import Path # Setup paths hexo_posts_dir = \u0026#34;hexo/source/_posts\u0026#34; hugo_posts_dir = \u0026#34;hugo/content/post\u0026#34; hexo_img_dir = \u0026#34;hexo/source/images\u0026#34; hugo_static_dir = \u0026#34;hugo/static/images\u0026#34; # Ensure target directories exist os.makedirs(hugo_posts_dir, exist_ok=True) os.makedirs(hugo_static_dir, exist_ok=True) # Copy image folder def copy_images(): if os.path.exists(hexo_img_dir): print(f\u0026#34;Copying image files from {hexo_img_dir} to {hugo_static_dir}\u0026#34;) # Copy folder contents for item in os.listdir(hexo_img_dir): s = os.path.join(hexo_img_dir, item) d = os.path.join(hugo_static_dir, item) if os.path.isdir(s): shutil.copytree(s, d, dirs_exist_ok=True) else: shutil.copy2(s, d) # Process YAML front-matter def convert_front_matter(content): # Extract front-matter match = re.match(r\u0026#39;^---\\s+(.*?)\\s+---\\s*\u0026#39;, content, re.DOTALL) if not match: return content front_matter = match.group(1) rest_content = content[match.end():] # Convert tags and categories new_front_matter = [] categories = [] tags = [] date = None for line in front_matter.strip().split(\u0026#39;\\n\u0026#39;): line = line.strip() # Process date if line.startswith(\u0026#39;date:\u0026#39;): date_str = line[5:].strip() try: date = datetime.datetime.strptime(date_str, \u0026#39;%Y-%m-%d %H:%M:%S\u0026#39;) new_front_matter.append(f\u0026#39;date: {date.strftime(\u0026#34;%Y-%m-%dT%H:%M:%S+08:00\u0026#34;)}\u0026#39;) # Add lastmod new_front_matter.append(f\u0026#39;lastmod: {date.strftime(\u0026#34;%Y-%m-%dT%H:%M:%S+08:00\u0026#34;)}\u0026#39;) except ValueError: new_front_matter.append(line) # Process tags elif line.startswith(\u0026#39;tags:\u0026#39;): tags_str = line[5:].strip() if tags_str.startswith(\u0026#39;[\u0026#39;) and tags_str.endswith(\u0026#39;]\u0026#39;): # Format is tags: [tag1, tag2] tags = [tag.strip(\u0026#39; \u0026#34;\\\u0026#39;\u0026#39;) for tag in tags_str[1:-1].split(\u0026#39;,\u0026#39;)] else: # Might be multi-line format continue # Process categories elif line.startswith(\u0026#39;categories:\u0026#39;): cats_str = line[11:].strip() if cats_str.startswith(\u0026#39;[\u0026#39;) and cats_str.endswith(\u0026#39;]\u0026#39;): # Format is categories: [cat1, cat2] categories = [cat.strip(\u0026#39; \u0026#34;\\\u0026#39;\u0026#39;) for cat in cats_str[1:-1].split(\u0026#39;,\u0026#39;)] else: # Might be multi-line format continue # Copy other lines elif not (line.startswith(\u0026#39;- \u0026#39;) and (\u0026#39;tags:\u0026#39; in front_matter or \u0026#39;categories:\u0026#39; in front_matter)): new_front_matter.append(line) # Add categories and tags if categories: new_front_matter.append(f\u0026#39;categories: {categories}\u0026#39;) if tags: new_front_matter.append(f\u0026#39;tags: {tags}\u0026#39;) # Add slug if \u0026#39;slug:\u0026#39; not in front_matter: filename = os.path.splitext(os.path.basename(content))[0] new_front_matter.append(f\u0026#39;slug: \u0026#34;{filename}\u0026#34;\u0026#39;) # Combine new front-matter new_content = \u0026#39;---\\n\u0026#39; + \u0026#39;\\n\u0026#39;.join(new_front_matter) + \u0026#39;\\n---\\n\\n\u0026#39; + rest_content return new_content # Convert Markdown content def convert_markdown_content(content): # Replace image links content = re.sub(r\u0026#39;!\\[(.*?)\\]\\((.*?)/images/(.*?)\\)\u0026#39;, r\u0026#39;![\\1](/images/\\3)\u0026#39;, content) # Handle the \u0026#34;more\u0026#34; marker content = re.sub(r\u0026#39;\u0026lt;!--\\s*more\\s*--\u0026gt;\u0026#39;, \u0026#39; \u0026#39;, content) return content # Main conversion function def convert_posts(): print(f\u0026#34;Starting to convert posts from {hexo_posts_dir} to {hugo_posts_dir}\u0026#34;) files = os.listdir(hexo_posts_dir) for file in files: if not file.endswith(\u0026#39;.md\u0026#39;): continue source_file = os.path.join(hexo_posts_dir, file) target_file = os.path.join(hugo_posts_dir, file) print(f\u0026#34;Converting: {source_file} -\u0026gt; {target_file}\u0026#34;) # Read source file with open(source_file, \u0026#39;r\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: content = f.read() # Convert content content = convert_front_matter(content) content = convert_markdown_content(content) # Write to target file with open(target_file, \u0026#39;w\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: f.write(content) # Detect language and create multilingual files def handle_multilingual(): print(\u0026#34;Processing multilingual articles...\u0026#34;) for file in os.listdir(hugo_posts_dir): if not file.endswith(\u0026#39;.md\u0026#39;): continue filepath = os.path.join(hugo_posts_dir, file) # Read file content with open(filepath, \u0026#39;r\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: content = f.read() # Check if there\u0026#39;s a language marker lang_match = re.search(r\u0026#39;language:\\s*[\\\u0026#39;\u0026#34;]?([a-z\\-]+)[\\\u0026#39;\u0026#34;]?\u0026#39;, content) if lang_match: lang = lang_match.group(1) if lang.startswith(\u0026#39;en\u0026#39;): # Create English version en_file = os.path.splitext(file)[0] + \u0026#39;.en.md\u0026#39; en_filepath = os.path.join(hugo_posts_dir, en_file) # Remove language marker and write to new file content = re.sub(r\u0026#39;language:\\s*[\\\u0026#39;\u0026#34;]?[a-z\\-]+[\\\u0026#39;\u0026#34;]?\\n\u0026#39;, \u0026#39;\u0026#39;, content) with open(en_filepath, \u0026#39;w\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: f.write(content) # Delete original file os.remove(filepath) print(f\u0026#34; Created English article: {en_filepath}\u0026#34;) if __name__ == \u0026#34;__main__\u0026#34;: copy_images() convert_posts() handle_multilingual() print(\u0026#34;Conversion complete!\u0026#34;) Run the Conversion Script cd ~/dev/book python3 convert_hexo_to_hugo.py Create a Start Script Create start.sh:\n#!/bin/bash # Start Hugo server hugo server -D Add execution permission:\nchmod +x start.sh Create a Deployment Script Create deploy.sh:\n#!/bin/bash echo -e \u0026#34;\\033[0;32mDeploying blog to GitHub Pages...\\033[0m\u0026#34; # Generate static files hugo # Go to public directory cd public # Initialize git repository if [ ! -d \u0026#34;.git\u0026#34; ]; then git init git remote add origin YOUR_GITHUB_REPOSITORY_URL # Replace with your GitHub repository URL fi # Add files git add . # Commit changes msg=\u0026#34;rebuilding site $(date)\u0026#34; if [ $# -eq 1 ]; then msg=\u0026#34;$1\u0026#34; fi git commit -m \u0026#34;$msg\u0026#34; # Push to GitHub git push -u origin master # Return to parent directory cd .. Add execution permission:\nchmod +x deploy.sh Test Run ./start.sh Create Multilingual Article Examples Chinese Article hugo new post/my-first-post.md Edit content/post/my-first-post.md:\n--- title: \u0026#34;æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢\u0026#34; date: 2023-06-10T15:30:00+08:00 lastmod: 2023-06-10T15:30:00+08:00 categories: [\u0026#34;åšå®¢\u0026#34;] tags: [\u0026#34;Hugo\u0026#34;, \u0026#34;å…¥é—¨\u0026#34;] slug: \u0026#34;my-first-post\u0026#34; description: \u0026#34;è¿™æ˜¯æˆ‘ä½¿ç”¨Hugoåˆ›å»ºçš„ç¬¬ä¸€ç¯‡åšå®¢æ–‡ç« \u0026#34; --- ## ä»‹ç» è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡Hugoåšå®¢æ–‡ç« ã€‚ \u0026lt;!--more--\u0026gt; è¿™æ˜¯æ‘˜è¦åçš„å†…å®¹ã€‚ English Article hugo new post/english/my-first-post.md Edit content/english/post/my-first-post.md:\n--- title: \u0026#34;My First Blog Post\u0026#34; date: 2023-06-10T15:30:00+08:00 lastmod: 2023-06-10T15:30:00+08:00 categories: [\u0026#34;Blog\u0026#34;] tags: [\u0026#34;Hugo\u0026#34;, \u0026#34;Getting Started\u0026#34;] slug: \u0026#34;my-first-post\u0026#34; description: \u0026#34;This is my first blog post created with Hugo\u0026#34; --- ## Introduction This is my first Hugo blog post. \u0026lt;!--more--\u0026gt; This is the content after the summary. Conclusion At this point, we have completed the entire migration process from Hexo to Hugo, including article conversion, multilingual settings, and deployment preparation. Hugo\u0026rsquo;s powerful performance and flexible features will bring a new experience to your blog.\n","permalink":"https://www.mfun.ink/english/post/hexo-to-hugo-migration-guide/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003eHexo and Hugo are both excellent static site generators, but due to performance considerations or personal preference, you might want to migrate from Hexo to Hugo. This article will document the complete migration process in detail, including configuration, article conversion, multilingual support, and more.\u003c/p\u003e\n\u003ch2 id=\"preparation\"\u003ePreparation\u003c/h2\u003e\n\u003cp\u003eBefore starting the migration, you need to install Hugo and understand the basic site creation process. Here are the official documentation links, which are recommended to follow:\u003c/p\u003e\n\u003ch3 id=\"1-install-hugo\"\u003e1. Install Hugo\u003c/h3\u003e\n\u003cp\u003eHugo provides multiple installation methods, including pre-compiled binaries and package managers. Based on your operating system, please refer to the official installation documentation:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://gohugo.io/installation/\"\u003eHugo Official Installation Guide\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"2-create-a-hugo-site\"\u003e2. Create a Hugo Site\u003c/h3\u003e\n\u003cp\u003eAfter installing Hugo, you can create a new Hugo site using the following command:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ehugo new site your-site-name\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecd your-site-name\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eFor more detailed information about creating a site, please refer to:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://gohugo.io/getting-started/quick-start/\"\u003eHugo Quick Start Guide\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"3-install-a-theme\"\u003e3. Install a Theme\u003c/h3\u003e\n\u003cp\u003eHugo has a rich selection of themes to choose from. You can browse and select a suitable theme on the \u003ca href=\"https://themes.gohugo.io/\"\u003eHugo Themes page\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eThe basic steps to install a theme are as follows:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003egit init\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003egit submodule add https://github.com/theme-author/theme-name.git themes/theme-name\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eThen set the theme in your configuration file:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;theme = \u0026#39;theme-name\u0026#39;\u0026#34;\u003c/span\u003e \u0026gt;\u0026gt; hugo.toml\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"site-configuration\"\u003eSite Configuration\u003c/h2\u003e\n\u003cp\u003eCreate a \u003ccode\u003ehugo.toml\u003c/code\u003e configuration file:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-toml\" data-lang=\"toml\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003ebaseURL\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;https://www.mfun.ink/\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003edefaultContentLanguage\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;zh-cn\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003etitle\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Mengboy\u0026#39;s Blog\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003etheme\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;PaperMod\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003ehasCJKLanguage\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Google Analytics configuration\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003eGoogleAnalytics\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;G-xxxxxxx\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e# Please replace with your Google Analytics ID\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Add permalink configuration to make link format compatible with Hexo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e[\u003cspan style=\"color:#a6e22e\"\u003epermalinks\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003epost\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/:year/:month/:day/:contentbasename/\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# PaperMod theme parameters\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e[\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# Set environment to production, which is important for Google Analytics and AdSense loading\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eenv\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;production\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# Author information\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eauthor\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;mengboy\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# Main sections\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003emainSections\u003c/span\u003e = [\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;post\u0026#39;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003edefaultTheme\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;auto\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eShowReadingTime\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eShowShareButtons\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eShowPostNavLinks\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eShowBreadCrumbs\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eShowCodeCopyButtons\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eShowRssButtonInSectionTermList\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003edisableSpecial1stPost\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003edisableScrollToTop\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003ehideMeta\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003ehideFooter\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# Website favicon settings\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  [\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eassets\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003efavicon\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/images/site/favicon.png\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003efavicon16x16\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/images/site/favicon.png\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003efavicon32x32\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/images/site/favicon.png\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eapple_touch_icon\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/images/site/favicon.png\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# Google AdSense configuration, requires custom extension or theme support\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003egoogleAdsense\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;ca-pub-xxxxxxxxxx\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e# Please replace with your Google AdSense publisher ID\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003egoogleAdsenseSlot\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;xxxxxxxx\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e# Please replace with your Google AdSense ad unit ID\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# Sidebar configuration\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  [\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eprofileMode\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eenabled\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003etitle\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;mengboy\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003esubtitle\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Recording Learning and Life\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eimageUrl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;images/site/favicon.png\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eimageWidth\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e120\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eimageHeight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e120\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# Social icons\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  [[\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003esocialIcons\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;github\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;https://github.com/mengboy\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# Search settings\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  [\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003efuseOpts\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eisCaseSensitive\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eshouldSort\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003elocation\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003edistance\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e1000\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003ethreshold\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e0.4\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eminMatchCharLength\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003ekeys\u003c/span\u003e = [\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;title\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;permalink\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;summary\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;content\u0026#34;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Allow HTML\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e[\u003cspan style=\"color:#a6e22e\"\u003emarkup\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003egoldmark\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003erenderer\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eunsafe\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Ignore HTML warnings\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003eignoreWarnings\u003c/span\u003e = [\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;raw-html\u0026#39;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003eignoreLogs\u003c/span\u003e = [\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;warning-goldmark-raw-html\u0026#39;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003econtentDir\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;content\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003elanguageName\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ç®€ä½“ä¸­æ–‡\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003etitle\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Mengboy\u0026#39;s Blog\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Chinese homepage information\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ehomeInfoParams\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eTitle\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;è®°å½•å­¦ä¹ ä¸ç”Ÿæ´»ç‚¹æ»´\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Chinese menu\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;home\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;é¦–é¡µ\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;categories\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;åˆ†ç±»\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/categories/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e20\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;tags\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;æ ‡ç­¾\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/tags/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e30\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;archives\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;å½’æ¡£\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/archives/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e40\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;about\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;å…³äºæˆ‘\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/about/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e]    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003econtentDir\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;content/english\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003elanguageName\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;English\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e20\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003etitle\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Mengboy\u0026#39;s Blog\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# English homepage information\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ehomeInfoParams\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eTitle\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Recording Learning and Life\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# English menu\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;home\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Home\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;categories\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Categories\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/en/categories/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e20\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;tags\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Tags\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/en/tags/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e30\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;archives\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Archives\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/en/archives/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e40\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;about\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;About Me\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/en/about/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"create-content-directories\"\u003eCreate Content Directories\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkdir -p content/post\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkdir -p content/english/post  \u003cspan style=\"color:#75715e\"\u003e# Directory for English articles\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"create-basic-pages\"\u003eCreate Basic Pages\u003c/h2\u003e\n\u003ch3 id=\"about-page\"\u003eAbout Page\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkdir -p content/about\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eCreate Chinese about page \u003ccode\u003econtent/about/index.md\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-markdown\" data-lang=\"markdown\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e---\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etitle: \u0026#34;å…³äºæˆ‘\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edate: 2023-06-01T12:00:00+08:00\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e---\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eè¿™æ˜¯å…³äºæˆ‘çš„é¡µé¢å†…å®¹...\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eCreate English about page \u003ccode\u003econtent/english/about/index.md\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-markdown\" data-lang=\"markdown\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e---\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etitle: \u0026#34;About Me\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edate: 2023-06-01T12:00:00+08:00\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e---\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eThis is about me page...\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eYou can create other basic pages using the about page as a reference.\u003c/p\u003e\n\u003ch2 id=\"write-the-conversion-script\"\u003eWrite the Conversion Script\u003c/h2\u003e\n\u003cp\u003eCreate a Python script to convert Hexo articles to Hugo format:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#!/usr/bin/env python3\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Convert Hexo Markdown files to Hugo format\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e os\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e re\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e datetime\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e shutil\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e pathlib \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e Path\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Setup paths\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ehexo_posts_dir \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;hexo/source/_posts\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ehugo_posts_dir \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;hugo/content/post\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ehexo_img_dir \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;hexo/source/images\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ehugo_static_dir \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;hugo/static/images\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Ensure target directories exist\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eos\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003emakedirs(hugo_posts_dir, exist_ok\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eTrue\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eos\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003emakedirs(hugo_static_dir, exist_ok\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eTrue\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Copy image folder\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ecopy_images\u003c/span\u003e():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eexists(hexo_img_dir):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        print(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Copying image files from \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003ehexo_img_dir\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e to \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003ehugo_static_dir\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Copy folder contents\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e item \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003elistdir(hexo_img_dir):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            s \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejoin(hexo_img_dir, item)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            d \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejoin(hugo_static_dir, item)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eisdir(s):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                shutil\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecopytree(s, d, dirs_exist_ok\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eTrue\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                shutil\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecopy2(s, d)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Process YAML front-matter\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003econvert_front_matter\u003c/span\u003e(content):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# Extract front-matter\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ematch\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e re\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003ematch\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003er\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;^---\\s+(.*?)\\s+---\\s*\u0026#39;\u003c/span\u003e, content, re\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDOTALL)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003enot\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003ematch\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e content\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    front_matter \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003ematch\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003egroup(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    rest_content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e content[\u003cspan style=\"color:#66d9ef\"\u003ematch\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eend():]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# Convert tags and categories\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    new_front_matter \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e []\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    categories \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e []\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    tags \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e []\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    date \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e line \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrip()\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esplit(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        line \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e line\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrip()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Process date\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e line\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estartswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;date:\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            date_str \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e line[\u003cspan style=\"color:#ae81ff\"\u003e5\u003c/span\u003e:]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrip()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003etry\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                date \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e datetime\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edatetime\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrptime(date_str, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;%Y-%m-\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%d\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e %H:%M:%S\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                new_front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;date: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003edate\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrftime(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%Y-%m-\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%d\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eT%H:%M:%S+08:00\u0026#34;\u003c/span\u003e)\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# Add lastmod\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                new_front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;lastmod: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003edate\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrftime(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%Y-%m-\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%d\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eT%H:%M:%S+08:00\u0026#34;\u003c/span\u003e)\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eexcept\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eValueError\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                new_front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(line)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Process tags\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eelif\u003c/span\u003e line\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estartswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;tags:\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            tags_str \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e line[\u003cspan style=\"color:#ae81ff\"\u003e5\u003c/span\u003e:]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrip()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e tags_str\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estartswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;[\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003eand\u003c/span\u003e tags_str\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eendswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;]\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# Format is tags: [tag1, tag2]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                tags \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [tag\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrip(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; \u0026#34;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e tag \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e tags_str[\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e:\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esplit(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;,\u0026#39;\u003c/span\u003e)]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# Might be multi-line format\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Process categories\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eelif\u003c/span\u003e line\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estartswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;categories:\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            cats_str \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e line[\u003cspan style=\"color:#ae81ff\"\u003e11\u003c/span\u003e:]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrip()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e cats_str\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estartswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;[\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003eand\u003c/span\u003e cats_str\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eendswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;]\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# Format is categories: [cat1, cat2]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                categories \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [cat\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrip(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; \u0026#34;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e cat \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e cats_str[\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e:\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esplit(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;,\u0026#39;\u003c/span\u003e)]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# Might be multi-line format\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Copy other lines\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eelif\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003enot\u003c/span\u003e (line\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estartswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;- \u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003eand\u003c/span\u003e (\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;tags:\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e front_matter \u003cspan style=\"color:#f92672\"\u003eor\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;categories:\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e front_matter)):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            new_front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(line)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# Add categories and tags\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e categories:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        new_front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;categories: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003ecategories\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e tags:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        new_front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;tags: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003etags\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# Add slug\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;slug:\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003enot\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e front_matter:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        filename \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esplitext(os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ebasename(content))[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        new_front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;slug: \u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003efilename\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# Combine new front-matter\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    new_content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;---\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejoin(new_front_matter) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e---\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e rest_content\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e new_content\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Convert Markdown content\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003econvert_markdown_content\u003c/span\u003e(content):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# Replace image links\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e re\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esub(\u003cspan style=\"color:#e6db74\"\u003er\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;!\\[(.*?)\\]\\((.*?)/images/(.*?)\\)\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003er\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;![\\1](/images/\\3)\u0026#39;\u003c/span\u003e, content)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# Handle the \u0026#34;more\u0026#34; marker\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e re\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esub(\u003cspan style=\"color:#e6db74\"\u003er\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026lt;!--\\s*more\\s*--\u0026gt;\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;, content)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e content\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Main conversion function\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003econvert_posts\u003c/span\u003e():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    print(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Starting to convert posts from \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003ehexo_posts_dir\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e to \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003ehugo_posts_dir\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    files \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003elistdir(hexo_posts_dir)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e file \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e files:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003enot\u003c/span\u003e file\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eendswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;.md\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        source_file \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejoin(hexo_posts_dir, file)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        target_file \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejoin(hugo_posts_dir, file)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        print(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Converting: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003esource_file\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e -\u0026gt; \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003etarget_file\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Read source file\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewith\u003c/span\u003e open(source_file, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;r\u0026#39;\u003c/span\u003e, encoding\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;utf-8\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e f:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e f\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eread()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Convert content\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e convert_front_matter(content)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e convert_markdown_content(content)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Write to target file\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewith\u003c/span\u003e open(target_file, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;w\u0026#39;\u003c/span\u003e, encoding\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;utf-8\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e f:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            f\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ewrite(content)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Detect language and create multilingual files\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ehandle_multilingual\u003c/span\u003e():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    print(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Processing multilingual articles...\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e file \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003elistdir(hugo_posts_dir):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003enot\u003c/span\u003e file\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eendswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;.md\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        filepath \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejoin(hugo_posts_dir, file)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Read file content\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewith\u003c/span\u003e open(filepath, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;r\u0026#39;\u003c/span\u003e, encoding\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;utf-8\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e f:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e f\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eread()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# Check if there\u0026#39;s a language marker\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        lang_match \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e re\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esearch(\u003cspan style=\"color:#e6db74\"\u003er\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;language:\\s*[\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;]?([a-z\\-]+)[\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;]?\u0026#39;\u003c/span\u003e, content)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e lang_match:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            lang \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e lang_match\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003egroup(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e lang\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estartswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;en\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# Create English version\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                en_file \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esplitext(file)[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;.en.md\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                en_filepath \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejoin(hugo_posts_dir, en_file)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# Remove language marker and write to new file\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e re\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esub(\u003cspan style=\"color:#e6db74\"\u003er\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;language:\\s*[\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;]?[a-z\\-]+[\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;]?\\n\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u003c/span\u003e, content)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003ewith\u003c/span\u003e open(en_filepath, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;w\u0026#39;\u003c/span\u003e, encoding\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;utf-8\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e f:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    f\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ewrite(content)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# Delete original file\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eremove(filepath)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                print(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;  Created English article: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003een_filepath\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e __name__ \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;__main__\u0026#34;\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    copy_images()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    convert_posts()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    handle_multilingual()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    print(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Conversion complete!\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"run-the-conversion-script\"\u003eRun the Conversion Script\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecd ~/dev/book\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epython3 convert_hexo_to_hugo.py\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"create-a-start-script\"\u003eCreate a Start Script\u003c/h2\u003e\n\u003cp\u003eCreate \u003ccode\u003estart.sh\u003c/code\u003e:\u003c/p\u003e","title":"Complete Guide to Migrating from Hexo to Hugo"},{"content":"å‰è¨€ Hexoå’ŒHugoéƒ½æ˜¯ä¼˜ç§€çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œä½†ç”±äºæ€§èƒ½è€ƒè™‘æˆ–ä¸ªäººå–œå¥½ï¼Œä½ å¯èƒ½æƒ³ä»Hexoè¿ç§»åˆ°Hugoã€‚æœ¬æ–‡å°†è¯¦ç»†è®°å½•å®Œæ•´è¿ç§»è¿‡ç¨‹ï¼ŒåŒ…æ‹¬é…ç½®ã€æ–‡ç« è½¬æ¢ã€å¤šè¯­è¨€æ”¯æŒç­‰æ–¹é¢ã€‚\nå‡†å¤‡å·¥ä½œ åœ¨å¼€å§‹è¿ç§»å‰ï¼Œä½ éœ€è¦å…ˆå®‰è£…Hugoå¹¶äº†è§£åŸºæœ¬çš„ç«™ç‚¹åˆ›å»ºæµç¨‹ã€‚ä»¥ä¸‹æ˜¯å®˜æ–¹æ–‡æ¡£é“¾æ¥ï¼Œå»ºè®®æŒ‰ç…§å®˜æ–¹æ–‡æ¡£è¿›è¡Œæ“ä½œï¼š\n1. å®‰è£…Hugo Hugoæä¾›äº†å¤šç§å®‰è£…æ–¹å¼ï¼ŒåŒ…æ‹¬é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶å’ŒåŒ…ç®¡ç†å™¨ã€‚è¯·æ ¹æ®ä½ çš„æ“ä½œç³»ç»Ÿï¼Œå‚è€ƒå®˜æ–¹å®‰è£…æ–‡æ¡£ï¼š\nHugoå®˜æ–¹å®‰è£…æŒ‡å— 2. åˆ›å»ºHugoç«™ç‚¹ å®‰è£…å®ŒHugoåï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°çš„Hugoç«™ç‚¹ï¼š\nhugo new site your-site-name cd your-site-name æ›´å¤šå…³äºåˆ›å»ºç«™ç‚¹çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒï¼š\nHugoå¿«é€Ÿå…¥é—¨æŒ‡å— 3. å®‰è£…ä¸»é¢˜ Hugoæœ‰ä¸°å¯Œçš„ä¸»é¢˜å¯ä¾›é€‰æ‹©ï¼Œä½ å¯ä»¥åœ¨Hugoä¸»é¢˜é¡µé¢æµè§ˆå¹¶é€‰æ‹©é€‚åˆçš„ä¸»é¢˜ã€‚\nå®‰è£…ä¸»é¢˜çš„åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š\ngit init git submodule add https://github.com/theme-author/theme-name.git themes/theme-name ç„¶ååœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ä¸»é¢˜ï¼š\necho \u0026#34;theme = \u0026#39;theme-name\u0026#39;\u0026#34; \u0026gt;\u0026gt; hugo.toml ç«™ç‚¹é…ç½® åˆ›å»ºhugo.tomlé…ç½®æ–‡ä»¶ï¼š\nbaseURL = \u0026#39;https://www.mfun.ink/\u0026#39; defaultContentLanguage = \u0026#39;zh-cn\u0026#39; title = \u0026#34;Mengboy\u0026#39;s Blog\u0026#34; theme = \u0026#39;PaperMod\u0026#39; hasCJKLanguage = true # Google Analyticsé…ç½® GoogleAnalytics = \u0026#34;G-xxxxxxx\u0026#34; # è¯·æ›¿æ¢ä¸ºæ‚¨çš„Google Analytics ID # æ·»åŠ permalinké…ç½®ï¼Œä½¿å¾—é“¾æ¥æ ¼å¼ä¸Hexoå…¼å®¹ [permalinks] post = \u0026#39;/:year/:month/:day/:contentbasename/\u0026#39; # PaperModä¸»é¢˜å‚æ•° [params] # è®¾ç½®ç¯å¢ƒä¸ºç”Ÿäº§ç¯å¢ƒï¼Œè¿™å¯¹äºGoogle Analyticså’ŒAdSenseåŠ è½½éå¸¸é‡è¦ env = \u0026#34;production\u0026#34; # ä½œè€…ä¿¡æ¯ author = \u0026#34;mengboy\u0026#34; # ä¸»è¦éƒ¨åˆ† mainSections = [\u0026#39;post\u0026#39;] defaultTheme = \u0026#34;auto\u0026#34; ShowReadingTime = true ShowShareButtons = true ShowPostNavLinks = true ShowBreadCrumbs = true ShowCodeCopyButtons = true ShowRssButtonInSectionTermList = true disableSpecial1stPost = false disableScrollToTop = false hideMeta = false hideFooter = false # ç½‘ç«™faviconè®¾ç½® [params.assets] favicon = \u0026#34;/images/site/favicon.png\u0026#34; favicon16x16 = \u0026#34;/images/site/favicon.png\u0026#34; favicon32x32 = \u0026#34;/images/site/favicon.png\u0026#34; apple_touch_icon = \u0026#34;/images/site/favicon.png\u0026#34; # Google AdSenseé…ç½® éœ€è¦è‡ªå®šä¹‰æ‰©å±•ï¼Œæˆ–è€…ä¸»é¢˜æ”¯æŒ googleAdsense = \u0026#34;ca-pub-xxxxxxxxxx\u0026#34; # è¯·æ›¿æ¢ä¸ºæ‚¨çš„Google AdSenseå‘å¸ƒå•†ID googleAdsenseSlot = \u0026#34;xxxxxxxx\u0026#34; # è¯·æ›¿æ¢ä¸ºæ‚¨çš„Google AdSenseå¹¿å‘Šå•å…ƒID # ä¾§è¾¹æ é…ç½® [params.profileMode] enabled = false title = \u0026#34;mengboy\u0026#34; subtitle = \u0026#34;è®°å½•å­¦ä¹ ä¸ç”Ÿæ´»ç‚¹æ»´\u0026#34; imageUrl = \u0026#34;images/site/favicon.png\u0026#34; imageWidth = 120 imageHeight = 120 # ç¤¾äº¤å›¾æ ‡ [[params.socialIcons]] name = \u0026#34;github\u0026#34; url = \u0026#34;https://github.com/mengboy\u0026#34; # æœç´¢è®¾ç½® [params.fuseOpts] isCaseSensitive = false shouldSort = true location = 0 distance = 1000 threshold = 0.4 minMatchCharLength = 0 keys = [\u0026#34;title\u0026#34;, \u0026#34;permalink\u0026#34;, \u0026#34;summary\u0026#34;, \u0026#34;content\u0026#34;] # å…è®¸HTML [markup.goldmark.renderer] unsafe = true # å¿½ç•¥HTMLè­¦å‘Š ignoreWarnings = [\u0026#39;raw-html\u0026#39;] ignoreLogs = [\u0026#39;warning-goldmark-raw-html\u0026#39;] [languages] [languages.zh-cn] contentDir = \u0026#39;content\u0026#39; languageName = \u0026#39;ç®€ä½“ä¸­æ–‡\u0026#39; weight = 10 title = \u0026#34;Mengboy\u0026#39;s Blog\u0026#34; # ä¸­æ–‡ä¸»é¡µä¿¡æ¯ [languages.zh-cn.params] [languages.zh-cn.params.homeInfoParams] Title = \u0026#34;è®°å½•å­¦ä¹ ä¸ç”Ÿæ´»ç‚¹æ»´\u0026#34; # ä¸­æ–‡èœå• [languages.zh-cn.menu] [[languages.zh-cn.menu.main]] identifier = \u0026#34;home\u0026#34; name = \u0026#34;é¦–é¡µ\u0026#34; url = \u0026#34;/\u0026#34; weight = 10 [[languages.zh-cn.menu.main]] identifier = \u0026#34;categories\u0026#34; name = \u0026#34;åˆ†ç±»\u0026#34; url = \u0026#34;/categories/\u0026#34; weight = 20 [[languages.zh-cn.menu.main]] identifier = \u0026#34;tags\u0026#34; name = \u0026#34;æ ‡ç­¾\u0026#34; url = \u0026#34;/tags/\u0026#34; weight = 30 [[languages.zh-cn.menu.main]] identifier = \u0026#34;archives\u0026#34; name = \u0026#34;å½’æ¡£\u0026#34; url = \u0026#34;/archives/\u0026#34; weight = 40 [[languages.zh-cn.menu.main]] identifier = \u0026#34;about\u0026#34; name = \u0026#34;å…³äºæˆ‘\u0026#34; url = \u0026#34;/about/\u0026#34; weight = 50 [languages.en] contentDir = \u0026#39;content/english\u0026#39; languageName = \u0026#39;English\u0026#39; weight = 20 title = \u0026#34;Mengboy\u0026#39;s Blog\u0026#34; # è‹±æ–‡ä¸»é¡µä¿¡æ¯ [languages.en.params] [languages.en.params.homeInfoParams] Title = \u0026#34;Recording Learning and Life\u0026#34; # è‹±æ–‡èœå• [languages.en.menu] [[languages.en.menu.main]] identifier = \u0026#34;home\u0026#34; name = \u0026#34;Home\u0026#34; url = \u0026#34;/\u0026#34; weight = 10 [[languages.en.menu.main]] identifier = \u0026#34;categories\u0026#34; name = \u0026#34;Categories\u0026#34; url = \u0026#34;/en/categories/\u0026#34; weight = 20 [[languages.en.menu.main]] identifier = \u0026#34;tags\u0026#34; name = \u0026#34;Tags\u0026#34; url = \u0026#34;/en/tags/\u0026#34; weight = 30 [[languages.en.menu.main]] identifier = \u0026#34;archives\u0026#34; name = \u0026#34;Archives\u0026#34; url = \u0026#34;/en/archives/\u0026#34; weight = 40 [[languages.en.menu.main]] identifier = \u0026#34;about\u0026#34; name = \u0026#34;About Me\u0026#34; url = \u0026#34;/en/about/\u0026#34; weight = 50 åˆ›å»ºå†…å®¹ç›®å½• mkdir -p content/post mkdir -p content/post/english # è‹±æ–‡æ–‡ç« ç›®å½• åˆ›å»ºåŸºç¡€é¡µé¢ å…³äºé¡µé¢ mkdir -p content/about åˆ›å»ºä¸­æ–‡å…³äºé¡µé¢ content/about/index.mdï¼š\n--- title: \u0026#34;å…³äºæˆ‘\u0026#34; date: 2023-06-01T12:00:00+08:00 --- è¿™æ˜¯å…³äºæˆ‘çš„é¡µé¢å†…å®¹... åˆ›å»ºè‹±æ–‡å…³äºé¡µé¢ content/english/about/index.mdï¼š\n--- title: \u0026#34;About Me\u0026#34; date: 2023-06-01T12:00:00+08:00 --- This is about me page... å…¶ä»–åŸºç¡€é¡µé¢å‚è€ƒabouté¡µé¢ã€‚\nç¼–å†™è½¬æ¢è„šæœ¬ åˆ›å»ºä¸€ä¸ªPythonè„šæœ¬æ¥è½¬æ¢Hexoæ–‡ç« åˆ°Hugoæ ¼å¼ï¼š\n#!/usr/bin/env python3 # å°†Hexoçš„Markdownæ–‡ä»¶è½¬æ¢ä¸ºHugoæ ¼å¼ import os import re import datetime import shutil from pathlib import Path # è®¾ç½®è·¯å¾„ hexo_posts_dir = \u0026#34;hexo/source/_posts\u0026#34; hugo_posts_dir = \u0026#34;hugo/content/post\u0026#34; hexo_img_dir = \u0026#34;hexo/source/images\u0026#34; hugo_static_dir = \u0026#34;hugo/static/images\u0026#34; # ç¡®ä¿ç›®æ ‡ç›®å½•å­˜åœ¨ os.makedirs(hugo_posts_dir, exist_ok=True) os.makedirs(hugo_static_dir, exist_ok=True) # å¤åˆ¶å›¾ç‰‡æ–‡ä»¶å¤¹ def copy_images(): if os.path.exists(hexo_img_dir): print(f\u0026#34;æ­£åœ¨å¤åˆ¶å›¾ç‰‡æ–‡ä»¶ä» {hexo_img_dir} åˆ° {hugo_static_dir}\u0026#34;) # å¤åˆ¶æ–‡ä»¶å¤¹å†…å®¹ for item in os.listdir(hexo_img_dir): s = os.path.join(hexo_img_dir, item) d = os.path.join(hugo_static_dir, item) if os.path.isdir(s): shutil.copytree(s, d, dirs_exist_ok=True) else: shutil.copy2(s, d) # å¤„ç†YAML front-matter def convert_front_matter(content): # æå–front-matter match = re.match(r\u0026#39;^---\\s+(.*?)\\s+---\\s*\u0026#39;, content, re.DOTALL) if not match: return content front_matter = match.group(1) rest_content = content[match.end():] # è½¬æ¢æ ‡ç­¾å’Œåˆ†ç±» new_front_matter = [] categories = [] tags = [] date = None for line in front_matter.strip().split(\u0026#39;\\n\u0026#39;): line = line.strip() # å¤„ç†æ—¥æœŸ if line.startswith(\u0026#39;date:\u0026#39;): date_str = line[5:].strip() try: date = datetime.datetime.strptime(date_str, \u0026#39;%Y-%m-%d %H:%M:%S\u0026#39;) new_front_matter.append(f\u0026#39;date: {date.strftime(\u0026#34;%Y-%m-%dT%H:%M:%S+08:00\u0026#34;)}\u0026#39;) # æ·»åŠ lastmod new_front_matter.append(f\u0026#39;lastmod: {date.strftime(\u0026#34;%Y-%m-%dT%H:%M:%S+08:00\u0026#34;)}\u0026#39;) except ValueError: new_front_matter.append(line) # å¤„ç†æ ‡ç­¾ elif line.startswith(\u0026#39;tags:\u0026#39;): tags_str = line[5:].strip() if tags_str.startswith(\u0026#39;[\u0026#39;) and tags_str.endswith(\u0026#39;]\u0026#39;): # æ ¼å¼ä¸º tags: [tag1, tag2] tags = [tag.strip(\u0026#39; \u0026#34;\\\u0026#39;\u0026#39;) for tag in tags_str[1:-1].split(\u0026#39;,\u0026#39;)] else: # å¯èƒ½æ˜¯å¤šè¡Œæ ¼å¼ continue # å¤„ç†åˆ†ç±» elif line.startswith(\u0026#39;categories:\u0026#39;): cats_str = line[11:].strip() if cats_str.startswith(\u0026#39;[\u0026#39;) and cats_str.endswith(\u0026#39;]\u0026#39;): # æ ¼å¼ä¸º categories: [cat1, cat2] categories = [cat.strip(\u0026#39; \u0026#34;\\\u0026#39;\u0026#39;) for cat in cats_str[1:-1].split(\u0026#39;,\u0026#39;)] else: # å¯èƒ½æ˜¯å¤šè¡Œæ ¼å¼ continue # å¤åˆ¶å…¶ä»–è¡Œ elif not (line.startswith(\u0026#39;- \u0026#39;) and (\u0026#39;tags:\u0026#39; in front_matter or \u0026#39;categories:\u0026#39; in front_matter)): new_front_matter.append(line) # æ·»åŠ åˆ†ç±»å’Œæ ‡ç­¾ if categories: new_front_matter.append(f\u0026#39;categories: {categories}\u0026#39;) if tags: new_front_matter.append(f\u0026#39;tags: {tags}\u0026#39;) # æ·»åŠ slug if \u0026#39;slug:\u0026#39; not in front_matter: filename = os.path.splitext(os.path.basename(content))[0] new_front_matter.append(f\u0026#39;slug: \u0026#34;{filename}\u0026#34;\u0026#39;) # ç»„åˆæ–°çš„front-matter new_content = \u0026#39;---\\n\u0026#39; + \u0026#39;\\n\u0026#39;.join(new_front_matter) + \u0026#39;\\n---\\n\\n\u0026#39; + rest_content return new_content # è½¬æ¢Markdownå†…å®¹ def convert_markdown_content(content): # æ›¿æ¢å›¾ç‰‡é“¾æ¥ content = re.sub(r\u0026#39;!\\[(.*?)\\]\\((.*?)/images/(.*?)\\)\u0026#39;, r\u0026#39;![\\1](/images/\\3)\u0026#39;, content) # å¤„ç†æ›´å¤šæ ‡è®° content = re.sub(r\u0026#39;\u0026lt;!--\\s*more\\s*--\u0026gt;\u0026#39;, \u0026#39; \u0026#39;, content) return content # ä¸»è½¬æ¢å‡½æ•° def convert_posts(): print(f\u0026#34;å¼€å§‹è½¬æ¢æ–‡ç« ä» {hexo_posts_dir} åˆ° {hugo_posts_dir}\u0026#34;) files = os.listdir(hexo_posts_dir) for file in files: if not file.endswith(\u0026#39;.md\u0026#39;): continue source_file = os.path.join(hexo_posts_dir, file) target_file = os.path.join(hugo_posts_dir, file) print(f\u0026#34;è½¬æ¢: {source_file} -\u0026gt; {target_file}\u0026#34;) # è¯»å–æºæ–‡ä»¶ with open(source_file, \u0026#39;r\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: content = f.read() # è½¬æ¢å†…å®¹ content = convert_front_matter(content) content = convert_markdown_content(content) # å†™å…¥ç›®æ ‡æ–‡ä»¶ with open(target_file, \u0026#39;w\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: f.write(content) # æ£€æµ‹è¯­è¨€å¹¶åˆ›å»ºå¤šè¯­è¨€æ–‡ä»¶ def handle_multilingual(): print(\u0026#34;å¤„ç†å¤šè¯­è¨€æ–‡ç« ...\u0026#34;) for file in os.listdir(hugo_posts_dir): if not file.endswith(\u0026#39;.md\u0026#39;): continue filepath = os.path.join(hugo_posts_dir, file) # è¯»å–æ–‡ä»¶å†…å®¹ with open(filepath, \u0026#39;r\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: content = f.read() # æ£€æŸ¥æ˜¯å¦æœ‰languageæ ‡è®° lang_match = re.search(r\u0026#39;language:\\s*[\\\u0026#39;\u0026#34;]?([a-z\\-]+)[\\\u0026#39;\u0026#34;]?\u0026#39;, content) if lang_match: lang = lang_match.group(1) if lang.startswith(\u0026#39;en\u0026#39;): # åˆ›å»ºè‹±æ–‡ç‰ˆæœ¬ en_file = os.path.splitext(file)[0] + \u0026#39;.en.md\u0026#39; en_filepath = os.path.join(hugo_posts_dir, en_file) # ç§»é™¤è¯­è¨€æ ‡è®°å¹¶å†™å…¥æ–°æ–‡ä»¶ content = re.sub(r\u0026#39;language:\\s*[\\\u0026#39;\u0026#34;]?[a-z\\-]+[\\\u0026#39;\u0026#34;]?\\n\u0026#39;, \u0026#39;\u0026#39;, content) with open(en_filepath, \u0026#39;w\u0026#39;, encoding=\u0026#39;utf-8\u0026#39;) as f: f.write(content) # åˆ é™¤åŸæ–‡ä»¶ os.remove(filepath) print(f\u0026#34; åˆ›å»ºè‹±æ–‡æ–‡ç« : {en_filepath}\u0026#34;) if __name__ == \u0026#34;__main__\u0026#34;: copy_images() convert_posts() handle_multilingual() print(\u0026#34;è½¬æ¢å®Œæˆ!\u0026#34;) è¿è¡Œè½¬æ¢è„šæœ¬ cd ~/dev/book python3 convert_hexo_to_hugo.py åˆ›å»ºå¯åŠ¨è„šæœ¬ åˆ›å»ºstart.shï¼š\n#!/bin/bash # å¯åŠ¨HugoæœåŠ¡å™¨ hugo server -D æ·»åŠ æ‰§è¡Œæƒé™ï¼š\nchmod +x start.sh åˆ›å»ºéƒ¨ç½²è„šæœ¬ åˆ›å»ºdeploy.shï¼š\n#!/bin/bash echo -e \u0026#34;\\033[0;32méƒ¨ç½²åšå®¢åˆ°GitHub Pages...\\033[0m\u0026#34; # ç”Ÿæˆé™æ€æ–‡ä»¶ hugo # è¿›å…¥publicç›®å½• cd public # åˆå§‹åŒ–gitä»“åº“ if [ ! -d \u0026#34;.git\u0026#34; ]; then git init git remote add origin YOUR_GITHUB_REPOSITORY_URL # æ›¿æ¢ä¸ºæ‚¨çš„GitHubä»“åº“URL fi # æ·»åŠ æ–‡ä»¶ git add . # æäº¤æ›´æ”¹ msg=\u0026#34;rebuilding site $(date)\u0026#34; if [ $# -eq 1 ]; then msg=\u0026#34;$1\u0026#34; fi git commit -m \u0026#34;$msg\u0026#34; # æ¨é€åˆ°GitHub git push -u origin master # è¿”å›ä¸Šå±‚ç›®å½• cd .. æ·»åŠ æ‰§è¡Œæƒé™ï¼š\nchmod +x deploy.sh æµ‹è¯•è¿è¡Œ ./start.sh åˆ›å»ºå¤šè¯­è¨€æ–‡ç« ç¤ºä¾‹ ä¸­æ–‡æ–‡ç«  hugo new post/my-first-post.md ç¼–è¾‘content/post/my-first-post.mdï¼š\n--- title: \u0026#34;æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢\u0026#34; date: 2023-06-10T15:30:00+08:00 lastmod: 2023-06-10T15:30:00+08:00 categories: [\u0026#34;åšå®¢\u0026#34;] tags: [\u0026#34;Hugo\u0026#34;, \u0026#34;å…¥é—¨\u0026#34;] slug: \u0026#34;my-first-post\u0026#34; description: \u0026#34;è¿™æ˜¯æˆ‘ä½¿ç”¨Hugoåˆ›å»ºçš„ç¬¬ä¸€ç¯‡åšå®¢æ–‡ç« \u0026#34; --- ## ä»‹ç» è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡Hugoåšå®¢æ–‡ç« ã€‚ \u0026lt;!--more--\u0026gt; è¿™æ˜¯æ‘˜è¦åçš„å†…å®¹ã€‚ è‹±æ–‡æ–‡ç«  hugo new post/english/my-first-post.md ç¼–è¾‘content/english/post/my-first-post.mdï¼š\n--- title: \u0026#34;My First Blog Post\u0026#34; date: 2023-06-10T15:30:00+08:00 lastmod: 2023-06-10T15:30:00+08:00 categories: [\u0026#34;Blog\u0026#34;] tags: [\u0026#34;Hugo\u0026#34;, \u0026#34;Getting Started\u0026#34;] slug: \u0026#34;my-first-post\u0026#34; description: \u0026#34;This is my first blog post created with Hugo\u0026#34; --- ## Introduction This is my first Hugo blog post. \u0026lt;!--more--\u0026gt; This is the content after the summary. ç»“è¯­ è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ä»Hexoåˆ°Hugoçš„è¿ç§»å…¨è¿‡ç¨‹ï¼ŒåŒ…æ‹¬æ–‡ç« è½¬æ¢ã€å¤šè¯­è¨€è®¾ç½®å’Œéƒ¨ç½²å‡†å¤‡ã€‚Hugoå¼ºå¤§çš„æ€§èƒ½å’Œçµæ´»çš„åŠŸèƒ½å°†ä¸ºä½ çš„åšå®¢å¸¦æ¥æ–°çš„ä½“éªŒã€‚\n","permalink":"https://www.mfun.ink/2025/05/04/hexo-to-hugo-migration/","summary":"\u003ch2 id=\"å‰è¨€\"\u003eå‰è¨€\u003c/h2\u003e\n\u003cp\u003eHexoå’ŒHugoéƒ½æ˜¯ä¼˜ç§€çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œä½†ç”±äºæ€§èƒ½è€ƒè™‘æˆ–ä¸ªäººå–œå¥½ï¼Œä½ å¯èƒ½æƒ³ä»Hexoè¿ç§»åˆ°Hugoã€‚æœ¬æ–‡å°†è¯¦ç»†è®°å½•å®Œæ•´è¿ç§»è¿‡ç¨‹ï¼ŒåŒ…æ‹¬é…ç½®ã€æ–‡ç« è½¬æ¢ã€å¤šè¯­è¨€æ”¯æŒç­‰æ–¹é¢ã€‚\u003c/p\u003e\n\u003ch2 id=\"å‡†å¤‡å·¥ä½œ\"\u003eå‡†å¤‡å·¥ä½œ\u003c/h2\u003e\n\u003cp\u003eåœ¨å¼€å§‹è¿ç§»å‰ï¼Œä½ éœ€è¦å…ˆå®‰è£…Hugoå¹¶äº†è§£åŸºæœ¬çš„ç«™ç‚¹åˆ›å»ºæµç¨‹ã€‚ä»¥ä¸‹æ˜¯å®˜æ–¹æ–‡æ¡£é“¾æ¥ï¼Œå»ºè®®æŒ‰ç…§å®˜æ–¹æ–‡æ¡£è¿›è¡Œæ“ä½œï¼š\u003c/p\u003e\n\u003ch3 id=\"1-å®‰è£…hugo\"\u003e1. å®‰è£…Hugo\u003c/h3\u003e\n\u003cp\u003eHugoæä¾›äº†å¤šç§å®‰è£…æ–¹å¼ï¼ŒåŒ…æ‹¬é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶å’ŒåŒ…ç®¡ç†å™¨ã€‚è¯·æ ¹æ®ä½ çš„æ“ä½œç³»ç»Ÿï¼Œå‚è€ƒå®˜æ–¹å®‰è£…æ–‡æ¡£ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://gohugo.io/installation/\"\u003eHugoå®˜æ–¹å®‰è£…æŒ‡å—\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"2-åˆ›å»ºhugoç«™ç‚¹\"\u003e2. åˆ›å»ºHugoç«™ç‚¹\u003c/h3\u003e\n\u003cp\u003eå®‰è£…å®ŒHugoåï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°çš„Hugoç«™ç‚¹ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ehugo new site your-site-name\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecd your-site-name\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eæ›´å¤šå…³äºåˆ›å»ºç«™ç‚¹çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://gohugo.io/getting-started/quick-start/\"\u003eHugoå¿«é€Ÿå…¥é—¨æŒ‡å—\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"3-å®‰è£…ä¸»é¢˜\"\u003e3. å®‰è£…ä¸»é¢˜\u003c/h3\u003e\n\u003cp\u003eHugoæœ‰ä¸°å¯Œçš„ä¸»é¢˜å¯ä¾›é€‰æ‹©ï¼Œä½ å¯ä»¥åœ¨\u003ca href=\"https://themes.gohugo.io/\"\u003eHugoä¸»é¢˜é¡µé¢\u003c/a\u003eæµè§ˆå¹¶é€‰æ‹©é€‚åˆçš„ä¸»é¢˜ã€‚\u003c/p\u003e\n\u003cp\u003eå®‰è£…ä¸»é¢˜çš„åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003egit init\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003egit submodule add https://github.com/theme-author/theme-name.git themes/theme-name\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eç„¶ååœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ä¸»é¢˜ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;theme = \u0026#39;theme-name\u0026#39;\u0026#34;\u003c/span\u003e \u0026gt;\u0026gt; hugo.toml\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"ç«™ç‚¹é…ç½®\"\u003eç«™ç‚¹é…ç½®\u003c/h2\u003e\n\u003cp\u003eåˆ›å»º\u003ccode\u003ehugo.toml\u003c/code\u003eé…ç½®æ–‡ä»¶ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-toml\" data-lang=\"toml\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003ebaseURL\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;https://www.mfun.ink/\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003edefaultContentLanguage\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;zh-cn\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003etitle\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Mengboy\u0026#39;s Blog\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003etheme\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;PaperMod\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003ehasCJKLanguage\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# Google Analyticsé…ç½®\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003eGoogleAnalytics\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;G-xxxxxxx\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e# è¯·æ›¿æ¢ä¸ºæ‚¨çš„Google Analytics ID\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# æ·»åŠ permalinké…ç½®ï¼Œä½¿å¾—é“¾æ¥æ ¼å¼ä¸Hexoå…¼å®¹\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e[\u003cspan style=\"color:#a6e22e\"\u003epermalinks\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003epost\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;/:year/:month/:day/:contentbasename/\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# PaperModä¸»é¢˜å‚æ•°\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e[\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# è®¾ç½®ç¯å¢ƒä¸ºç”Ÿäº§ç¯å¢ƒï¼Œè¿™å¯¹äºGoogle Analyticså’ŒAdSenseåŠ è½½éå¸¸é‡è¦\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eenv\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;production\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# ä½œè€…ä¿¡æ¯\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eauthor\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;mengboy\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# ä¸»è¦éƒ¨åˆ†\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003emainSections\u003c/span\u003e = [\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;post\u0026#39;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003edefaultTheme\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;auto\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eShowReadingTime\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eShowShareButtons\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eShowPostNavLinks\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eShowBreadCrumbs\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eShowCodeCopyButtons\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eShowRssButtonInSectionTermList\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003edisableSpecial1stPost\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003edisableScrollToTop\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003ehideMeta\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003ehideFooter\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# ç½‘ç«™faviconè®¾ç½®\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  [\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eassets\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003efavicon\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/images/site/favicon.png\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003efavicon16x16\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/images/site/favicon.png\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003efavicon32x32\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/images/site/favicon.png\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eapple_touch_icon\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/images/site/favicon.png\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# Google AdSenseé…ç½® éœ€è¦è‡ªå®šä¹‰æ‰©å±•ï¼Œæˆ–è€…ä¸»é¢˜æ”¯æŒ\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003egoogleAdsense\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;ca-pub-xxxxxxxxxx\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e# è¯·æ›¿æ¢ä¸ºæ‚¨çš„Google AdSenseå‘å¸ƒå•†ID\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003egoogleAdsenseSlot\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;xxxxxxxx\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#75715e\"\u003e# è¯·æ›¿æ¢ä¸ºæ‚¨çš„Google AdSenseå¹¿å‘Šå•å…ƒID\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# ä¾§è¾¹æ é…ç½®\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  [\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eprofileMode\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eenabled\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003etitle\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;mengboy\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003esubtitle\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;è®°å½•å­¦ä¹ ä¸ç”Ÿæ´»ç‚¹æ»´\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eimageUrl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;images/site/favicon.png\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eimageWidth\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e120\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eimageHeight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e120\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# ç¤¾äº¤å›¾æ ‡\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  [[\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003esocialIcons\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;github\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;https://github.com/mengboy\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#75715e\"\u003e# æœç´¢è®¾ç½®\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  [\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003efuseOpts\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eisCaseSensitive\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003efalse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eshouldSort\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003elocation\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003edistance\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e1000\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003ethreshold\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e0.4\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eminMatchCharLength\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003ekeys\u003c/span\u003e = [\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;title\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;permalink\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;summary\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;content\u0026#34;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# å…è®¸HTML\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e[\u003cspan style=\"color:#a6e22e\"\u003emarkup\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003egoldmark\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003erenderer\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eunsafe\u003c/span\u003e = \u003cspan style=\"color:#66d9ef\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# å¿½ç•¥HTMLè­¦å‘Š\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003eignoreWarnings\u003c/span\u003e = [\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;raw-html\u0026#39;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003eignoreLogs\u003c/span\u003e = [\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;warning-goldmark-raw-html\u0026#39;\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003econtentDir\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;content\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003elanguageName\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;ç®€ä½“ä¸­æ–‡\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003etitle\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Mengboy\u0026#39;s Blog\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# ä¸­æ–‡ä¸»é¡µä¿¡æ¯\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ehomeInfoParams\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eTitle\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;è®°å½•å­¦ä¹ ä¸ç”Ÿæ´»ç‚¹æ»´\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# ä¸­æ–‡èœå•\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;home\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;é¦–é¡µ\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;categories\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;åˆ†ç±»\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/categories/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e20\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;tags\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;æ ‡ç­¾\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/tags/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e30\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;archives\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;å½’æ¡£\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/archives/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e40\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ezh-cn\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;about\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;å…³äºæˆ‘\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/about/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e]    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003econtentDir\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;content/english\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003elanguageName\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;English\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e20\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#a6e22e\"\u003etitle\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Mengboy\u0026#39;s Blog\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# è‹±æ–‡ä¸»é¡µä¿¡æ¯\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eparams\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003ehomeInfoParams\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eTitle\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Recording Learning and Life\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# è‹±æ–‡èœå•\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        [\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;home\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Home\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e10\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;categories\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Categories\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/en/categories/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e20\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;tags\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Tags\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/en/tags/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e30\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;archives\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;Archives\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/en/archives/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e40\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e          [[\u003cspan style=\"color:#a6e22e\"\u003elanguages\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003een\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emenu\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emain\u003c/span\u003e]]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eidentifier\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;about\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;About Me\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eurl\u003c/span\u003e = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;/en/about/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#a6e22e\"\u003eweight\u003c/span\u003e = \u003cspan style=\"color:#ae81ff\"\u003e50\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"åˆ›å»ºå†…å®¹ç›®å½•\"\u003eåˆ›å»ºå†…å®¹ç›®å½•\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkdir -p content/post\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkdir -p content/post/english  \u003cspan style=\"color:#75715e\"\u003e# è‹±æ–‡æ–‡ç« ç›®å½•\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"åˆ›å»ºåŸºç¡€é¡µé¢\"\u003eåˆ›å»ºåŸºç¡€é¡µé¢\u003c/h2\u003e\n\u003ch3 id=\"å…³äºé¡µé¢\"\u003eå…³äºé¡µé¢\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkdir -p content/about\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eåˆ›å»ºä¸­æ–‡å…³äºé¡µé¢ \u003ccode\u003econtent/about/index.md\u003c/code\u003eï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-markdown\" data-lang=\"markdown\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e---\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etitle: \u0026#34;å…³äºæˆ‘\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edate: 2023-06-01T12:00:00+08:00\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e---\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eè¿™æ˜¯å…³äºæˆ‘çš„é¡µé¢å†…å®¹...\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eåˆ›å»ºè‹±æ–‡å…³äºé¡µé¢ \u003ccode\u003econtent/english/about/index.md\u003c/code\u003eï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-markdown\" data-lang=\"markdown\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e---\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etitle: \u0026#34;About Me\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edate: 2023-06-01T12:00:00+08:00\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e---\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eThis is about me page...\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eå…¶ä»–åŸºç¡€é¡µé¢å‚è€ƒabouté¡µé¢ã€‚\u003c/p\u003e\n\u003ch2 id=\"ç¼–å†™è½¬æ¢è„šæœ¬\"\u003eç¼–å†™è½¬æ¢è„šæœ¬\u003c/h2\u003e\n\u003cp\u003eåˆ›å»ºä¸€ä¸ªPythonè„šæœ¬æ¥è½¬æ¢Hexoæ–‡ç« åˆ°Hugoæ ¼å¼ï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-python\" data-lang=\"python\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#!/usr/bin/env python3\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# å°†Hexoçš„Markdownæ–‡ä»¶è½¬æ¢ä¸ºHugoæ ¼å¼\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e os\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e re\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e datetime\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e shutil\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003efrom\u003c/span\u003e pathlib \u003cspan style=\"color:#f92672\"\u003eimport\u003c/span\u003e Path\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# è®¾ç½®è·¯å¾„\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ehexo_posts_dir \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;hexo/source/_posts\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ehugo_posts_dir \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;hugo/content/post\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ehexo_img_dir \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;hexo/source/images\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ehugo_static_dir \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;hugo/static/images\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# ç¡®ä¿ç›®æ ‡ç›®å½•å­˜åœ¨\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eos\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003emakedirs(hugo_posts_dir, exist_ok\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eTrue\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eos\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003emakedirs(hugo_static_dir, exist_ok\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eTrue\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# å¤åˆ¶å›¾ç‰‡æ–‡ä»¶å¤¹\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ecopy_images\u003c/span\u003e():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eexists(hexo_img_dir):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        print(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;æ­£åœ¨å¤åˆ¶å›¾ç‰‡æ–‡ä»¶ä» \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003ehexo_img_dir\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e åˆ° \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003ehugo_static_dir\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# å¤åˆ¶æ–‡ä»¶å¤¹å†…å®¹\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e item \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003elistdir(hexo_img_dir):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            s \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejoin(hexo_img_dir, item)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            d \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejoin(hugo_static_dir, item)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eisdir(s):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                shutil\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecopytree(s, d, dirs_exist_ok\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eTrue\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                shutil\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ecopy2(s, d)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# å¤„ç†YAML front-matter\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003econvert_front_matter\u003c/span\u003e(content):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# æå–front-matter\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ematch\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e re\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003ematch\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003er\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;^---\\s+(.*?)\\s+---\\s*\u0026#39;\u003c/span\u003e, content, re\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eDOTALL)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003enot\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003ematch\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e content\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    front_matter \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003ematch\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003egroup(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    rest_content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e content[\u003cspan style=\"color:#66d9ef\"\u003ematch\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eend():]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# è½¬æ¢æ ‡ç­¾å’Œåˆ†ç±»\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    new_front_matter \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e []\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    categories \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e []\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    tags \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e []\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    date \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eNone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e line \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrip()\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esplit(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        line \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e line\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrip()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# å¤„ç†æ—¥æœŸ\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e line\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estartswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;date:\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            date_str \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e line[\u003cspan style=\"color:#ae81ff\"\u003e5\u003c/span\u003e:]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrip()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003etry\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                date \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e datetime\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003edatetime\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrptime(date_str, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;%Y-%m-\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%d\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e %H:%M:%S\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                new_front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;date: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003edate\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrftime(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%Y-%m-\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%d\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eT%H:%M:%S+08:00\u0026#34;\u003c/span\u003e)\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# æ·»åŠ lastmod\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                new_front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;lastmod: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003edate\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrftime(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;%Y-%m-\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e%d\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eT%H:%M:%S+08:00\u0026#34;\u003c/span\u003e)\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eexcept\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eValueError\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                new_front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(line)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# å¤„ç†æ ‡ç­¾\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eelif\u003c/span\u003e line\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estartswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;tags:\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            tags_str \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e line[\u003cspan style=\"color:#ae81ff\"\u003e5\u003c/span\u003e:]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrip()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e tags_str\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estartswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;[\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003eand\u003c/span\u003e tags_str\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eendswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;]\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# æ ¼å¼ä¸º tags: [tag1, tag2]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                tags \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [tag\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrip(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; \u0026#34;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e tag \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e tags_str[\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e:\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esplit(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;,\u0026#39;\u003c/span\u003e)]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# å¯èƒ½æ˜¯å¤šè¡Œæ ¼å¼\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# å¤„ç†åˆ†ç±»\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eelif\u003c/span\u003e line\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estartswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;categories:\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            cats_str \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e line[\u003cspan style=\"color:#ae81ff\"\u003e11\u003c/span\u003e:]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrip()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e cats_str\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estartswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;[\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003eand\u003c/span\u003e cats_str\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eendswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;]\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# æ ¼å¼ä¸º categories: [cat1, cat2]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                categories \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [cat\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estrip(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39; \u0026#34;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e cat \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e cats_str[\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e:\u003cspan style=\"color:#f92672\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e]\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esplit(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;,\u0026#39;\u003c/span\u003e)]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# å¯èƒ½æ˜¯å¤šè¡Œæ ¼å¼\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# å¤åˆ¶å…¶ä»–è¡Œ\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eelif\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003enot\u003c/span\u003e (line\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estartswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;- \u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003eand\u003c/span\u003e (\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;tags:\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e front_matter \u003cspan style=\"color:#f92672\"\u003eor\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;categories:\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e front_matter)):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            new_front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(line)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# æ·»åŠ åˆ†ç±»å’Œæ ‡ç­¾\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e categories:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        new_front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;categories: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003ecategories\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e tags:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        new_front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;tags: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003etags\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# æ·»åŠ slug\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;slug:\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003enot\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e front_matter:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        filename \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esplitext(os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ebasename(content))[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        new_front_matter\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eappend(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;slug: \u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003efilename\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# ç»„åˆæ–°çš„front-matter\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    new_content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;---\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejoin(new_front_matter) \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e---\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\n\\n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e rest_content\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e new_content\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# è½¬æ¢Markdownå†…å®¹\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003econvert_markdown_content\u003c/span\u003e(content):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# æ›¿æ¢å›¾ç‰‡é“¾æ¥\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e re\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esub(\u003cspan style=\"color:#e6db74\"\u003er\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;!\\[(.*?)\\]\\((.*?)/images/(.*?)\\)\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003er\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;![\\1](/images/\\3)\u0026#39;\u003c/span\u003e, content)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# å¤„ç†æ›´å¤šæ ‡è®°\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e re\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esub(\u003cspan style=\"color:#e6db74\"\u003er\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026lt;!--\\s*more\\s*--\u0026gt;\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;, content)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e content\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# ä¸»è½¬æ¢å‡½æ•°\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003econvert_posts\u003c/span\u003e():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    print(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;å¼€å§‹è½¬æ¢æ–‡ç« ä» \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003ehexo_posts_dir\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e åˆ° \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003ehugo_posts_dir\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    files \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003elistdir(hexo_posts_dir)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e file \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e files:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003enot\u003c/span\u003e file\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eendswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;.md\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        source_file \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejoin(hexo_posts_dir, file)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        target_file \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejoin(hugo_posts_dir, file)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        print(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;è½¬æ¢: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003esource_file\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e -\u0026gt; \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003etarget_file\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# è¯»å–æºæ–‡ä»¶\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewith\u003c/span\u003e open(source_file, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;r\u0026#39;\u003c/span\u003e, encoding\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;utf-8\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e f:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e f\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eread()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# è½¬æ¢å†…å®¹\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e convert_front_matter(content)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e convert_markdown_content(content)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# å†™å…¥ç›®æ ‡æ–‡ä»¶\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewith\u003c/span\u003e open(target_file, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;w\u0026#39;\u003c/span\u003e, encoding\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;utf-8\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e f:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            f\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ewrite(content)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# æ£€æµ‹è¯­è¨€å¹¶åˆ›å»ºå¤šè¯­è¨€æ–‡ä»¶\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003edef\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003ehandle_multilingual\u003c/span\u003e():\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    print(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;å¤„ç†å¤šè¯­è¨€æ–‡ç« ...\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003efor\u003c/span\u003e file \u003cspan style=\"color:#f92672\"\u003ein\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003elistdir(hugo_posts_dir):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003enot\u003c/span\u003e file\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eendswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;.md\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003econtinue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        filepath \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejoin(hugo_posts_dir, file)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# è¯»å–æ–‡ä»¶å†…å®¹\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003ewith\u003c/span\u003e open(filepath, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;r\u0026#39;\u003c/span\u003e, encoding\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;utf-8\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e f:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e f\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eread()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# æ£€æŸ¥æ˜¯å¦æœ‰languageæ ‡è®°\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        lang_match \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e re\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esearch(\u003cspan style=\"color:#e6db74\"\u003er\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;language:\\s*[\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;]?([a-z\\-]+)[\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;]?\u0026#39;\u003c/span\u003e, content)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e lang_match:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            lang \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e lang_match\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003egroup(\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e lang\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003estartswith(\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;en\u0026#39;\u003c/span\u003e):\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# åˆ›å»ºè‹±æ–‡ç‰ˆæœ¬\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                en_file \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esplitext(file)[\u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e] \u003cspan style=\"color:#f92672\"\u003e+\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;.en.md\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                en_filepath \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003epath\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ejoin(hugo_posts_dir, en_file)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# ç§»é™¤è¯­è¨€æ ‡è®°å¹¶å†™å…¥æ–°æ–‡ä»¶\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                content \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e re\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003esub(\u003cspan style=\"color:#e6db74\"\u003er\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;language:\\s*[\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;]?[a-z\\-]+[\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e\\\u0026#39;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;]?\\n\u0026#39;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\u0026#39;\u003c/span\u003e, content)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#66d9ef\"\u003ewith\u003c/span\u003e open(en_filepath, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;w\u0026#39;\u003c/span\u003e, encoding\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;utf-8\u0026#39;\u003c/span\u003e) \u003cspan style=\"color:#66d9ef\"\u003eas\u003c/span\u003e f:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                    f\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003ewrite(content)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                \u003cspan style=\"color:#75715e\"\u003e# åˆ é™¤åŸæ–‡ä»¶\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                os\u003cspan style=\"color:#f92672\"\u003e.\u003c/span\u003eremove(filepath)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                print(\u003cspan style=\"color:#e6db74\"\u003ef\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;  åˆ›å»ºè‹±æ–‡æ–‡ç« : \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e{\u003c/span\u003een_filepath\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e __name__ \u003cspan style=\"color:#f92672\"\u003e==\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;__main__\u0026#34;\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    copy_images()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    convert_posts()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    handle_multilingual()\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    print(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;è½¬æ¢å®Œæˆ!\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"è¿è¡Œè½¬æ¢è„šæœ¬\"\u003eè¿è¡Œè½¬æ¢è„šæœ¬\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecd ~/dev/book\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epython3 convert_hexo_to_hugo.py\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"åˆ›å»ºå¯åŠ¨è„šæœ¬\"\u003eåˆ›å»ºå¯åŠ¨è„šæœ¬\u003c/h2\u003e\n\u003cp\u003eåˆ›å»º\u003ccode\u003estart.sh\u003c/code\u003eï¼š\u003c/p\u003e","title":"ä»Hexoè¿ç§»åˆ°Hugoå®Œå…¨æŒ‡å—"},{"content":"About Me I\u0026rsquo;m Mengboy. I work a lot on backend systems, cloud-native tooling, and automation, and I turn hard-earned debugging experience into reusable notes.\nThis blog is not about generic theory. It\u0026rsquo;s about real problems + executable solutions: commands you can run, configs you can apply, and workflows you can reuse.\nWhat I Write Here Engineering Practice: troubleshooting and performance tuning for Go, Redis, Nginx, Docker, Linux/WSL AI in Production Workflows: MCP, automation pipelines, and integrating AI into day-to-day development Deployment \u0026amp; Ops: stable release strategies, rollback safety, and production-minded setup Reusable Methods: decision frameworks, checklists, and templates that save time Tech Preferences Backend: Go, Python Infrastructure: Docker, Kubernetes, Linux Data Layer: MySQL, Redis, MongoDB Engineering Habits: incremental delivery, scripting-first, docs-first Writing Principles Conclusion first, then explanation. Focus on why failures happen and how to locate them fast. Include copy-paste-ready commands and configuration whenever possible. If a post helps you solve a real issue faster, it has done its job.\n","permalink":"https://www.mfun.ink/en/about/","summary":"\u003ch2 id=\"about-me\"\u003eAbout Me\u003c/h2\u003e\n\u003cp\u003eI\u0026rsquo;m Mengboy. I work a lot on backend systems, cloud-native tooling, and automation, and I turn hard-earned debugging experience into reusable notes.\u003c/p\u003e\n\u003cp\u003eThis blog is not about generic theory. It\u0026rsquo;s about \u003cstrong\u003ereal problems + executable solutions\u003c/strong\u003e: commands you can run, configs you can apply, and workflows you can reuse.\u003c/p\u003e\n\u003ch2 id=\"what-i-write-here\"\u003eWhat I Write Here\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eEngineering Practice\u003c/strong\u003e: troubleshooting and performance tuning for Go, Redis, Nginx, Docker, Linux/WSL\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eAI in Production Workflows\u003c/strong\u003e: MCP, automation pipelines, and integrating AI into day-to-day development\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDeployment \u0026amp; Ops\u003c/strong\u003e: stable release strategies, rollback safety, and production-minded setup\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eReusable Methods\u003c/strong\u003e: decision frameworks, checklists, and templates that save time\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"tech-preferences\"\u003eTech Preferences\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eBackend\u003c/strong\u003e: Go, Python\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eInfrastructure\u003c/strong\u003e: Docker, Kubernetes, Linux\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eData Layer\u003c/strong\u003e: MySQL, Redis, MongoDB\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eEngineering Habits\u003c/strong\u003e: incremental delivery, scripting-first, docs-first\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"writing-principles\"\u003eWriting Principles\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eConclusion first, then explanation.\u003c/li\u003e\n\u003cli\u003eFocus on why failures happen and how to locate them fast.\u003c/li\u003e\n\u003cli\u003eInclude copy-paste-ready commands and configuration whenever possible.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eIf a post helps you solve a real issue faster, it has done its job.\u003c/p\u003e","title":"About Me"},{"content":"å…³äºæˆ‘ æˆ‘æ˜¯ Mengboyï¼Œé•¿æœŸæŠ˜è…¾åç«¯ã€äº‘åŸç”Ÿå’Œè‡ªåŠ¨åŒ–å·¥å…·ï¼Œä¹ æƒ¯æŠŠè¸©å‘è¿‡ç¨‹å†™æˆå¯å¤ç”¨çš„å®è·µç¬”è®°ã€‚\nè¿™ä¸ªç«™ä¸è¿½â€œæ¦‚å¿µç§‘æ™®â€ï¼Œæ›´åå‘ çœŸå®é—®é¢˜ + å¯æ‰§è¡Œæ–¹æ¡ˆï¼šèƒ½å¤åˆ¶å‘½ä»¤å°±è·‘ï¼Œèƒ½è½åœ°é…ç½®å°±ä¸Šçº¿ã€‚\nè¿™ä¸ªåšå®¢ä¼šå†™ä»€ä¹ˆ å·¥ç¨‹å®æˆ˜ï¼šGoã€Redisã€Nginxã€Dockerã€Linux/WSL çš„æ•…éšœæ’æŸ¥ä¸æ€§èƒ½ä¼˜åŒ– AI å·¥å…·åŒ–ï¼šMCPã€è‡ªåŠ¨åŒ–å·¥ä½œæµã€æŠŠ AI æ¥åˆ°å®é™…å¼€å‘é“¾è·¯ éƒ¨ç½²ä¸è¿ç»´ï¼šä»ä¸ªäººé¡¹ç›®åˆ°çº¿ä¸ŠæœåŠ¡çš„ç¨³å®šå‘å¸ƒä¸å›æ»šç­–ç•¥ æ–¹æ³•è®ºæ€»ç»“ï¼šä¸è®²ç©ºè¯ï¼Œåªæ€»ç»“å¯å¤ç”¨çš„å†³ç­–å’Œæ¨¡æ¿ æˆ‘çš„æŠ€æœ¯åå¥½ åç«¯ï¼šGoã€Python åŸºç¡€è®¾æ–½ï¼šDockerã€Kubernetesã€Linux æ•°æ®å±‚ï¼šMySQLã€Redisã€MongoDB å·¥ç¨‹ä¹ æƒ¯ï¼šå°æ­¥è¿­ä»£ã€è„šæœ¬åŒ–ã€æ–‡æ¡£å…ˆè¡Œ å†™ä½œåŸåˆ™ å…ˆç»™ç»“è®ºï¼Œå†ç»™æ­¥éª¤ã€‚ é‡ç‚¹å†™â€œä¸ºä»€ä¹ˆä¼šå‡ºé”™â€å’Œâ€œæ€ä¹ˆå¿«é€Ÿå®šä½â€ã€‚ æ¯ç¯‡å°½é‡æä¾›å¯ç›´æ¥å¤åˆ¶çš„å‘½ä»¤ä¸é…ç½®ã€‚ å¦‚æœè¿™äº›å†…å®¹åˆšå¥½ä¹Ÿè§£å†³ä½ çš„é—®é¢˜ï¼Œé‚£è¿™ç¯‡æ–‡ç« å°±å€¼å›ç¥¨ä»·äº†ã€‚\n","permalink":"https://www.mfun.ink/about/","summary":"\u003ch2 id=\"å…³äºæˆ‘\"\u003eå…³äºæˆ‘\u003c/h2\u003e\n\u003cp\u003eæˆ‘æ˜¯ Mengboyï¼Œé•¿æœŸæŠ˜è…¾åç«¯ã€äº‘åŸç”Ÿå’Œè‡ªåŠ¨åŒ–å·¥å…·ï¼Œä¹ æƒ¯æŠŠè¸©å‘è¿‡ç¨‹å†™æˆå¯å¤ç”¨çš„å®è·µç¬”è®°ã€‚\u003c/p\u003e\n\u003cp\u003eè¿™ä¸ªç«™ä¸è¿½â€œæ¦‚å¿µç§‘æ™®â€ï¼Œæ›´åå‘ \u003cstrong\u003eçœŸå®é—®é¢˜ + å¯æ‰§è¡Œæ–¹æ¡ˆ\u003c/strong\u003eï¼šèƒ½å¤åˆ¶å‘½ä»¤å°±è·‘ï¼Œèƒ½è½åœ°é…ç½®å°±ä¸Šçº¿ã€‚\u003c/p\u003e","title":"å…³äºæˆ‘"},{"content":"deepseekå‡ºç°åï¼ŒAIçš„åŠ¿å¤´æ›´åŠ ä¸€è·¯ä¸å¯é˜»æŒ¡ï¼Œ cursoræœ€è¿‘åˆæ›´æ–°äº†Claude 3.7ï¼Œç¼–ç¨‹ä½“éªŒè¿›ä¸€æ­¥æé«˜ï¼Œèº«ä¸ºç å†œå¯¹æœªæ¥è¿˜æœ‰å‡ å¹´èŒä¸šç”Ÿæ¶¯å……æ»¡äº†ç„¦è™‘ã€‚ç†Ÿè¯è¯´æ‰“ä¸è¿‡å°±åŠ å…¥ï¼ŒAIçš„æµªæ½®å·²ç»é˜»æŒ¡ä¸äº†ï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯å­¦ä¹ æ¥å—ï¼Œç»†èŠ‚ç®—æ³•å®ç°æš‚ä¸”ä¸æé—¨æ§›å¤ªé«˜ï¼Œè¿˜æ˜¯å…ˆä»ä½¿ç”¨ä¸Šå…¥æ‰‹ï¼Œä¸‹é¢æ•´ç†å¸¸è§çš„promptæ¡†æ¶ã€‚\nå¸¸ç”¨æç¤ºè¯­ç»“æ„ æ¸…åå¤§å­¦DeepSeek PDFä¸­æåˆ°çš„RTGOå’ŒCO-START å…¶ä»–æç¤ºè¯­ç»“æ„ æ¡†æ¶å é¦–å­—æ¯å«ä¹‰ ç¤ºä¾‹ APE - Action (è¡ŒåŠ¨)\n- Purpose (ç›®çš„)\n- Execution (æ‰§è¡Œ) - è¡ŒåŠ¨: ä¸ºæ–°æ¨å‡ºçš„æ™ºèƒ½æ‰‹è¡¨æ’°å†™äº§å“æè¿°\n- ç›®çš„: åœ¨ç”µå•†å¹³å°ä¸Šå¸å¼•æ½œåœ¨ä¹°å®¶å¹¶æå‡äº§å“é”€é‡\n- æ‰§è¡Œ: ç”Ÿæˆä¸‰æ®µä¸åŒé£æ ¼çš„äº§å“æè¿°ï¼Œåˆ†åˆ«çªå‡ºæ‰‹è¡¨çš„å¥åº·ç›‘æµ‹ã€ä¾¿æ·æ”¯ä»˜å’Œæ—¶å°šå¤–è§‚åŠŸèƒ½ ERA - Expectation (æœŸæœ›)\n- Role (è§’è‰²)\n- Action (è¡ŒåŠ¨) - æœŸæœ›: ç”Ÿæˆä¸€ç¯‡èƒ½å¤Ÿæé«˜ç¤¾äº¤åª’ä½“äº’åŠ¨çš„äº§å“å®£ä¼ æ–‡æ¡ˆ\n- è§’è‰²: æ‹…ä»»ç¤¾äº¤åª’ä½“è¥é”€ä¸“å®¶\n- è¡ŒåŠ¨: æ’°å†™ä¸€ç¯‡çªå‡ºäº§å“ä¼˜åŠ¿å¹¶åŒ…å«è¡ŒåŠ¨å·å¬çš„ç®€çŸ­æ–‡æ¡ˆï¼Œé™„å¸¦äº§å“é“¾æ¥å’Œäº’åŠ¨é—®é¢˜ RTF - Role (è§’è‰²)\n- Task (ä»»åŠ¡)\n- Format (æ ¼å¼) - è§’è‰²: èµ„æ·±è¡Œä¸šåˆ†æå¸ˆ\n- ä»»åŠ¡: è§£ææ–°èƒ½æºæ±½è½¦å¸‚åœºè¶‹åŠ¿\n- æ ¼å¼: åŒ…å«æ•°æ®å¯è§†åŒ–å›¾è¡¨ä¸SWOTåˆ†æçŸ©é˜µçš„PPTå¤§çº² TAG - Task (ä»»åŠ¡)\n- Action (è¡ŒåŠ¨)\n- Goal (ç›®æ ‡) - ä»»åŠ¡: æå‡é•¿å°¾è¯æ’å\n- è¡ŒåŠ¨: ä¼˜åŒ–TDKæ ‡ç­¾\n- ç›®æ ‡: 3å‘¨å†…è‡ªç„¶æµé‡å¢é•¿20% CIDI - Context (ä¸Šä¸‹æ–‡)\n- Instructions (æŒ‡ä»¤)\n- Details (ç»†èŠ‚)\n- Input (è¾“å…¥) - ä¸Šä¸‹æ–‡: ä½ æ˜¯ä¸€ä½é‡‘èåˆ†æå¸ˆï¼Œéœ€è¦å¯¹æŸç§‘æŠ€å…¬å¸çš„å­£åº¦è´¢æŠ¥è¿›è¡Œåˆ†æ\n- æŒ‡ä»¤: åˆ†æå…¬å¸çš„æ”¶å…¥å¢é•¿ã€åˆ©æ¶¦ç‡ã€ç°é‡‘æµå’Œä¸»è¦ä¸šåŠ¡éƒ¨é—¨è¡¨ç°\n- ç»†èŠ‚: æŠ¥å‘Šéœ€åŒ…å«æ•°æ®å¯è§†åŒ–ï¼Œé•¿åº¦é™åˆ¶åœ¨3é¡µå†…ï¼Œé‡ç‚¹å…³æ³¨åŒæ¯”å˜åŒ–\n- è¾“å…¥: æä¾›æœ€è¿‘4ä¸ªå­£åº¦çš„è´¢åŠ¡æŠ¥è¡¨æ•°æ®ã€è¡Œä¸šå¹³å‡æ°´å¹³å’Œä¸»è¦ç«äº‰å¯¹æ‰‹æ•°æ® CARE - Context (ä¸Šä¸‹æ–‡)\n- Action (è¡ŒåŠ¨)\n- Result (ç»“æœ)\n- Example (ç¤ºä¾‹) - ä¸Šä¸‹æ–‡: ä¸€å®¶æ–°å¼€çš„å’–å•¡åº—éœ€è¦æå‡ç¤¾äº¤åª’ä½“çŸ¥ååº¦\n- è¡ŒåŠ¨: ç­–åˆ’ä¸ºæœŸä¸€ä¸ªæœˆçš„ç¤¾äº¤åª’ä½“è¥é”€æ´»åŠ¨ï¼ŒåŒ…æ‹¬æ¯æ—¥å›¾æ–‡æ›´æ–°ã€äº’åŠ¨æ´»åŠ¨å’Œå½±å“è€…åˆä½œ\n- ç»“æœ: ç²‰ä¸æ•°å¢é•¿50%ï¼Œæ¯æ—¥äº’åŠ¨ç‡æå‡30%ï¼Œå¸¦æ¥çº¿ä¸‹å®¢æµå¢é•¿20%\n- ç¤ºä¾‹: å‚è€ƒæ˜Ÿå·´å…‹çš„\u0026quot;#PSLå­£èŠ‚\u0026quot;ç¤¾åª’æ´»åŠ¨ï¼Œé€šè¿‡è¯é¢˜å¼•å¯¼å’Œç”¨æˆ·åŸåˆ›å†…å®¹å¸¦åŠ¨å‚ä¸åº¦ RASE - Role (è§’è‰²)\n- Action (è¡ŒåŠ¨)\n- Result (ç»“æœ)\n- Example (ç¤ºä¾‹) - è§’è‰²: æ‹…ä»»ä¸€ä½ç»éªŒä¸°å¯Œçš„æ—…è¡Œé¡¾é—®\n- è¡ŒåŠ¨: ä¸ºä¸€ä½è®¡åˆ’å‰å¾€æ—¥æœ¬æ—…è¡Œä¸¤å‘¨çš„å®¢æˆ·åˆ¶å®šè¡Œç¨‹è®¡åˆ’\n- ç»“æœ: ç”Ÿæˆä¸€ä»½åŒ…å«æ¯æ—¥è¡Œç¨‹ã€äº¤é€šæ–¹å¼ã€ä½å®¿å»ºè®®å’Œé¤é¥®æ¨èçš„è¯¦ç»†æ—…è¡Œè®¡åˆ’\n- ç¤ºä¾‹: å®¢æˆ·åå¥½æ–‡åŒ–ä½“éªŒå’Œè‡ªç„¶é£å…‰ï¼Œé¢„ç®—ä¸­ç­‰ COAST - Context (ä¸Šä¸‹æ–‡)\n- Objective (ç›®æ ‡)\n- Actions (è¡ŒåŠ¨)\n- Scenario (åœºæ™¯)\n- Task (ä»»åŠ¡) - èƒŒæ™¯: ä¸€å®¶ç”µå•†å…¬å¸è¿‡å»ä¸€å¹´å®¢æˆ·ç•™å­˜ç‡æŒç»­ä¸‹é™\n- ç›®æ ‡: åœ¨ä¸‹ä¸ªå­£åº¦å°†å®¢æˆ·ç•™å­˜ç‡æå‡10%\n- è¡ŒåŠ¨: å®æ–½å®¢æˆ·å¿ è¯šåº¦è®¡åˆ’ï¼Œæ”¹è¿›å®¢æˆ·æœåŠ¡æµç¨‹ï¼Œè¿›è¡Œå®¢æˆ·æ²Ÿé€šä¸ªæ€§åŒ–\n- åœºæ™¯: å®¢æˆ·åé¦ˆè¡¨æ˜æœåŠ¡å“åº”é€Ÿåº¦æ…¢ï¼Œç¼ºä¹ä¸ªæ€§åŒ–å…³æ€€ï¼Œä¸”ç°æœ‰ä¼šå‘˜ä½“ç³»ç¼ºä¹å¸å¼•åŠ›\n- ä»»åŠ¡: åˆ†æå®¢æˆ·æµå¤±åŸå› ï¼Œè®¾è®¡æ–°çš„å®¢æˆ·å¿ è¯šåº¦è®¡åˆ’ï¼Œä¼˜åŒ–å®¢æœåŸ¹è®­å†…å®¹ï¼Œå¹¶åˆ¶å®šä¸ªæ€§åŒ–æ²Ÿé€šæ–¹æ¡ˆ ROSES - Role (è§’è‰²)\n- Objective (ç›®æ ‡)\n- Scenario (åœºæ™¯)\n- Expected solution (æœŸæœ›è§£å†³æ–¹æ¡ˆ) - è§’è‰²: æ‹…ä»»ä¸“ä¸šçš„èŒä¸šè§„åˆ’å¸ˆ\n- ç›®æ ‡: ä¸ºä¸€ä½å¸Œæœ›è½¬è¡Œåˆ°æ•°æ®åˆ†æé¢†åŸŸçš„å®¢æˆ·æä¾›èŒä¸šå‘å±•å»ºè®®\n- åœºæ™¯: å®¢æˆ·ç›®å‰ä»äº‹å¸‚åœºè¥é”€å·¥ä½œäº”å¹´ï¼Œå…·å¤‡ä¸€å®šçš„å•†ä¸šåˆ†æèƒ½åŠ›ï¼Œä½†ç¼ºä¹æ•°æ®åˆ†ææŠ€èƒ½å’Œç»éªŒ\n- æœŸæœ›è§£å†³æ–¹æ¡ˆ: ä¸€ä»½è¯¦ç»†çš„èŒä¸šå‘å±•è§„åˆ’ï¼ŒåŒ…æ‹¬æŠ€èƒ½æå‡è·¯å¾„ã€è®¤è¯å»ºè®®å’Œå®è·µé¡¹ç›®æ¨è RISEN - Role (è§’è‰²)\n- Instructions (æŒ‡ä»¤)\n- Steps (æ­¥éª¤)\n- End Goal/Expectations (æœ€ç»ˆç›®æ ‡/æœŸæœ›)\n- Narrowing/Novelty (çº¦æŸ/æ–°é¢–æ€§) - è§’è‰²: æ‹…ä»»èµ„æ·±è¥é”€æ´»åŠ¨ç­–åˆ’ä¸“å®¶\n- æŒ‡ä»¤: ä¸ºä¸€æ¬¾æ–°æ¨å‡ºçš„æ™ºèƒ½å®¶å±…äº§å“ç­–åˆ’ä¸€åœºçº¿ä¸Šå‘å¸ƒä¼š\n- æ­¥éª¤: è¯¦ç»†åˆ—å‡ºå‘å¸ƒä¼šç­–åˆ’æ­¥éª¤ï¼ŒåŒ…æ‹¬æ´»åŠ¨ä¸»é¢˜ã€å†…å®¹ç¯èŠ‚ã€å˜‰å®¾é‚€è¯·ã€å®£ä¼ æ¨å¹¿ã€äº’åŠ¨ç¯èŠ‚è®¾è®¡ç­‰\n- æœ€ç»ˆç›®æ ‡/æœŸæœ›: å‘å¸ƒä¼šç›®æ ‡æ˜¯å¸å¼•10,000åè§‚ä¼—åœ¨çº¿è§‚çœ‹ï¼Œå¹¶åœ¨æ´»åŠ¨åä¸€å‘¨å†…æå‡äº§å“å®˜ç½‘è®¿é—®é‡50%\n- çº¦æŸ/æ–°é¢–æ€§: å‘å¸ƒä¼šæ—¶é•¿æ§åˆ¶åœ¨60åˆ†é’Ÿå†…ï¼Œé‡‡ç”¨è™šæ‹Ÿç°å®æŠ€æœ¯å¢åŠ äº’åŠ¨æ€§ï¼Œå¹¶ç»“åˆæ—¶ä¸‹æµè¡Œçš„ç›´æ’­å¸¦è´§æ¨¡å¼ TRACE - Task (ä»»åŠ¡)\n- Request (è¯·æ±‚)\n- Action (è¡ŒåŠ¨)\n- Context (ä¸Šä¸‹æ–‡)\n- Example (ç¤ºä¾‹) - ä»»åŠ¡: ä¸ºä¸€ç¯‡ç§‘æŠ€åšå®¢æ–‡ç« æ’°å†™å¼•äººå…¥èƒœçš„å¼€å¤´æ®µè½\n- è¯·æ±‚: å¼€å¤´æ®µè½éœ€è¦å¸å¼•è¯»è€…ç»§ç»­é˜…è¯»ï¼Œå¹¶æ¦‚æ‹¬æ–‡ç« çš„ä¸»é¢˜\n- è¡ŒåŠ¨: ä½¿ç”¨æ‚¬å¿µã€æé—®æˆ–å¼•äººæ³¨ç›®çš„äº‹å®æ¥å¼€å¤´\n- ä¸Šä¸‹æ–‡: æ–‡ç« ä¸»é¢˜æ˜¯å…³äºäººå·¥æ™ºèƒ½åœ¨åŒ»ç–—å¥åº·é¢†åŸŸçš„åº”ç”¨ï¼Œç›®æ ‡è¯»è€…æ˜¯å¯¹ç§‘æŠ€å’Œå¥åº·é¢†åŸŸæ„Ÿå…´è¶£çš„æ™®é€šå¤§ä¼—\n- ç¤ºä¾‹: æä¾›å‡ ä¸ªä¼˜ç§€åšå®¢æ–‡ç« å¼€å¤´æ®µè½çš„ä¾‹å­ï¼Œä¾‹å¦‚ã€Šçº½çº¦æ—¶æŠ¥ã€‹æˆ–ã€Šè¿çº¿ã€‹æ‚å¿—çš„ç§‘æŠ€æ–‡ç«  CREATE - Character (è§’è‰²)\n- Request (è¯·æ±‚)\n- Examples (ç¤ºä¾‹)\n- Action (è¡ŒåŠ¨)\n- Task (ä»»åŠ¡)\n- Execution (æ‰§è¡Œ) - è§’è‰²: æ‹…ä»»ä¸€ä½èµ„æ·±çš„ç¤¾äº¤åª’ä½“å†…å®¹ç¼–è¾‘\n- è¯·æ±‚: ä¸ºä¸€å®¶ç¯ä¿ç»„ç»‡æ’°å†™ä¸€ç¯‡å…³äºå¡‘æ–™æ±¡æŸ“å±å®³çš„ç¤¾äº¤åª’ä½“å¸–å­\n- ç¤ºä¾‹: åˆ†äº«ç±»ä¼¼ç¯ä¿ä¸»é¢˜çš„æˆåŠŸç¤¾åª’æ¡ˆä¾‹\n- è¡ŒåŠ¨: ç»“åˆæ•°æ®å’Œæ•…äº‹æ€§å™è¿°\n- ä»»åŠ¡: åœ¨æœ‰é™å­—æ•°å†…ä¼ è¾¾å…³é”®ä¿¡æ¯\n- æ‰§è¡Œ: åˆ›ä½œå¼•äººå…±é¸£çš„å†…å®¹å¹¶é…ä»¥é€‚å½“çš„å¤šåª’ä½“å…ƒç´  COSTAR - Context (ä¸Šä¸‹æ–‡)\n- Objective (ç›®æ ‡)\n- Style (é£æ ¼)\n- Tone (è¯­è°ƒ)\n- Audience (å—ä¼—)\n- Response (å›å¤) - ä¸Šä¸‹æ–‡: ä¸€å®¶æ—¶å°šå“ç‰Œæ­£åœ¨è¿›è¡Œæ–°å“å‘å¸ƒé¢„çƒ­\n- ç›®æ ‡: åœ¨ç¤¾äº¤åª’ä½“ä¸Šå‘å¸ƒä¸€æ®µæ–‡å­—ï¼Œé¢„å‘Šå³å°†å‘å¸ƒçš„æ–°ç³»åˆ—ï¼Œå¹¶å¼•å‘ç”¨æˆ·æœŸå¾…\n- é£æ ¼: æ—¶å°šã€ç®€çº¦ã€é«˜çº§\n- è¯­è°ƒ: è‡ªä¿¡ã€ä¼˜é›…ã€ç•¥å¸¦ç¥ç§˜æ„Ÿ\n- å—ä¼—: å…³æ³¨æ—¶å°šæ½®æµçš„å¹´è½»æ¶ˆè´¹è€…å’Œå“ç‰Œå¿ å®ç”¨æˆ·\n- å›å¤: æ’°å†™ä¸€æ®µç¤¾äº¤åª’ä½“æ–‡æ¡ˆï¼Œå­—æ•°æ§åˆ¶åœ¨50å­—ä»¥å†… æ¡†æ¶ä½¿ç”¨å»ºè®® ä»¥ä¸Šä»‹ç»çš„è¿™äº›promptæ¡†æ¶å„æœ‰ç‰¹ç‚¹ï¼Œå¯ä»¥æ ¹æ®ä¸åŒåœºæ™¯é€‰æ‹©åˆé€‚çš„æ¡†æ¶ï¼š\nå†…å®¹åˆ›ä½œç±»ï¼šCREATEã€TRACEã€COSTARæ¡†æ¶æ›´é€‚åˆç”¨äºæ–‡æ¡ˆã€æ–‡ç« ç­‰åˆ›æ„å†…å®¹çš„ç”Ÿæˆï¼Œå®ƒä»¬æ³¨é‡é£æ ¼ã€è¯­è°ƒå’Œå—ä¼—å®šä½ã€‚\né¡¹ç›®è§„åˆ’ç±»ï¼šCOASTã€RISENæ¡†æ¶é€‚åˆç”¨äºé¡¹ç›®ç­–åˆ’å’Œæ‰§è¡Œï¼Œå®ƒä»¬åŒ…å«äº†è¯¦ç»†çš„æ­¥éª¤å’Œç›®æ ‡è®¾å®šã€‚\nåˆ†ææŠ¥å‘Šç±»ï¼šCIDIã€RTFæ¡†æ¶é€‚åˆç”¨äºæ’°å†™åˆ†ææŠ¥å‘Šå’Œä¸“ä¸šæ–‡æ¡£ï¼Œå®ƒä»¬å¼ºè°ƒç»“æ„åŒ–è¾“å‡ºå’Œä¸“ä¸šæ€§ã€‚\nè¥é”€ç­–åˆ’ç±»ï¼šCAREã€ERAæ¡†æ¶é€‚åˆç”¨äºè¥é”€æ´»åŠ¨ç­–åˆ’ï¼Œå®ƒä»¬å…³æ³¨ç»“æœå¯¼å‘å’Œå®é™…æ•ˆæœã€‚\nç®€å•ä»»åŠ¡ç±»ï¼šAPEã€TAGæ¡†æ¶ç»“æ„ç®€å•ï¼Œé€‚åˆæ—¥å¸¸å°å‹ä»»åŠ¡çš„promptç¼–å†™ã€‚\nåœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå¯ä»¥æ ¹æ®ä»»åŠ¡çš„å¤æ‚ç¨‹åº¦å’Œéœ€æ±‚ç‰¹ç‚¹ï¼Œé€‰æ‹©åˆé€‚çš„æ¡†æ¶ï¼Œç”šè‡³å°†å¤šä¸ªæ¡†æ¶çš„ä¼˜åŠ¿ç»“åˆèµ·æ¥ï¼Œæ„å»ºæ›´é€‚åˆè‡ªå·±éœ€æ±‚çš„promptæ¨¡æ¿ã€‚è®°ä½ï¼Œè¿™äº›æ¡†æ¶ä»…æ˜¯å‚è€ƒï¼Œæœ€é‡è¦çš„æ˜¯èƒ½å¤Ÿæ¸…æ™°åœ°è¡¨è¾¾ä½ çš„éœ€æ±‚å’ŒæœŸæœ›ã€‚\n","permalink":"https://www.mfun.ink/2025/03/01/ai-prompt-methodology/","summary":"\u003cp\u003edeepseekå‡ºç°åï¼ŒAIçš„åŠ¿å¤´æ›´åŠ ä¸€è·¯ä¸å¯é˜»æŒ¡ï¼Œ cursoræœ€è¿‘åˆæ›´æ–°äº†Claude 3.7ï¼Œç¼–ç¨‹ä½“éªŒè¿›ä¸€æ­¥æé«˜ï¼Œèº«ä¸ºç å†œå¯¹æœªæ¥è¿˜æœ‰å‡ å¹´èŒä¸šç”Ÿæ¶¯å……æ»¡äº†ç„¦è™‘ã€‚ç†Ÿè¯è¯´æ‰“ä¸è¿‡å°±åŠ å…¥ï¼ŒAIçš„æµªæ½®å·²ç»é˜»æŒ¡ä¸äº†ï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯å­¦ä¹ æ¥å—ï¼Œç»†èŠ‚ç®—æ³•å®ç°æš‚ä¸”ä¸æé—¨æ§›å¤ªé«˜ï¼Œè¿˜æ˜¯å…ˆä»ä½¿ç”¨ä¸Šå…¥æ‰‹ï¼Œä¸‹é¢æ•´ç†å¸¸è§çš„promptæ¡†æ¶ã€‚\u003c/p\u003e","title":"å¸¸è§promptæ¡†æ¶"},{"content":"ç»§ç»­å‹æ¦¨ä¸»æœºç”Ÿäº§åŠ›ï¼Œåœ¨wsl Ubuntuä¸­éƒ¨ç½²aiç»˜å›¾ï¼Œå®‰è£…è¿‡ç¨‹ä¸­éœ€è¦ä»£ç†ï¼Œç³»ç»Ÿç‰ˆæœ¬å¦‚ä¸‹:\nwsl 2 windows 11 ubuntu 24.04 å®‰è£…python å®‰è£…pyenv ubuntu 24.04è‡ªå¸¦çš„pythonç‰ˆæœ¬æ˜¯3.12ï¼Œsd-webuiè¦æ±‚3.10æˆ–è€…3.11è¿™é‡Œå…ˆå®‰è£…pythonï¼Œå¯ä»¥å‚è€ƒsd-webui githubæ–‡æ¡£ç›´æ¥aptå®‰è£…ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿ç®¡ç†å¤šç‰ˆæœ¬å®‰è£…pyenv $ curl https://pyenv.run | bash å®‰è£…ç¼–è¯‘ä¾èµ– pyenvå®‰è£…æˆåŠŸåï¼Œæ‰§è¡Œpyenv installæŠ¥é”™ï¼Œå®‰è£…ç¼–è¯‘pythonéœ€è¦çš„ä¾èµ– # å®‰è£…ä¾èµ– $ sudo apt-get update $ sudo apt-get install make build-essential libssl-dev zlib1g-dev \\ libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm \\ libncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev å†æ¬¡å®‰è£…æˆåŠŸ\n# å®‰è£…python $ pyenv install 3.11.10 # åˆ‡æ¢è‡³3.11.10ç‰ˆæœ¬ $ pyenv global 3.11.10 å®‰è£…cuda å‚è€ƒnvidaå®˜ç½‘å®‰è£…wsl cuda\n$ wget https://developer.download.nvidia.com/compute/cuda/repos/wsl-ubuntu/x86_64/cuda-wsl-ubuntu.pin $ sudo mv cuda-wsl-ubuntu.pin /etc/apt/preferences.d/cuda-repository-pin-600 $ wget https://developer.download.nvidia.com/compute/cuda/12.6.2/local_installers/cuda-repo-wsl-ubuntu-12-6-local_12.6.2-1_amd64.deb $ sudo dpkg -i cuda-repo-wsl-ubuntu-12-6-local_12.6.2-1_amd64.deb $ sudo cp /var/cuda-repo-wsl-ubuntu-12-6-local/cuda-*-keyring.gpg /usr/share/keyrings/ $ sudo apt-get update $ sudo apt-get -y install cuda-toolkit-12-6 å®‰è£…åå¯ä»¥æ‰§è¡Œnvidia-smiæŸ¥çœ‹å®‰è£…æƒ…å†µ\n$ nvidia-smi Sat Oct 19 22:41:42 2024 +-----------------------------------------------------------------------------------------+ | NVIDIA-SMI 565.51.01 Driver Version: 565.90 CUDA Version: 12.7 | |-----------------------------------------+------------------------+----------------------+ | GPU Name Persistence-M | Bus-Id Disp.A | Volatile Uncorr. ECC | | Fan Temp Perf Pwr:Usage/Cap | Memory-Usage | GPU-Util Compute M. | | | | MIG M. | |=========================================+========================+======================| | 0 NVIDIA GeForce RTX 4060 Ti On | 00000000:01:00.0 On | N/A | | 0% 37C P8 8W / 165W | 1050MiB / 16380MiB | 1% Default | | | | N/A | +-----------------------------------------+------------------------+----------------------+ +-----------------------------------------------------------------------------------------+ | Processes: | | GPU GI CI PID Type Process name GPU Memory | | ID ID Usage | |=========================================================================================| | 0 N/A N/A 23 G /Xwayland N/A | +-----------------------------------------------------------------------------------------+ å®‰è£…sd-webui ç›´æ¥æŒ‰ç…§sd-webui GitHub æ–‡æ¡£å®‰è£…ï¼Œå®‰è£…å®Œæˆåå°†æ¨¡å‹æ”¾ç½®**stable-diffusion-webui/models/Stable-diffusion/**ç›®å½•ï¼Œæ¨¡å‹å»cç«™ä¸‹è½½ï¼Œç›´æ¥æ‰§è¡Œwebui.shå¯åŠ¨\n# å®‰è£… $ git clone https://github.com/AUTOMATIC1111/stable-diffusion-webui.git # å¯åŠ¨ $ ./webui.sh å¯åŠ¨æˆåŠŸä¼šæç¤ºè®¿é—®http://127.0.0.1:7860ï¼Œ é—®é¢˜ ä»£ç†å¯¼è‡´http://127.0.0.1:7860è®¿é—®ä¸é€šï¼Œå¯ä»¥å¢åŠ  \u0026ndash;listen å¯åŠ¨å‚æ•°ï¼Œä¼šåœ¨0.0.0.0:7860åœ°å€å¯åŠ¨ urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host=\u0026#39;192.168.1.11\u0026#39;, port=1081): Max retries exceeded with url: http://127.0.0.1:7860/startup-events (Caused by ProxyError(\u0026#39;Unable to connect to proxy\u0026#39;, RemoteDisconnected(\u0026#39;Remote end closed connection without response\u0026#39;))) $ ./webui.sh --listen å¯åŠ¨è¿‡ç¨‹ä¸­è¿˜å¯èƒ½ä¼šæŠ¥å¦‚ä¸‹é—®é¢˜ï¼Œæç¤ºå®‰è£…TCMallocï¼Œä¼˜åŒ–CPUã€å†…å­˜ä½¿ç”¨ï¼Œä¸å®‰è£…ä¹Ÿä¸å½±å“ä½¿ç”¨ Cannot locate TCMalloc. Do you have tcmalloc or google-perftool installed on your system? (improves CPU memory usage) # å®‰è£…TCMallocls $ sudo apt-get install libtcmalloc-minimal4 -y æ•´ä¸ªå®‰è£…ä¸‹æ¥éœ€è¦ä¸‹è½½å¾ˆå¤šè½¯ä»¶åŒ…ï¼Œå›½å†…çš„è¯éœ€è¦ä»£ç†ï¼Œæ²¡æœ‰ä»£ç†å°±è¦æ‰¾å…¶ä»–ç¦»çº¿åŒ…å®‰è£…çš„æ–¹å¼äº†ã€‚\n","permalink":"https://www.mfun.ink/2024/10/19/wsl-sd-webui/","summary":"\u003cp\u003eç»§ç»­å‹æ¦¨ä¸»æœºç”Ÿäº§åŠ›ï¼Œåœ¨wsl Ubuntuä¸­éƒ¨ç½²aiç»˜å›¾ï¼Œå®‰è£…è¿‡ç¨‹ä¸­éœ€è¦ä»£ç†ï¼Œç³»ç»Ÿç‰ˆæœ¬å¦‚ä¸‹:\u003c/p\u003e","title":"wsl Ubuntu å®‰è£… stable-diffusion-webui"},{"content":"æœ€è¿‘ç»„äº†å°å°å¼æœºï¼Œæ—¥å¸¸ä¸»åŠ›æœºä»Mac OSåˆ‡åˆ°äº†Windowsï¼ŒWindowsä¸‹çš„ç»ˆç«¯ä¹‹å‰ä¸€ç›´æ˜¯è¢«åæ§½çš„å¯¹è±¡ï¼Œä¸è¿‡è‡ªä»æœ‰äº†WSLåï¼ŒWindowsä¸‹çš„å¼€å‘ä½“éªŒæœ‰äº†æå¤§çš„æå‡ï¼Œç»ˆç«¯ä½“éªŒå·²ç»å®Œå…¨èƒ½èµ¶å¾—ä¸ŠMacã€Linuxã€‚è´´ä¸¤å¼ è°ƒæ•´åçš„ç»ˆç«¯æˆªå›¾ï¼š\nå®‰è£…ho my posh ç›´æ¥åœ¨Windows storeæœç´¢å®‰è£…å³å¯ ä¿®æ”¹é…ç½®æ–‡ä»¶ å®‰è£…å®Œæˆåæ‰“å¼€Windows terminalï¼Œå‘½ä»¤è¡Œè¾“å…¥$PROFILEè·å–é…ç½®æ–‡ä»¶ä½ç½®ï¼Œç±»ä¼¼Linuxçš„.zshrcã€.bashrc\n\u0026gt;\u0026gt; $PROFILE C:\\Users\\wow\\Documents\\WindowsPowerShell\\Microsoft.PowerShell_profile.ps1 ç›´æ¥ä½¿ç”¨notepadç¼–è¾‘$PROFILEæ–‡ä»¶ï¼Œè‹¥æ–‡ä»¶ä¸å­˜åœ¨ç›´æ¥æ–°å»º\nâ¯â¯ notepad C:\\Users\\wow\\Documents\\WindowsPowerShell\\Microsoft.PowerShell_profile.ps1 è¾“å…¥å¦‚ä¸‹å†…å®¹\n# ç»ˆç«¯ä¸»é¢˜ï¼Œå¯ä»¥ä¿®æ”¹montys.omp.jsonæ¯”å¦‚æ”¹æˆgmay.omp.jsonåˆ‡æ¢å…¶ä»–ä¸»é¢˜ C:\\\\Users\\\\wow\\\\AppData\\\\Local\\\\Programs\\\\oh-my-posh\\\\bin\\\\oh-my-posh.exe init pwsh --config $env:POSH_THEMES_PATH\\montys.omp.json | Invoke-Expression # æ’ä»¶ç±»ä¼¼zshçš„å„ç§æ’ä»¶ Import-Module posh-git # å¼•å…¥ posh-git Import-Module PSReadLine # å†å²å‘½ä»¤è”æƒ³ # è®¾ç½®é¢„æµ‹æ–‡æœ¬æ¥æºä¸ºå†å²è®°å½• Set-PSReadLineOption -PredictionSource History # è®¾ç½® Tab ä¸ºèœå•è¡¥å…¨å’Œ Intellisense Set-PSReadLineKeyHandler -Key \u0026#34;Tab\u0026#34; -Function MenuComplete # æ¯æ¬¡å›æº¯è¾“å…¥å†å²ï¼Œå…‰æ ‡å®šä½äºè¾“å…¥å†…å®¹æœ«å°¾ Set-PSReadLineOption -HistorySearchCursorMovesToEnd # è®¾ç½®å‘ä¸Šé”®ä¸ºåå‘æœç´¢å†å²è®°å½• Set-PSReadLineKeyHandler -Key UpArrow -Function HistorySearchBackward # è®¾ç½®å‘ä¸‹é”®ä¸ºå‰å‘æœç´¢å†å²çºªå½• Set-PSReadLineKeyHandler -Key DownArrow -Function HistorySearchForward å®‰è£…å­—ä½“ ä¿å­˜é‡æ–°è½½å…¥åï¼Œå†æ‰“å¼€å°±ä¼šå‘ç°ä¸»é¢˜å·²ä¿®æ”¹ï¼Œä½†æœ‰äº›ä¹±ç å­—ç¬¦ï¼Œå¾ˆæ˜æ˜¾æ˜¯æŸäº›å­—ä½“æ²¡æœ‰å®‰è£…ï¼Œå¦‚æœåœ¨Linuxã€Macä¸‹æŠ˜è…¾è¿‡ç»ˆç«¯å¯¹è¿™äº›è‚¯å®šéƒ½å¾ˆç†Ÿæ‚‰ã€‚ å®‰è£…å­—ä½“, å¯ä»¥ç›´æ¥åœ¨ç»ˆç«¯ä½¿ç”¨oh-my-poshå®‰è£…ï¼Œå¯èƒ½éœ€è¦ä»£ç†\n# å®‰è£…å­—ä½“ â¯â¯ oh-my-posh font install # å®‰è£…å¤±è´¥ï¼Œå¦‚æœæœ‰ä»£ç†ï¼Œå¯ä»¥è®¾ç½®ä»£ç†åå°è¯•é‡è¯• â¯â¯ set HTTP_PROXY=http://ip:port â¯â¯ set HTTPS_PROXY=http://ip:port å¦‚æœå®‰è£…å¤±è´¥ä¹Ÿå¯ä»¥ç›´æ¥æµè§ˆå™¨ä¸‹è½½å­—ä½“è§£å‹å®‰è£…ï¼Œæ¯”å¦‚å®‰è£…JetBrainsMonoå¯ä»¥ç›´æ¥å»githubä¸‹è½½å­—ä½“åŒ…ï¼Œä¸‹è½½åè§£å‹å®‰è£… è¿›å…¥ç»ˆç«¯é…ç½®ï¼Œä¿®æ”¹å­—ä½“å’Œä¸»é¢˜ è¿›å…¥power shell -\u0026gt; å¤–è§‚ ä¿®æ”¹æƒ³è¦çš„ä¸»é¢˜å’Œæ–°å®‰è£…çš„å­—ä½“ï¼Œä¿å­˜åä¹±ç é—®é¢˜å°±è§£å†³äº†ï¼Œå¦‚æœæ²¡è§£å†³æ¢å…¶ä»–å­—ä½“ å®‰è£…æ’ä»¶ ä¸Šé¢è¯´åˆ°å®‰è£…äº†ä¸¤ä¸ªæ’ä»¶ï¼Œè¿›å…¥ç»ˆç«¯çš„æ—¶å€™ä¼šæç¤ºæ’ä»¶æ²¡æœ‰å®‰è£…å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…\nâ¯â¯ Install-Module PSReadLine -Force â¯â¯ Install-Module posh-git -Force è‡³æ­¤Windows-terminalåŸºæœ¬è°ƒæ•™å®Œæˆï¼Œçœ‹ç€èˆ’æœå¤šäº†ã€‚\nwslå®‰è£…oh-my-zsh æœ€åæŠŠwsl ubuntuå­ç³»ç»Ÿåˆ‡æˆzshå¹¶å®‰è£…oh-my-zshï¼Œè¿›å…¥Linuxç»ˆç«¯ï¼Œå®‰è£…zsh\n# å®‰è£…zsh $ sudo apt intall zsh # åˆ‡æ¢å½“å‰ç”¨æˆ·é»˜è®¤shell $ chsh -s /usr/bin/zsh åç»­å®‰è£…zshå¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰å†™çš„åœ¨Macä¸‹å®‰è£…zshçš„æ–‡ç« \n","permalink":"https://www.mfun.ink/2024/10/19/windows-teminal/","summary":"\u003cp\u003eæœ€è¿‘ç»„äº†å°å°å¼æœºï¼Œæ—¥å¸¸ä¸»åŠ›æœºä»Mac OSåˆ‡åˆ°äº†Windowsï¼ŒWindowsä¸‹çš„ç»ˆç«¯ä¹‹å‰ä¸€ç›´æ˜¯è¢«åæ§½çš„å¯¹è±¡ï¼Œä¸è¿‡è‡ªä»æœ‰äº†WSLåï¼ŒWindowsä¸‹çš„å¼€å‘ä½“éªŒæœ‰äº†æå¤§çš„æå‡ï¼Œç»ˆç«¯ä½“éªŒå·²ç»å®Œå…¨èƒ½èµ¶å¾—ä¸ŠMacã€Linuxã€‚è´´ä¸¤å¼ è°ƒæ•´åçš„ç»ˆç«¯æˆªå›¾ï¼š\u003c/p\u003e","title":"windows-teminal ç¾åŒ–"},{"content":"seo æ˜¯ä»€ä¹ˆ SEOï¼Œå³æœç´¢å¼•æ“ä¼˜åŒ–ï¼ˆSearch Engine Optimizationï¼‰ï¼Œæ˜¯ä¸€ç§é€šè¿‡ä¼˜åŒ–ç½‘ç«™ç»“æ„ã€å†…å®¹å’Œå¤–éƒ¨é“¾æ¥æ¥æé«˜ç½‘ç«™åœ¨æœç´¢å¼•æ“ä¸­çš„æ’åçš„æŠ€æœ¯å’Œç­–ç•¥ã€‚SEOçš„ç›®çš„æ˜¯å¢åŠ ç½‘ç«™çš„å¯è§æ€§ï¼Œä»è€Œå¸å¼•æ›´å¤šçš„è‡ªç„¶æµé‡ï¼ˆå³éä»˜è´¹æµé‡ï¼‰ã€‚\nå½±å“seoçš„å…³é”®å› ç´  å…³é”®è¯ç ”ç©¶ï¼š è¯†åˆ«ç”¨æˆ·åœ¨æœç´¢å¼•æ“ä¸­ä½¿ç”¨çš„å…³é”®è¯ã€‚ ç¡®ä¿ç½‘ç«™å†…å®¹åŒ…å«è¿™äº›å…³é”®è¯ã€‚ ç½‘ç«™å†…å®¹ä¼˜åŒ–ï¼š åˆ›å»ºé«˜è´¨é‡ã€æœ‰ä»·å€¼çš„å†…å®¹ã€‚ ç¡®ä¿å†…å®¹ä¸ç”¨æˆ·æœç´¢æ„å›¾ç›¸åŒ¹é…ã€‚ æŠ€æœ¯ä¼˜åŒ–ï¼š æé«˜ç½‘ç«™åŠ è½½é€Ÿåº¦ã€‚ ç¡®ä¿ç½‘ç«™å¯¹ç§»åŠ¨è®¾å¤‡å‹å¥½ã€‚ ä¼˜åŒ–ç½‘ç«™ç»“æ„å’Œå¯¼èˆªï¼Œä»¥ä¾¿æœç´¢å¼•æ“èƒ½å¤Ÿæ›´å¥½åœ°æŠ“å–å’Œç´¢å¼•å†…å®¹ã€‚ é“¾æ¥å»ºè®¾ï¼š è·å–é«˜è´¨é‡çš„å¤–éƒ¨é“¾æ¥ï¼ˆåå‘é“¾æ¥ï¼‰ï¼Œå³å…¶ä»–ç½‘ç«™é“¾æ¥åˆ°ä½ çš„ç½‘ç«™ã€‚ å†…éƒ¨é“¾æ¥ä¼˜åŒ–ï¼Œå³ç½‘ç«™å†…éƒ¨é¡µé¢ä¹‹é—´çš„é“¾æ¥ã€‚ ç”¨æˆ·ä½“éªŒï¼ˆUXï¼‰ï¼š æé«˜ç½‘ç«™çš„æ˜“ç”¨æ€§å’Œå¯è®¿é—®æ€§ã€‚ ç¡®ä¿ç”¨æˆ·åœ¨ç½‘ç«™ä¸Šçš„ä½“éªŒè‰¯å¥½ï¼Œä»è€Œå‡å°‘è·³å‡ºç‡ï¼ˆbounce rateï¼‰ã€‚ æœ¬åœ°SEOï¼š ä¼˜åŒ–æœ¬åœ°æœç´¢ç»“æœï¼Œå¦‚åœ¨Google My Businessä¸­åˆ›å»ºå’Œä¼˜åŒ–ä½ çš„å•†å®¶ä¿¡æ¯ã€‚ è·å–æœ¬åœ°è¯„è®ºå’Œè¯„ä»·ã€‚ ç¤¾äº¤åª’ä½“æ•´åˆï¼š åˆ©ç”¨ç¤¾äº¤åª’ä½“å¹³å°æ¨å¹¿ä½ çš„å†…å®¹å’Œç½‘ç«™ã€‚ å¢åŠ ç¤¾äº¤åˆ†äº«å’Œå…³æ³¨åº¦ï¼Œé—´æ¥æå‡SEOæ•ˆæœã€‚ seo ä¼˜åŒ–æªæ–½ SEOä¼˜åŒ–æªæ–½åˆ†ä¸ºç«™å†…ä¼˜åŒ–ï¼ˆOn-Page SEOï¼‰å’Œç«™å¤–ä¼˜åŒ–ï¼ˆOff-Page SEOï¼‰ã€‚ä»¥ä¸‹æ˜¯å…·ä½“çš„ä¼˜åŒ–æªæ–½ï¼š\nç«™å†…ä¼˜åŒ–ï¼ˆOn-Page SEOï¼‰ å…³é”®è¯ä¼˜åŒ–ï¼š å…³é”®è¯ç ”ç©¶ï¼šä½¿ç”¨å·¥å…·ï¼ˆå¦‚Google Keyword Plannerã€Ahrefsã€SEMrushï¼‰ç ”ç©¶ç›®æ ‡å…³é”®è¯ã€‚ æ ‡é¢˜æ ‡ç­¾ï¼ˆTitle Tagsï¼‰ï¼šæ¯ä¸ªé¡µé¢éƒ½æœ‰ç‹¬ç‰¹ä¸”åŒ…å«å…³é”®è¯çš„æ ‡é¢˜æ ‡ç­¾ã€‚ å…ƒæè¿°ï¼ˆMeta Descriptionsï¼‰ï¼šç¼–å†™åŒ…å«å…³é”®è¯çš„ç®€æ´ã€å¸å¼•äººçš„å…ƒæè¿°ã€‚ æ ‡é¢˜ï¼ˆHeadings, H1, H2ç­‰ï¼‰ï¼šåˆç†ä½¿ç”¨æ ‡é¢˜æ ‡ç­¾ï¼ŒH1ç”¨äºä¸»è¦æ ‡é¢˜ï¼ŒH2ã€H3ç”¨äºå­æ ‡é¢˜ã€‚ å†…å®¹ä¼˜åŒ–ï¼šåœ¨æ–‡ç« å’Œé¡µé¢å†…å®¹ä¸­è‡ªç„¶åœ°èå…¥å…³é”®è¯ã€‚ å†…å®¹ä¼˜åŒ–ï¼š é«˜è´¨é‡å†…å®¹ï¼šåˆ›ä½œåŸåˆ›ã€æœ‰ä»·å€¼çš„å†…å®¹ï¼Œæ»¡è¶³ç”¨æˆ·éœ€æ±‚ã€‚ å†…å®¹é•¿åº¦ï¼šç¡®ä¿å†…å®¹è¶³å¤Ÿè¯¦ç»†ï¼Œé€šå¸¸é•¿å†…å®¹ï¼ˆ1500å­—ä»¥ä¸Šï¼‰åœ¨æœç´¢å¼•æ“ä¸­è¡¨ç°æ›´å¥½ã€‚ å¤šåª’ä½“å†…å®¹ï¼šä½¿ç”¨å›¾ç‰‡ã€è§†é¢‘ã€ä¿¡æ¯å›¾è¡¨ç­‰å¤šç§åª’ä½“å½¢å¼ä¸°å¯Œå†…å®¹ã€‚ æ›´æ–°é¢‘ç‡ï¼šå®šæœŸæ›´æ–°å†…å®¹ï¼Œä¿æŒç½‘ç«™æ´»è·ƒã€‚ æŠ€æœ¯ä¼˜åŒ–ï¼š ç½‘ç«™é€Ÿåº¦ï¼šä¼˜åŒ–ç½‘ç«™åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘é¡µé¢åŠ è½½æ—¶é—´ã€‚å¯ä»¥ä½¿ç”¨CDNã€å‹ç¼©å›¾ç‰‡ã€ç²¾ç®€ä»£ç ç­‰æ–¹æ³•ã€‚ ç§»åŠ¨å‹å¥½æ€§ï¼šç¡®ä¿ç½‘ç«™åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šçš„è‰¯å¥½æ˜¾ç¤ºå’Œæ“ä½œä½“éªŒã€‚ URLç»“æ„ï¼šç®€æ´ã€åŒ…å«å…³é”®è¯çš„URLï¼Œæœ‰åŠ©äºæœç´¢å¼•æ“å’Œç”¨æˆ·ç†è§£é¡µé¢å†…å®¹ã€‚ å†…éƒ¨é“¾æ¥ï¼šåˆç†è®¾ç½®å†…éƒ¨é“¾æ¥ï¼Œæå‡ç½‘ç«™å„é¡µé¢çš„å…³è”æ€§å’Œç”¨æˆ·ä½“éªŒã€‚ ç”¨æˆ·ä½“éªŒï¼ˆUXï¼‰ï¼š æ˜“ç”¨æ€§ï¼šæé«˜ç½‘ç«™å¯¼èˆªçš„ç®€æ´æ€§å’Œå¯ç”¨æ€§ã€‚ å¯è¯»æ€§ï¼šä½¿ç”¨åˆé€‚çš„å­—ä½“å¤§å°ã€è¡Œé—´è·å’Œæ®µè½åˆ†éš”ï¼Œå¢å¼ºå†…å®¹çš„å¯è¯»æ€§ã€‚ äº¤äº’è®¾è®¡ï¼šè®¾è®¡å¸å¼•äººçš„CTAï¼ˆCall to Actionï¼‰æŒ‰é’®ï¼Œæå‡ç”¨æˆ·äº’åŠ¨ã€‚ ç»“æ„åŒ–æ•°æ®ï¼š Schema Markupï¼šä½¿ç”¨ç»“æ„åŒ–æ•°æ®æ ‡è®°ï¼ˆå¦‚Schema.orgï¼‰å¸®åŠ©æœç´¢å¼•æ“æ›´å¥½åœ°ç†è§£å’Œå±•ç¤ºå†…å®¹ã€‚ ç«™å¤–ä¼˜åŒ–ï¼ˆOff-Page SEOï¼‰ é“¾æ¥å»ºè®¾ï¼ˆLink Buildingï¼‰ï¼š è·å–é«˜è´¨é‡åå‘é“¾æ¥ï¼šä»æƒå¨å’Œç›¸å…³æ€§é«˜çš„ç½‘ç«™è·å¾—é“¾æ¥ã€‚ å†…å®¹æ¨å¹¿ï¼šé€šè¿‡ç¤¾äº¤åª’ä½“ã€è®ºå›ã€åšå®¢ç­‰å¹³å°æ¨å¹¿å†…å®¹ï¼Œå¸å¼•å¤–éƒ¨é“¾æ¥ã€‚ å®¢åº§åšå®¢ï¼šåœ¨ç›¸å…³è¡Œä¸šç½‘ç«™å‘è¡¨å®¢åº§æ–‡ç« ï¼ŒåŒ…å«å›é“¾ã€‚ ç¤¾äº¤åª’ä½“è¥é”€ï¼š å†…å®¹åˆ†äº«ï¼šåœ¨å„å¤§ç¤¾äº¤åª’ä½“å¹³å°åˆ†äº«ç½‘ç«™å†…å®¹ï¼Œå¢åŠ å†…å®¹çš„æ›å…‰å’Œæµé‡ã€‚ äº’åŠ¨äº¤æµï¼šä¸ç”¨æˆ·äº’åŠ¨ï¼Œå¢åŠ å“ç‰ŒçŸ¥ååº¦å’Œä¿¡ä»»åº¦ã€‚ åœ¨çº¿è¯„è®ºå’Œå£ç¢‘ï¼š è·å–ç”¨æˆ·è¯„è®ºï¼šé¼“åŠ±ç”¨æˆ·åœ¨Google My Businessã€Yelpç­‰å¹³å°ç•™ä¸‹è¯„è®ºã€‚ ç®¡ç†åœ¨çº¿å£°èª‰ï¼šç§¯æå›åº”ç”¨æˆ·è¯„è®ºï¼Œç»´æŠ¤è‰¯å¥½çš„åœ¨çº¿å£°èª‰ã€‚ åˆä½œä¸è”ç›Ÿï¼š è¡Œä¸šåˆä½œï¼šä¸å…¶ä»–ç½‘ç«™æˆ–å“ç‰Œè¿›è¡Œåˆä½œï¼Œäº¤æ¢èµ„æºå’Œé“¾æ¥ã€‚ å‚åŠ è¡Œä¸šæ´»åŠ¨ï¼šå‚ä¸è¡Œä¸šä¼šè®®ã€ç ”è®¨ä¼šç­‰ï¼Œæå‡å“ç‰Œå½±å“åŠ›å’ŒçŸ¥ååº¦ã€‚ html æ ‡ç­¾ä¼˜åŒ–å»ºè®® åœ¨è¿›è¡ŒSEOä¼˜åŒ–æ—¶ï¼ŒHTMLæ ‡ç­¾çš„ä½¿ç”¨è‡³å…³é‡è¦ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®çš„HTMLæ ‡ç­¾åŠå…¶å¯¹SEOçš„å½±å“ï¼š\n1. æ ‡é¢˜æ ‡ç­¾ï¼ˆTitle Tagï¼‰ \u0026lt;title\u0026gt;é¡µé¢æ ‡é¢˜\u0026lt;/title\u0026gt; ä½œç”¨ï¼šå®šä¹‰ç½‘é¡µæ ‡é¢˜ï¼Œæ˜¯æœç´¢å¼•æ“å’Œç”¨æˆ·é¦–å…ˆçœ‹åˆ°çš„å†…å®¹ã€‚ ä¼˜åŒ–å»ºè®®ï¼šæ ‡é¢˜åº”ç®€æ´ã€æœ‰å¸å¼•åŠ›ï¼ŒåŒ…å«ä¸»è¦å…³é”®è¯ï¼Œé•¿åº¦æœ€å¥½æ§åˆ¶åœ¨60ä¸ªå­—ç¬¦ä»¥å†…ã€‚ 2. å…ƒæè¿°æ ‡ç­¾ï¼ˆMeta Descriptionï¼‰ \u0026lt;meta name=\u0026#34;description\u0026#34; content=\u0026#34;é¡µé¢æè¿°\u0026#34;\u0026gt; ä½œç”¨ï¼šæä¾›ç½‘é¡µå†…å®¹çš„ç®€çŸ­æè¿°ï¼Œå‡ºç°åœ¨æœç´¢ç»“æœæ‘˜è¦ä¸­ã€‚ ä¼˜åŒ–å»ºè®®ï¼šæè¿°åº”ç®€æ´æ˜äº†ï¼ŒåŒ…å«ä¸»è¦å…³é”®è¯ï¼Œé•¿åº¦æœ€å¥½æ§åˆ¶åœ¨155-160ä¸ªå­—ç¬¦ä»¥å†…ã€‚ 3. æ ‡é¢˜æ ‡ç­¾ï¼ˆHeadingsï¼ŒH1-H6ï¼‰ \u0026lt;h1\u0026gt;ä¸»è¦æ ‡é¢˜\u0026lt;/h1\u0026gt; \u0026lt;h2\u0026gt;å‰¯æ ‡é¢˜\u0026lt;/h2\u0026gt; ä½œç”¨ï¼šç»“æ„åŒ–é¡µé¢å†…å®¹ï¼Œå¸®åŠ©æœç´¢å¼•æ“ç†è§£å†…å®¹å±‚æ¬¡ã€‚ ä¼˜åŒ–å»ºè®®ï¼šæ¯ä¸ªé¡µé¢åº”æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªH1æ ‡ç­¾ï¼ŒåŒ…å«ä¸»è¦å…³é”®è¯ã€‚H2ã€H3ç­‰ç”¨äºæ¬¡è¦æ ‡é¢˜ï¼Œåˆç†ä½¿ç”¨å…¶ä»–æ ‡é¢˜æ ‡ç­¾ï¼ˆH2-H6ï¼‰ä»¥åˆ†å±‚æ¬¡ç»„ç»‡å†…å®¹ã€‚ 4. å…³é”®è¯æ ‡ç­¾ï¼ˆMeta Keywordsï¼‰ã€ä¸å†æ¨èã€‘ \u0026lt;meta name=\u0026#34;keywords\u0026#34; content=\u0026#34;å…³é”®è¯1, å…³é”®è¯2\u0026#34;\u0026gt; ä½œç”¨ï¼šæ›¾ç»ç”¨äºæä¾›é¡µé¢å…³é”®è¯ï¼Œç°å·²è¢«å¤§å¤šæ•°æœç´¢å¼•æ“å¿½ç•¥ã€‚ ä¼˜åŒ–å»ºè®®ï¼šä¸å†æ¨èä½¿ç”¨ã€‚ 5. å›¾ç‰‡æ ‡ç­¾ï¼ˆImage Tagï¼‰åŠå…¶å±æ€§ \u0026lt;img src=\u0026#34;image.jpg\u0026#34; alt=\u0026#34;å›¾ç‰‡æè¿°\u0026#34;\u0026gt; ä½œç”¨ï¼šæä¾›å›¾ç‰‡çš„æ›¿ä»£æ–‡æœ¬ï¼Œå¸®åŠ©æœç´¢å¼•æ“ç†è§£å›¾ç‰‡å†…å®¹ï¼Œå¹¶åœ¨å›¾ç‰‡æ— æ³•åŠ è½½æ—¶æ˜¾ç¤ºã€‚ ä¼˜åŒ–å»ºè®®ï¼šä½¿ç”¨æè¿°æ€§æ–‡æœ¬ï¼ŒåŒ…å«ç›¸å…³å…³é”®è¯ã€‚ 6. é“¾æ¥æ ‡ç­¾ï¼ˆAnchor Tagï¼‰ \u0026lt;a href=\u0026#34;https://example.com\u0026#34;\u0026gt;é“¾æ¥æ–‡æœ¬\u0026lt;/a\u0026gt; ä½œç”¨ï¼šåˆ›å»ºè¶…é“¾æ¥ï¼Œå¸®åŠ©æœç´¢å¼•æ“å’Œç”¨æˆ·å¯¼èˆªè‡³å…¶ä»–é¡µé¢ã€‚ ä¼˜åŒ–å»ºè®®ï¼šä½¿ç”¨æè¿°æ€§é“¾æ¥æ–‡æœ¬ï¼ŒåŒ…å«å…³é”®è¯ï¼Œé¿å…ä½¿ç”¨â€œç‚¹å‡»è¿™é‡Œâ€ç­‰æ¨¡ç³Šè¯è¯­ã€‚ 7. è§„èŒƒæ ‡ç­¾ï¼ˆCanonical Tagï¼‰ \u0026lt;link rel=\u0026#34;canonical\u0026#34; href=\u0026#34;https://example.com/page\u0026#34;\u0026gt; ä½œç”¨ï¼šæŒ‡ç¤ºæœç´¢å¼•æ“ä¼˜å…ˆæŠ“å–å’Œç´¢å¼•çš„é¡µé¢ï¼Œé˜²æ­¢é‡å¤å†…å®¹é—®é¢˜ã€‚ ä¼˜åŒ–å»ºè®®ï¼šåœ¨æœ‰é‡å¤å†…å®¹æˆ–ç›¸ä¼¼å†…å®¹çš„é¡µé¢ä¸Šä½¿ç”¨ï¼ŒæŒ‡å‘ä¼˜é€‰ç‰ˆæœ¬ã€‚ 8. ç»“æ„åŒ–æ•°æ®æ ‡è®°ï¼ˆSchema Markupï¼‰ \u0026lt;script type=\u0026#34;application/ld+json\u0026#34;\u0026gt; { \u0026#34;@context\u0026#34;: \u0026#34;https://schema.org\u0026#34;, \u0026#34;@type\u0026#34;: \u0026#34;Article\u0026#34;, \u0026#34;headline\u0026#34;: \u0026#34;æ–‡ç« æ ‡é¢˜\u0026#34;, \u0026#34;datePublished\u0026#34;: \u0026#34;2023-01-01\u0026#34;, \u0026#34;author\u0026#34;: { \u0026#34;@type\u0026#34;: \u0026#34;Person\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ä½œè€…å\u0026#34; } } \u0026lt;/script\u0026gt; ä½œç”¨ï¼šå¸®åŠ©æœç´¢å¼•æ“æ›´å¥½åœ°ç†è§£å’Œå±•ç¤ºé¡µé¢å†…å®¹ï¼Œæå‡åœ¨æœç´¢ç»“æœä¸­çš„å±•ç¤ºæ•ˆæœï¼ˆå¦‚å¯Œæ–‡æœ¬æ‘˜è¦ï¼‰ã€‚ ä¼˜åŒ–å»ºè®®ï¼šä½¿ç”¨é€‚å½“çš„Schemaæ ‡è®°ï¼Œå¦‚æ–‡ç« ã€äº§å“ã€è¯„è®ºç­‰ï¼Œæå‡é¡µé¢åœ¨æœç´¢å¼•æ“ä¸­çš„å¯è§æ€§ã€‚ 9. åˆ—è¡¨æ ‡ç­¾ï¼ˆList Tagsï¼‰ \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;åˆ—è¡¨é¡¹1\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;åˆ—è¡¨é¡¹2\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;ol\u0026gt; \u0026lt;li\u0026gt;æœ‰åºåˆ—è¡¨é¡¹1\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;æœ‰åºåˆ—è¡¨é¡¹2\u0026lt;/li\u0026gt; \u0026lt;/ol\u0026gt; ä½œç”¨ï¼šç»“æ„åŒ–å†…å®¹ï¼Œä½¿å…¶æ›´æ˜“äºé˜…è¯»å’Œç†è§£ã€‚ ä¼˜åŒ–å»ºè®®ï¼šåˆç†ä½¿ç”¨æ— åºåˆ—è¡¨ï¼ˆulï¼‰å’Œæœ‰åºåˆ—è¡¨ï¼ˆolï¼‰ï¼Œæå‡å†…å®¹çš„å¯è¯»æ€§å’Œç”¨æˆ·ä½“éªŒã€‚ 10. æ®µè½æ ‡ç­¾ï¼ˆParagraph Tagï¼‰ \u0026lt;p\u0026gt;æ®µè½å†…å®¹\u0026lt;/p\u0026gt; ä½œç”¨ï¼šå®šä¹‰æ–‡æœ¬æ®µè½ï¼Œæå‡å†…å®¹çš„å¯è¯»æ€§ã€‚ ä¼˜åŒ–å»ºè®®ï¼šæ¯ä¸ªæ®µè½åº”å›´ç»•ä¸€ä¸ªä¸»è¦æ€æƒ³å±•å¼€ï¼Œä¿æŒç®€æ´ã€‚ ","permalink":"https://www.mfun.ink/2024/07/20/seo-base/","summary":"\u003ch2 id=\"seo-æ˜¯ä»€ä¹ˆ\"\u003eseo æ˜¯ä»€ä¹ˆ\u003c/h2\u003e\n\u003cp\u003eSEOï¼Œå³æœç´¢å¼•æ“ä¼˜åŒ–ï¼ˆSearch Engine Optimizationï¼‰ï¼Œæ˜¯ä¸€ç§é€šè¿‡ä¼˜åŒ–ç½‘ç«™ç»“æ„ã€å†…å®¹å’Œå¤–éƒ¨é“¾æ¥æ¥æé«˜ç½‘ç«™åœ¨æœç´¢å¼•æ“ä¸­çš„æ’åçš„æŠ€æœ¯å’Œç­–ç•¥ã€‚SEOçš„ç›®çš„æ˜¯å¢åŠ ç½‘ç«™çš„å¯è§æ€§ï¼Œä»è€Œå¸å¼•æ›´å¤šçš„è‡ªç„¶æµé‡ï¼ˆå³éä»˜è´¹æµé‡ï¼‰ã€‚\u003c/p\u003e","title":"seo ä¼˜åŒ–æªæ–½"},{"content":"å•æ–‡ä»¶ç»„ä»¶ ä»€ä¹ˆæ˜¯å•æ–‡ä»¶ç»„ä»¶ï¼Ÿ ç®€ç§°SFCï¼Œå°†æ¨¡ç‰ˆï¼ˆtemplateï¼‰ã€é€»è¾‘ï¼ˆscriptï¼‰ã€æ ·å¼ï¼ˆstyleï¼‰æ•´åˆåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œé€šå¸¸ä»¥`.vue`çš„å½¢å¼å­˜åœ¨ã€‚ ç®€åŒ–ç»„ä»¶å¼€å‘å’Œç®¡ç†ï¼Œä½¿å¾—ä»£ç æ›´åŠ æ¸…æ™°ã€æ¨¡å—åŒ–ã€ä¾¿äºç»´æŠ¤\nç»“æ„ æ¨¡ç‰ˆ ä½¿ç”¨\u0026lt;template\u0026gt;æ ‡ç­¾å®šä¹‰ ç”¨æ¥æè¿°HTTMLç»“æ„å’Œå†…å®¹ \u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;my-component\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;{{ title }}\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;{{ message }}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; è„šæœ¬ ä½¿ç”¨\u0026lt;script\u0026gt;æ ‡ç­¾å®šä¹‰ åŒ…å«ç»„ä»¶çš„é€»è¾‘ä»£ç ï¼Œé€šå¸¸æ˜¯JavaScriptæˆ–è€…TypeScript \u0026lt;script\u0026gt; export default { data() { return { title: \u0026#39;Hello, Vue!\u0026#39;, message: \u0026#39;This is a single file component.\u0026#39; }; } }; \u0026lt;/script\u0026gt; æ ·å¼ ä½¿ç”¨\u0026lt;stype\u0026gt;æ ‡ç­¾å®šä¹‰ å®šä¹‰ç»„ä»¶cssæ ·å¼ï¼Œå¯ä»¥é€‰æ‹©æ˜¯å¦ä½¿ç”¨scopedæ¥é™å®šæ ·å¼ä½œç”¨èŒƒå›´ \u0026lt;style scoped\u0026gt; .my-component { font-family: Arial, sans-serif; } \u0026lt;/style\u0026gt; å•æ–‡ä»¶ç»„ä»¶ä¼˜ç‚¹ æ¨¡å—åŒ– å°†æ¨¡ç‰ˆã€é€»è¾‘ã€æ ·å¼æ•´åˆåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿ç»„ä»¶å¼€å‘ã€é˜…è¯»å’Œç»´æŠ¤ã€‚\nä½œç”¨åŸŸæ ·å¼ ä½¿ç”¨scopedå±æ€§ï¼Œç»„ä»¶çš„æ ·å¼ä»…ä½œç”¨äºå½“å‰ç»„ä»¶ï¼Œé¿å…æ ·å¼æ±¡æŸ“å…¶ä»–ç»„ä»¶\nå¢å¼ºå¯è¯»æ€§ å°†ç›¸å…³çš„ä»£ç æ”¾åœ¨ä¸€èµ·ï¼Œä½¿å¾—ä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ï¼Œå¢å¼ºäº†å¯è¯»æ€§\nä»£ç å¤ç”¨ é€šè¿‡åˆ›å»ºç‹¬ç«‹ç»„ä»¶ï¼Œå¯ä»¥æ–¹ä¾¿çš„åœ¨ä¸åŒçš„é¡¹ç›®æˆ–è€…åº”ç”¨ä¸­é‡ç”¨ä»£ç \nVue cliçš„æ”¯æŒ æä¾›å¯¹å•æ–‡ä»¶ç»„ä»¶çš„å¼ºå¤§æ”¯æŒï¼Œå¯ä»¥è½»æ¾åˆ›å»ºã€è´¬ä¹‰è¯å’Œæ‰“åŒ…å•æ–‡ä»¶ç»„ä»¶\nä½¿ç”¨ é€šå¸¸æƒ…å†µä¸‹ï¼Œä½¿ç”¨ Vue CLI æˆ– Vue Loader æ¥å¤„ç†å•æ–‡ä»¶ç»„ä»¶ã€‚å®ƒä»¬å¯ä»¥å°† .vue æ–‡ä»¶ç¼–è¯‘æˆæ ‡å‡†çš„ JavaScript æ–‡ä»¶ï¼Œä¾›æµè§ˆå™¨è¿è¡Œã€‚\nç»„ä»¶ç¤ºä¾‹ \u0026lt;!-- MyComponent.vue --\u0026gt; \u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;greeting\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;{{ message }}\u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { data() { return { message: \u0026#39;Hello, World!\u0026#39; }; } }; \u0026lt;/script\u0026gt; \u0026lt;style scoped\u0026gt; .greeting { color: blue; } \u0026lt;/style\u0026gt; ç»„ä»¶ä½¿ç”¨ï¼š\n// åœ¨ App.vue æˆ–å…¶ä»–ç»„ä»¶ä¸­ä½¿ç”¨ \u0026lt;template\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;MyComponent /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import MyComponent from \u0026#39;./components/MyComponent.vue\u0026#39;; export default { components: { MyComponent } }; \u0026lt;/script\u0026gt; ","permalink":"https://www.mfun.ink/2024/06/16/vue-sfc/","summary":"\u003ch1 id=\"å•æ–‡ä»¶ç»„ä»¶\"\u003eå•æ–‡ä»¶ç»„ä»¶\u003c/h1\u003e\n\u003cp\u003eä»€ä¹ˆæ˜¯å•æ–‡ä»¶ç»„ä»¶ï¼Ÿ\nç®€ç§°SFCï¼Œå°†æ¨¡ç‰ˆï¼ˆtemplateï¼‰ã€é€»è¾‘ï¼ˆscriptï¼‰ã€æ ·å¼ï¼ˆstyleï¼‰æ•´åˆåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œé€šå¸¸ä»¥`.vue`çš„å½¢å¼å­˜åœ¨ã€‚ ç®€åŒ–ç»„ä»¶å¼€å‘å’Œç®¡ç†ï¼Œä½¿å¾—ä»£ç æ›´åŠ æ¸…æ™°ã€æ¨¡å—åŒ–ã€ä¾¿äºç»´æŠ¤\u003c/p\u003e","title":"Vueåè¯ä»‹ç»--å•æ–‡ä»¶ç»„ä»¶"},{"content":"æ ¸å¿ƒæ¦‚å¿µ åœ¨ Vue.js ä¸­ï¼Œâ€œåº”ç”¨â€ï¼ˆApplicationï¼‰æ˜¯æŒ‡æ•´ä¸ª Vue é¡¹ç›®çš„ä¸€ä¸ªå®ä¾‹ã€‚å®ƒæ˜¯ Vue åº”ç”¨çš„åŸºç¡€ç»“æ„å’Œè¿è¡Œçš„èµ·ç‚¹ï¼Œè´Ÿè´£ç®¡ç†å’Œåè°ƒæ‰€æœ‰çš„ç»„ä»¶ã€çŠ¶æ€ã€è·¯ç”±ã€å’Œå…¶ä»–åŠŸèƒ½æ¨¡å—ã€‚ ä¸€ä¸ª Vue åº”ç”¨é€šå¸¸æ˜¯ç”±ä¸€ä¸ª Vue å®ä¾‹æˆ–å¤šä¸ª Vue å®ä¾‹ç»„æˆï¼Œé€šè¿‡å®ä¾‹åŒ– Vue å¯¹è±¡åˆ›å»ºåº”ç”¨ã€‚åº”ç”¨å®ä¾‹è´Ÿè´£åˆå§‹åŒ–åº”ç”¨çš„æ ¹ç»„ä»¶ï¼Œå¹¶æä¾›åº”ç”¨èŒƒå›´å†…çš„é…ç½®å’Œèµ„æºï¼Œä¾‹å¦‚æ’ä»¶ã€å…¨å±€çŠ¶æ€ç®¡ç†ç­‰ã€‚\nåŸºæœ¬ç»“æ„ ä¸€ã€ä¸»æ–‡ä»¶ main.jsæˆ–main.ts åº”ç”¨çš„å…¥å£æ–‡ä»¶ï¼Œè´Ÿè´£åˆå§‹åŒ–å’Œé…ç½® Vue åº”ç”¨å®ä¾‹ã€‚ // main.js import { createApp } from \u0026#39;vue\u0026#39;; import App from \u0026#39;./App.vue\u0026#39;; import router from \u0026#39;./router\u0026#39;; import store from \u0026#39;./store\u0026#39;; const app = createApp(App); app.use(router); app.use(store); app.mount(\u0026#39;#app\u0026#39;); äºŒã€æ ¹ç»„ä»¶ (App.vue) åº”ç”¨çš„æ ¹ç»„ä»¶ï¼Œé€šå¸¸ç”¨ä½œåº”ç”¨çš„é¡¶å±‚å®¹å™¨ï¼ŒåŒ…å«åº”ç”¨çš„åŸºæœ¬ç»“æ„å’Œé€»è¾‘ã€‚ \u0026lt;!-- App.vue --\u0026gt; \u0026lt;template\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;router-view\u0026gt;\u0026lt;/router-view\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { name: \u0026#39;App\u0026#39; }; \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; /* å…¨å±€æ ·å¼ */ \u0026lt;/style\u0026gt; ä¸‰ã€è·¯ç”±(Router) å®šä¹‰åº”ç”¨çš„é¡µé¢å¯¼èˆªå’Œ URL è·¯å¾„çš„æ˜ å°„å…³ç³»ã€‚ // router/index.js import { createRouter, createWebHistory } from \u0026#39;vue-router\u0026#39;; import Home from \u0026#39;../views/Home.vue\u0026#39;; import About from \u0026#39;../views/About.vue\u0026#39;; const routes = [ { path: \u0026#39;/\u0026#39;, name: \u0026#39;Home\u0026#39;, component: Home }, { path: \u0026#39;/about\u0026#39;, name: \u0026#39;About\u0026#39;, component: About } ]; const router = createRouter({ history: createWebHistory(process.env.BASE_URL), routes }); export default router; å››ã€çŠ¶æ€ç®¡ç†(Store) ç®¡ç†åº”ç”¨çš„å…¨å±€çŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨ Vuex æˆ–è€…å…¶ä»–çŠ¶æ€ç®¡ç†åº“ã€‚ // store/index.js import { createStore } from \u0026#39;vuex\u0026#39;; const store = createStore({ state: { count: 0 }, mutations: { increment(state) { state.count++; } } }); export default store; äº”ã€ç»„ä»¶ Vue åº”ç”¨æ˜¯ç”±å¤šä¸ªç»„ä»¶ç»„æˆçš„ï¼Œç»„ä»¶æ˜¯åº”ç”¨çš„åŸºæœ¬æ„å»ºå—ã€‚ å¦‚ï¼Œä¸€ä¸ªæŒ‰é’®ç»„ä»¶ï¼š\n\u0026lt;!-- ButtonComponent.vue --\u0026gt; \u0026lt;template\u0026gt; \u0026lt;button @click=\u0026#34;handleClick\u0026#34;\u0026gt;Click Me\u0026lt;/button\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { methods: { handleClick() { this.$emit(\u0026#39;clicked\u0026#39;); } } }; \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; button { background-color: blue; color: white; } \u0026lt;/style\u0026gt; åº”ç”¨ç”Ÿå‘½å‘¨æœŸ 1ã€åˆ›å»ºï¼šå®ä¾‹åˆå§‹åŒ–ã€æ ¹ç»„ä»¶åŠ è½½\n2ã€æŒ‚è½½ï¼šå®ä¾‹æŒ‚è½½åœ¨DOMä¸Šï¼Œæ¸²æŸ“æ ¹ç»„ä»¶\n3ã€æ›´æ–°ï¼šæ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œé‡æ–°æ¸²æŸ“ç»„ä»¶\n4ã€é”€æ¯ï¼šç¤ºä¾‹è¢«é”€æ¯ï¼Œäº‹ä»¶ç›‘å¬å™¨å’ŒDOMè¢«ç§»é™¤\nåº”ç”¨é…ç½® åº”ç”¨å¯ä»¥é€šè¿‡åˆ›å»ºå®ä¾‹æ—¶ä¼ å…¥é…ç½®é€‰é¡¹è¿›è¡Œé…ç½®\næ ¹ç»„ä»¶ï¼šä½¿ç”¨ renderæ–¹æ³•æŒ‡å®šæ ¹ç»„ä»¶ createApp({ render: h =\u0026gt; h(App) }); å…¨å±€æ–¹æ³•å’Œå±æ€§ï¼šé€šè¿‡ app.configé…ç½®å…¨å±€å±æ€§æˆ–æ–¹æ³• app.config.globalProperties.$myGlobalMethod = function() { /* ... */ }; æ’ä»¶ï¼šä½¿ç”¨ app.useæ³¨å†Œæ’ä»¶ app.use(myPlugin); åº”ç”¨ç¤ºä¾‹ \u0026lt;!-- index.html --\u0026gt; \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;My Vue App\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;script src=\u0026#34;/path/to/main.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; // main.js import { createApp } from \u0026#39;vue\u0026#39;; import App from \u0026#39;./App.vue\u0026#39;; createApp(App).mount(\u0026#39;#app\u0026#39;); \u0026lt;!-- App.vue --\u0026gt; \u0026lt;template\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;Welcome to My Vue App\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;{{ message }}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { data() { return { message: \u0026#39;Hello, Vue!\u0026#39; }; } }; \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; #app { text-align: center; color: #2c3e50; } \u0026lt;/style\u0026gt; ","permalink":"https://www.mfun.ink/2024/06/16/vue-application/","summary":"\u003ch2 id=\"æ ¸å¿ƒæ¦‚å¿µ\"\u003eæ ¸å¿ƒæ¦‚å¿µ\u003c/h2\u003e\n\u003cp\u003eåœ¨ Vue.js ä¸­ï¼Œâ€œåº”ç”¨â€ï¼ˆApplicationï¼‰æ˜¯æŒ‡æ•´ä¸ª Vue é¡¹ç›®çš„ä¸€ä¸ªå®ä¾‹ã€‚å®ƒæ˜¯ Vue åº”ç”¨çš„åŸºç¡€ç»“æ„å’Œè¿è¡Œçš„èµ·ç‚¹ï¼Œè´Ÿè´£ç®¡ç†å’Œåè°ƒæ‰€æœ‰çš„ç»„ä»¶ã€çŠ¶æ€ã€è·¯ç”±ã€å’Œå…¶ä»–åŠŸèƒ½æ¨¡å—ã€‚\nä¸€ä¸ª Vue åº”ç”¨é€šå¸¸æ˜¯ç”±ä¸€ä¸ª Vue å®ä¾‹æˆ–å¤šä¸ª Vue å®ä¾‹ç»„æˆï¼Œé€šè¿‡å®ä¾‹åŒ– Vue å¯¹è±¡åˆ›å»ºåº”ç”¨ã€‚åº”ç”¨å®ä¾‹è´Ÿè´£åˆå§‹åŒ–åº”ç”¨çš„æ ¹ç»„ä»¶ï¼Œå¹¶æä¾›åº”ç”¨èŒƒå›´å†…çš„é…ç½®å’Œèµ„æºï¼Œä¾‹å¦‚æ’ä»¶ã€å…¨å±€çŠ¶æ€ç®¡ç†ç­‰ã€‚\u003c/p\u003e","title":"Vueåè¯ä»‹ç»--åº”ç”¨"},{"content":"æœ€è¿‘åœ¨æœåŠ¡å™¨ä¸Šè·‘dockeråº”ç”¨æ˜ å°„é€šè¿‡smbæŒ‚è½½çš„nasç›®å½•æ—¶é‡åˆ°ä¸€äº›é—®é¢˜ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸‹ï¼ŒæœåŠ¡å™¨ç³»ç»Ÿæ˜¯Linux Ubuntu 22.04ã€‚\nSqlite database is locked æœ€åˆçš„æŒ‚è½½å‚æ•°å¦‚ä¸‹ï¼Œuidå’Œgidå–çš„æ˜¯å½“å‰ç™»å½•ç”¨æˆ·çš„ç”¨æˆ·idå’Œç”¨æˆ·ç»„idã€‚ç»“æœå°±æ˜¯æŠ¥database is lockedï¼Œä¿®æ”¹æ–‡ä»¶æƒé™ï¼Œæ·»åŠ dir_mode=0777,file_mode=0777å‚æ•°ä¹Ÿè¿˜æ˜¯ä¸è¡Œã€‚\n//192.168.1.4/xx /mnt/xx cifs credentials=/home/.smbcredentials,uid=1000,gid=1000,rw,noauto,x-systemd.automount,iocharset=utf8 0 0 æœ€åæ·»åŠ nobrlå‚æ•°åå¯ä»¥äº†ï¼Œå®˜æ–¹æ–‡æ¡£é‡Œå¯¹è¿™ä¸ªå‚æ•°çš„è§£é‡Šï¼šDo not send byte range lock requests to the server. This is necessary for certain applications that break with cifs style mandatory byte range locks (and most cifs servers do not yet support requesting advisory byte range locks).\nå¤§æ¦‚æ„æ€æ˜¯ï¼šä¸è¦å‘æœåŠ¡å‘é€å­—èŠ‚èŒƒå›´çš„é”è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯æŒ‚è½½çš„smbç›®å½•ä¸æ”¯æŒå­—èŠ‚èŒƒå›´çš„é”è¯·æ±‚ã€‚ä¿®æ”¹åæŒ‚è½½å‚æ•°å¦‚ä¸‹ï¼š\n//192.168.1.4/xx /mnt/xx cifs credentials=/home/.smbcredentials,uid=1000,gid=1000,rw,noauto,x-systemd.automount,nobrl,iocharset=utf8 0 0 é™„ä¸Šgithubä¸Šå…³äºè¿™ä¸ªé—®é¢˜çš„è®¨è®ºï¼š\nSQLITE_BUSY: database is locked Â· Issue #1678 Â· NginxProxyManager/nginx-proxy-manager (github.com)\nmariadb/mysql ä½¿ç”¨è¿œç¨‹ç›®å½•ä¸å¯ç”¨ å°è¯•ä½¿ç”¨æŒ‚è½½çš„smbç›®å½•æ˜ å°„åˆ°mariadbçš„æ•°æ®ç›®å½•ï¼Œå…ˆæ˜¯æŠ¥å¦‚ä¸‹é—®é¢˜ï¼š\nInstallation of system tables failed! Examine the logs in /var/lib/mysql for more information. The problem could be conflicting information in an external my.cnf files. You can ignore these by doing: shell\u0026gt; /usr/bin/mariadb-install-db --defaults-file=~/.my.cnf You can also try to start the mysqld daemon with: shell\u0026gt; /usr/bin/mariadbd --skip-grant-tables --general-log \u0026amp; and use the command line tool /usr/bin/mariadb to connect to the mysql database and look at the grant tables: shell\u0026gt; /usr/bin/mysql -u root mysql mysql\u0026gt; show tables; Try \u0026#39;mysqld --help\u0026#39; if you have problems with paths. Using --general-log gives you a log in /var/lib/mysql that may be helpful. å°è¯•æ·»åŠ æŸ¥äº†ä¸€åœˆåº”è¯¥æ˜¯æƒé™é—®é¢˜ï¼Œä¸Šé¢æŒ‚è½½uidå’Œgidæ˜¯1000ï¼Œmariadbå’Œmysqlçš„dockeré•œåƒæ„å»ºçš„æ—¶å€™åˆ›å»ºäº†mysqlç”¨æˆ·å’Œç”¨æˆ·ç»„idæ˜¯999ï¼Œå¯¼è‡´æ²¡æœ‰ç›®å½•æƒé™ã€‚å°è¯•ä¿®æ”¹æ–‡ä»¶æƒé™ï¼Œç›´æ¥æŒ‚è½½æˆ0777çš„æƒé™ï¼Œdockerå¯åŠ¨æ²¡æœ‰æŠ¥é”™ï¼Œä½†æ˜¯å´å¡ä½æ²¡æœ‰è¿›è¡Œdbåˆå§‹åŒ–ï¼Œç™»å½•å®¹å™¨åä½¿ç”¨å‘½ä»¤è¡Œè¿æ¥dbè¿æ¥å¤±è´¥ï¼Œå°±åƒæ²¡æœ‰å¯åŠ¨æˆåŠŸã€‚\nåˆæŸ¥äº†ä¸‹dockeræ˜ å°„smbç›®å½•ï¼Œdbå¯åŠ¨å¤±è´¥ç›¸å…³çš„é—®é¢˜ï¼Œå‘ç°è¿˜æŒºå¤šäººç¢°åˆ°è¿™ä¸ªé—®é¢˜çš„ï¼Œæœ‰äººå»ºè®®ä¸è¦ä½¿ç”¨SBMæŒ‚è½½è¦ç”¨nfsv4ï¼Œå¼€å¯NASçš„çš„nfså…±äº«ï¼Œå°è¯•é€šè¿‡nfsæŒ‚è½½ï¼Œç»“æœè¿˜æ˜¯ä¸è¡Œï¼ŒæŠ¥æ²¡æœ‰å†™æƒé™ï¼Œä¸æ¸…æ¥šæ˜¯ä¸æ˜¯nasçš„nfsæ˜¯ä¸æ˜¯æ²¡æœ‰å¼€å¯å†™æƒé™ï¼Œè¿˜æ˜¯è¯´åè®®ç‰ˆæœ¬ä¸å¯¹ï¼ŒæŠ˜è…¾äº†åŠå¤©è¿˜æ˜¯æ²¡æœ‰æˆåŠŸã€‚\næœ€åæ‰¾åˆ°äº†å®˜æ–¹è¯´æ³•\nYou should be cautious when considering whether to use NFS with MySQL. Potential issues, which vary by operating system and NFS version, include the following: MySQL data and log files placed on NFS volumes becoming locked and unavailable for use. Locking issues may occur in cases where multiple instances of MySQL access the same data directory or where MySQL is shut down improperly, due to a power outage, for example. NFS version 4 addresses underlying locking issues with the introduction of advisory and lease-based locking. However, sharing a data directory among MySQL instances is not recommended. Data inconsistencies introduced due to messages received out of order or lost network traffic. To avoid this issue, use TCP with hard and intr mount options. Maximum file size limitations. NFS Version 2 clients can only access the lowest 2GB of a file (signed 32 bit offset). NFS Version 3 clients support larger files (up to 64 bit offsets). The maximum supported file size also depends on the local file system of the NFS server. Using NFS within a professional SAN environment or other storage system tends to offer greater reliability than using NFS outside of such an environment. However, NFS within a SAN environment may be slower than directly attached or bus-attached non-rotational storage. If you choose to use NFS, NFS Version 4 or later is recommended, as is testing your NFS setup thoroughly before deploying into a production environment. ç¿»è¯‘å¦‚ä¸‹ï¼Œä½¿ç”¨nfséœ€è°¨æ…ï¼š\nè€ƒè™‘å°† MySQL ä¸ NFS ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œæ‚¨åº”è¯¥è°¨æ…è¡Œäº‹ã€‚æ½œåœ¨é—®é¢˜å› æ“ä½œç³»ç»Ÿå’Œ NFS ç‰ˆæœ¬è€Œå¼‚ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å‡ ç‚¹ï¼š MySQL æ•°æ®å’Œæ—¥å¿—æ–‡ä»¶æ”¾ç½®åœ¨ NFS å·ä¸Šï¼Œå¯èƒ½ä¼šè¢«é”å®šå¹¶æ— æ³•ä½¿ç”¨ã€‚é”å®šé—®é¢˜å¯èƒ½å‘ç”Ÿåœ¨å¤šä¸ª MySQL å®ä¾‹è®¿é—®ç›¸åŒæ•°æ®ç›®å½•æˆ– MySQL å› æ–­ç”µç­‰åŸå› ä¸æ­£ç¡®å…³é—­çš„æƒ…å†µä¸‹ã€‚NFS ç‰ˆæœ¬ 4 é€šè¿‡å¼•å…¥å’¨è¯¢å’ŒåŸºäºç§ŸæœŸçš„é”å®šæ¥è§£å†³åº•å±‚é”å®šé—®é¢˜ã€‚ä½†æ˜¯ï¼Œä¸å»ºè®®åœ¨ MySQL å®ä¾‹ä¹‹é—´å…±äº«æ•°æ®ç›®å½•ã€‚ ç”±äºæ¶ˆæ¯ä¹±åºæ¥æ”¶æˆ–ç½‘ç»œæµé‡ä¸¢å¤±è€Œå¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´ã€‚ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œè¯·ä½¿ç”¨å¸¦æœ‰ hard å’Œ intr æŒ‚è½½é€‰é¡¹çš„ TCPã€‚ æœ€å¤§æ–‡ä»¶å¤§å°é™åˆ¶ã€‚NFS ç‰ˆæœ¬ 2 å®¢æˆ·ç«¯åªèƒ½è®¿é—®æ–‡ä»¶æœ€ä½çš„ 2GBï¼ˆå¸¦ç¬¦å·çš„ 32 ä½åç§»é‡ï¼‰ã€‚NFS ç‰ˆæœ¬ 3 å®¢æˆ·ç«¯æ”¯æŒæ›´å¤§çš„æ–‡ä»¶ï¼ˆé«˜è¾¾ 64 ä½åç§»é‡ï¼‰ã€‚æ”¯æŒçš„æœ€å¤§æ–‡ä»¶å¤§å°è¿˜å–å†³äº NFS æœåŠ¡å™¨çš„æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€‚ åœ¨ä¸“ä¸š SAN ç¯å¢ƒæˆ–å…¶ä»–å­˜å‚¨ç³»ç»Ÿä¸­ä½¿ç”¨ NFS é€šå¸¸æ¯”åœ¨è¯¥ç¯å¢ƒä¹‹å¤–ä½¿ç”¨ NFS æ›´å¯é ã€‚ä½†æ˜¯ï¼ŒSAN ç¯å¢ƒä¸­çš„ NFS å¯èƒ½æ¯”ç›´æ¥è¿æ¥æˆ–æ€»çº¿è¿æ¥çš„éæ—‹è½¬å­˜å‚¨æ›´æ…¢ã€‚ å¦‚æœæ‚¨é€‰æ‹©ä½¿ç”¨ NFSï¼Œå»ºè®®ä½¿ç”¨ NFS 4 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œå¹¶åœ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¹‹å‰å½»åº•æµ‹è¯•æ‚¨çš„ NFS è®¾ç½®ã€‚ æœ€ç»ˆè¿˜æ˜¯é€‰æ‹©æ”¾å¼ƒæŒ‚è½½nasç£ç›˜ä½œä¸ºdbæ•°æ®ç›˜ï¼Œæ”¹ä¸ºç›´æ¥ä½¿ç”¨æœ¬åœ°ç£ç›˜ã€‚\nå‚è€ƒï¼š SQLITE_BUSY: database is locked Â· Issue #1678 Â· NginxProxyManager/nginx-proxy-manager (github.com)\nMySQL :: MySQL 8.0 Reference Manual :: 10.12.1 Optimizing Disk I/O\nmount.cifs(8) - Linux man page (die.net)\nDocker MariaDB cannot use mount NAS folder - Open Source Projects / DockerEngine - Docker Community Forums\n","permalink":"https://www.mfun.ink/2024/02/16/docker-app-mount-smb/","summary":"\u003cp\u003eæœ€è¿‘åœ¨æœåŠ¡å™¨ä¸Šè·‘dockeråº”ç”¨æ˜ å°„é€šè¿‡smbæŒ‚è½½çš„nasç›®å½•æ—¶é‡åˆ°ä¸€äº›é—®é¢˜ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸‹ï¼ŒæœåŠ¡å™¨ç³»ç»Ÿæ˜¯Linux Ubuntu 22.04ã€‚\u003c/p\u003e","title":"dockeråº”ç”¨æŒ‚è½½SMBç½‘ç»œç›®å½•é‡åˆ°çš„é—®é¢˜"},{"content":"è®°å½•ç¬”è®°æˆ–è€…å†™åšå®¢çš„æ—¶å€™ç»å¸¸ä¼šç›´æ¥å¤åˆ¶macæˆªå›¾æ’å…¥å›¾ç‰‡ï¼Œé»˜è®¤å¤åˆ¶å¾—åˆ°çš„æ˜¯æ— æŸpngå›¾ç‰‡ï¼Œå›¾ç‰‡ä½“ç§¯æ¯”è¾ƒå¤§ï¼Œå ç©ºé—´å¸¦å®½ï¼Œå°±åŸºäºgoå®ç°äº†ä¸ªå‘½ä»¤è¡Œæ‰¹é‡å‹ç¼©å·¥å…·ã€‚\nåŸºäºå›¾ç‰‡å°ºå¯¸å‹ç¼© ä¸»è¦æ˜¯ç”¨åˆ°äº†github.com/nfnt/resize åº“\nfunc (j *JPG) Resizer(filePath string, dstPath string, compressFactor float64) error { // æ‰“å¼€å›¾ç‰‡æ–‡ä»¶ file, err := os.Open(filePath) if err != nil { return err } defer file.Close() // è§£ç å›¾ç‰‡ img, _, err := image.Decode(file) if err != nil { return err } // è®¡ç®—æ–°çš„å®½é«˜ width := uint(float64(img.Bounds().Dx()) * compressFactor) height := uint(float64(img.Bounds().Dy()) * compressFactor) // ç¼©æ”¾å›¾ç‰‡ resizedImg := resize.Resize(width, height, img, resize.Lanczos3) // åˆ›å»ºè¾“å‡ºæ–‡ä»¶ outputFile, err := os.Create(dstPath) if err != nil { return err } defer outputFile.Close() // ä¿å­˜å‹ç¼©åçš„å›¾ç‰‡ err = jpeg.Encode(outputFile, resizedImg, nil) if err != nil { return err } return nil } åŸºäºè´¨é‡çš„å‹ç¼© ç›´æ¥ä½¿ç”¨çš„Go imageæ ‡å‡†åº“\nfunc (j *JPG) QualityLower(filePath string, dstPath string, quality int) error { if quality \u0026lt; 0 { return nil } if quality \u0026lt; 10 { quality = quality * 10 } if quality \u0026gt; 100 { return nil } // æ‰“å¼€å›¾ç‰‡æ–‡ä»¶ file, err := os.Open(filePath) if err != nil { return err } defer file.Close() // è§£ç å›¾ç‰‡ img, _, err := image.Decode(file) if err != nil { return err } // åˆ›å»ºè¾“å‡ºæ–‡ä»¶ outputFile, err := os.Create(dstPath) if err != nil { return err } defer outputFile.Close() // è®¾ç½®JPEGç¼–ç å‚æ•° options := \u0026amp;jpeg.Options{ Quality: int(quality), } // ä¿å­˜å‹ç¼©åçš„å›¾ç‰‡ err = jpeg.Encode(outputFile, img, options) if err != nil { return err } return nil } pngå±äºæ— æŸæ ¼å¼ï¼Œgoé»˜è®¤åº“æ— æ³•è¿›è¡Œæœ‰æ•ˆå‹ç¼©ï¼Œå°±ç®—ç”¨png.BestCompression å‚æ•°å‹ç¼©æ•ˆæœä¹Ÿä¸ç†æƒ³ï¼Œå¦‚æœä¸æ˜¯å¾ˆåœ¨ä¹è´¨é‡ï¼Œå¯ä»¥è½¬æˆjpgå›¾ç‰‡ï¼Œå†å‹ç¼©\n// QualityLower png å‹ç¼© func (p *PNG) QualityLower(filePath string, dstPath string) error { // æ‰“å¼€PNGå›¾ç‰‡æ–‡ä»¶ file, err := os.Open(filePath) if err != nil { return err } defer file.Close() // è§£ç PNGå›¾ç‰‡ img, _, err := image.Decode(file) if err != nil { return err } // åˆ›å»ºè¾“å‡ºæ–‡ä»¶ outputFile, err := os.Create(dstPath) if err != nil { return err } defer outputFile.Close() encoder := png.Encoder{ CompressionLevel: png.BestCompression, } // ä¿å­˜ä¸ºPNGæ ¼å¼ err = encoder.Encode(outputFile, img) if err != nil { return err } return nil } pngè½¬jpgå†å‹ç¼©\nfunc (i *ImageConvert) ToJPEG(filePath string, dstPath string, quality int) error { file, err := os.Open(filePath) if err != nil { return err } defer file.Close() img, _, err := image.Decode(file) if err != nil { return err } // åˆ›å»ºè¾“å‡ºæ–‡ä»¶ outputFile, err := os.Create(dstPath) if err != nil { return err } defer outputFile.Close() // è®¾ç½®JPEGç¼–ç å‚æ•° jpegOptions := \u0026amp;jpeg.Options{ Quality: quality, } // å°†PNGè½¬ä¸ºJPEGå¹¶è¿›è¡Œå‹ç¼© err = jpeg.Encode(outputFile, img, jpegOptions) if err != nil { return err } return nil } å®Œæ•´ä»£ç åœ¨githubï¼Œç›´æ¥ç”¨goå®‰è£…go install github.com/mengboy/img@latestä½¿ç”¨ç¤ºä¾‹ï¼š\n# å°†imageä¸‹çš„pngå›¾ç‰‡æ‰¹é‡è½¬æ¢ä¸ºjpegå›¾ç‰‡å¹¶å‹ç¼©è´¨é‡åˆ°80 img convert -s /images -d /imagesjpeg -c jpeg -q 80 # å°†imageä¸‹çš„test.pngè½¬æ¢ä¸ºtest.jpegå¹¶å‹ç¼©è´¨é‡åˆ°80 img convert -s /images/test.png -d /images/test.jpeg -c jpeg -q 80 # å°†imageä¸‹çš„å›¾ç‰‡æ‰¹é‡å‹ç¼©è´¨é‡åˆ°80 img resize -s /images -d /images8 -q 80 # å°†imageä¸‹çš„test.jpegå‹ç¼©è´¨é‡åˆ°80 img resize -s /images/test.jpeg -d /images/test8.jpeg - 80 # å°†imageä¸‹çš„pngå›¾ç‰‡å°ºå¯¸æ‰¹é‡ç¼©å°è‡³åŸæ¥çš„80% img resize -s /images -d /images8 -f 0.8 # å°†imageä¸‹çš„test.pngå›¾ç‰‡å°ºå¯¸ç¼©å°è‡³åŸæ¥çš„80% img resize -s /images/test.png -d /images/test8.png -f 0.8 ","permalink":"https://www.mfun.ink/2024/01/28/img-tool/","summary":"\u003cp\u003eè®°å½•ç¬”è®°æˆ–è€…å†™åšå®¢çš„æ—¶å€™ç»å¸¸ä¼šç›´æ¥å¤åˆ¶macæˆªå›¾æ’å…¥å›¾ç‰‡ï¼Œé»˜è®¤å¤åˆ¶å¾—åˆ°çš„æ˜¯æ— æŸpngå›¾ç‰‡ï¼Œå›¾ç‰‡ä½“ç§¯æ¯”è¾ƒå¤§ï¼Œå ç©ºé—´å¸¦å®½ï¼Œå°±åŸºäºgoå®ç°äº†ä¸ªå‘½ä»¤è¡Œæ‰¹é‡å‹ç¼©å·¥å…·ã€‚\u003c/p\u003e","title":"Go è¯­è¨€å®ç°jpgå’Œpngå›¾ç‰‡çš„æ‰¹é‡å‹ç¼©"},{"content":"åœ¨éƒ¨ç½²äº†Nä¸ªdockeræœåŠ¡åï¼Œæˆ‘çš„æç©ºé—´Z4CPUæ€§èƒ½ç»ˆäºæ˜¯è¢«æ¦¨çš„ä¸€ç‚¹ä¸å‰©äº†ï¼Œè¿˜æƒ³ç»§ç»­æŠ˜è…¾æ€ä¹ˆåŠï¼Œä¸€æ˜¯å‡çº§æ–°æ¬¾Z423ï¼Œçœ‹äº†çœ¼ä»·æ ¼è¿˜æ˜¯ç®—äº†ï¼›äºŒæ˜¯æœåŠ¡å’Œå­˜å‚¨åˆ†å¼€ï¼Œæä¸ªä¸“é—¨çš„æœåŠ¡å™¨ç”¨æ¥éƒ¨ç½²æœåŠ¡ï¼ŒNASå›å½’åˆ°å®ƒåŸæœ¬çš„å®šä½ä¸Šåªç”¨æ¥åšç½‘ç»œå­˜å‚¨ï¼Œåˆšå¥½æœ‰å°é—²ç½®çš„Windowsç¬”è®°æœ¬æèµ·ï¼\nWindows 11 dockerå®‰è£…å’Œä½¿ç”¨ å®‰è£…docker å®‰è£…æµç¨‹å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œ å®‰è£…å®Œwslé‡Œä¼šå¤šå‡ºä¸¤ä¸ªdockerçš„linuxåˆ†å‘ç‰ˆï¼Œå¦‚è¿‡è‡ªå·±æ²¡æœ‰ç”¨wslå®‰è£…è¿‡åˆ†å‘ç‰ˆï¼Œåç»­æ‹‰å–é•œåƒå¯åŠ¨é•œåƒéƒ½ä¼šåŸºäºè¿™ä¸¤ä¸ªåˆ†å‘ç‰ˆï¼Œé»˜è®¤æ˜¯armæ¶æ„çš„ï¼Œæœ‰äº›é•œåƒå¯èƒ½æ²¡æœ‰æ”¯æŒarmæ¶æ„èŠ¯ç‰‡ï¼Œæ‰€ä»¥æˆ‘åˆç”¨wslå®‰è£…äº†Ubuntuã€‚\nC:\\Users\\vector\u0026gt; wsl -l -v NAME STATE VERSION * Ubuntu Stopped 2 docker-desktop Stopped 2 docker-desktop-data Stopped 2 wsléœ€è¦è®¿é—®githubå¯èƒ½éœ€è¦ä»£ç†æˆ–è€…ç»‘å®šhostï¼Œå®‰è£…å®Œååœ¨dockerè®¾ç½®é‡Œæ‰“å¼€\næ‰“å¼€åè¿›å…¥Linuxå‘½ä»¤è¡Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨dockeräº†ï¼Œåœ¨å‘½ä»¤è¡Œæ‹‰å–å¯åŠ¨é•œåƒï¼Œwindowsä¸‹dockerç®¡ç†ç•Œé¢ä¼šåŒæ­¥æ›´æ–°ã€‚\nC:\\Users\\vector\u0026gt; wsl Welcome to Ubuntu 22.04.2 LTS (GNU/Linux 5.15.133.1-microsoft-standard-WSL2 x86_64) * Documentation: https://help.ubuntu.com * Management: https://landscape.canonical.com * Support: https://ubuntu.com/advantage * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s just raised the bar for easy, resilient and secure K8s cluster deployment. https://ubuntu.com/engage/secure-kubernetes-at-the-edge This message is shown once a day. To disable it please create the /home/vector/.hushlogin file. vector@DESKTOP-62URPQ2:/mnt/c/Users/vector$ docker --version Docker version 25.0.1, build 29cf629 æŒ‚è½½smb è¿™é‡Œå®‰è£…ubuntuè¿˜æœ‰ä¸€ä¸ªåŸå› ï¼šé»˜è®¤çš„é‚£ä¸¤ä¸ªdockeråˆ†å‘ç‰ˆä¸æ”¯æŒæŒ‚è½½è¿œç¨‹smbã€‚ubuntuä¸‹æ‰§è¡Œä¸‹é¢ä¸¤æ¡å‘½ä»¤ç”¨æ¥å®‰è£…æŒ‚è½½smbç›¸å…³çš„ä¾èµ–ï¼š\nsudo apt update sudo apt-get install smbclient cifs-utils æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡ŒæŒ‚è½½ï¼ŒæŒ‚è½½æ—¶éœ€è¦æŒ‡å®šæƒé™ï¼Œä¸ç„¶ä¼šå¯¼è‡´åªæœ‰rootç”¨æˆ·æœ‰å†™æƒé™ï¼Œå…¶ä»–ç”¨æˆ·åŒ…æ‹¬dockeræœåŠ¡éƒ½æ²¡æœ‰å†™æƒé™ï¼š\nmkdir /mnt/zkj // åˆ›å»ºæŒ‚è½½ç›®å½• sudo mount.cifs //192.168.1.4/nvme2-1XXXXXXXXX7/docker /mnt/zkj -o username=1XXXXXXXXX7,password=\u0026#34;xxxxxx\u0026#34;,uid=1000,gid=1000,iocharset=utf8,rw,dir_mode=0777,file_mode=0777 //æ‰§è¡ŒæŒ‚è½½ æŒ‚è½½å®Œåå°±å¯ä»¥æ­£å¸¸æ˜ å°„ç›®å½•åˆ°dockeré•œåƒé‡Œäº†ï¼Œæ¯”å¦‚å¯åŠ¨çš„wikijsçš„é•œåƒï¼Œè¿™æ ·æœåŠ¡è¿è¡Œåœ¨windowsæœåŠ¡å™¨ä¸Šï¼Œ å­˜å‚¨åœ¨å±€åŸŸç½‘ä¸‹çš„NASä¸Š\ndocker run -d -p 3080:3000 --name wiki --restart unless-stopped -v /mnt/zkj/docker/wikijs/data/db:/wiki/data/db -v /mnt/zkj/docker/wikijs/data/content:/wiki/data/content -e \u0026#34;DB_TYPE=sqlite\u0026#34; -e \u0026#34;DB_FILEPATH=/wiki/data/db/db-back.sqlite\u0026#34; requarks/wiki:latest æƒé™é—®é¢˜ ä¸Šé¢wslä¸‹çš„Linuxç›´æ¥æŒ‚è½½smbä¼šæœ‰ä¸ªæ–‡ä»¶æƒé™é—®é¢˜ï¼Œå¯¼è‡´sqliteæ— æ³•ä½¿ç”¨ï¼Œå°±ä¸Šé¢é‚£ä¸ªä¾‹å­å®¹å™¨å¯åŠ¨ä¼šä¸€ç›´æŠ¥[SQLITE_BUSY] The database file is lockedï¼Œè§£å†³åŠæ³•æ˜¯ä½¿ç”¨Widowsçš„æ–‡ä»¶ç³»ç»Ÿ\nåœ¨windowsä¸‹å…ˆæŒ‚è½½smb æ˜ å°„åˆ°ç£ç›˜ å³é”®æ­¤ç”µè„‘å”¤å‡ºèœå•ï¼Œç‚¹å‡»å°†åˆšæŒ‚è½½çš„smbæ˜ å°„åˆ°ç£ç›˜ä¸Š\næ˜ å°„ä¸ºwindowsç£ç›˜åï¼Œåœ¨wsl ubuntué‡ŒæŒ‚è½½è¿™ä¸ªç£ç›˜\nmkdir /mnt/e sudo mount -t drvfs E: /mnt/e å¯åŠ¨åè‡ªåŠ¨æŒ‚è½½ï¼šç¼–è¾‘sudo vi /etc/fstabæ·»åŠ ä¸€è¡Œä¸‹é¢çš„å†…å®¹\nE: /mnt/e drvfs defaults 0 0 ä½¿ç”¨æ–°çš„ç›®å½•æ˜ å°„å¯åŠ¨å®¹å™¨å°±å¯ä»¥äº†ï¼Œå¦‚æœæ²¡æœ‰è¯†åˆ«åˆ°æŒ‚è½½çš„ç›®å½•ï¼Œå¯ä»¥é‡å¯ä¸‹windowsä¸‹çš„dockeræœåŠ¡\ndocker run -d -p 3080:3000 --name wiki --restart unless-stopped -v /mnt/e/wikijs/data/db:/wiki/data/db -v /mnt/e/wikijs/data/content:/wiki/data/content -e \u0026#34;DB_TYPE=sqlite\u0026#34; -e \u0026#34;DB_FILEPATH=/wiki/data/db/db-back.sqlite\u0026#34; requarks/wiki:latest æ€»ç»“ å¦‚æœNASæ€§èƒ½è·Ÿå¾—ä¸Šï¼Œå®Œå…¨å¯ä»¥éƒ½åœ¨NASä¸Šæï¼Œä¸è¿‡è¿™ç§æ€§èƒ½çš„NASä¹Ÿå°±ä¸æ˜¯ä¼ ç»Ÿæ„ä¹‰çš„ä¸Šçš„NASäº†ï¼Œæ›´åƒæ˜¯å®šåˆ¶åŒ–çš„æœåŠ¡å™¨ã€‚å¦‚è¿‡NASæ€§èƒ½ä¸è¶³åˆä¸æƒ³èŠ±é’±æå‡çº§å¯ä»¥æ•´ä¸ªå•ç‹¬çš„æœåŠ¡å™¨ï¼Œä½¿ç”¨é—²ç½®çš„ç¬”è®°æœ¬æˆ–è€…miniä¸»æœºè·ŸNASç»„ä¸ªå±€åŸŸç½‘ã€‚\nå‚è€ƒ https://github.com/microsoft/WSL/issues/4689 https://github.com/sqlitebrowser/sqlitebrowser/issues/2142 WSL ä¸Šçš„ Docker å®¹å™¨å…¥é—¨ | Microsoft Learn wsL2ä¸­æŒ‚è½½windowsä¸‹çš„ç½‘ç»œç¡¬ç›˜ | madgd\u0026rsquo;s blog ","permalink":"https://www.mfun.ink/2024/01/28/windows-wsl-docker/","summary":"\u003cp\u003eåœ¨éƒ¨ç½²äº†Nä¸ªdockeræœåŠ¡åï¼Œæˆ‘çš„æç©ºé—´Z4CPUæ€§èƒ½ç»ˆäºæ˜¯è¢«æ¦¨çš„ä¸€ç‚¹ä¸å‰©äº†ï¼Œè¿˜æƒ³ç»§ç»­æŠ˜è…¾æ€ä¹ˆåŠï¼Œä¸€æ˜¯å‡çº§æ–°æ¬¾Z423ï¼Œçœ‹äº†çœ¼ä»·æ ¼è¿˜æ˜¯ç®—äº†ï¼›äºŒæ˜¯æœåŠ¡å’Œå­˜å‚¨åˆ†å¼€ï¼Œæä¸ªä¸“é—¨çš„æœåŠ¡å™¨ç”¨æ¥éƒ¨ç½²æœåŠ¡ï¼ŒNASå›å½’åˆ°å®ƒåŸæœ¬çš„å®šä½ä¸Šåªç”¨æ¥åšç½‘ç»œå­˜å‚¨ï¼Œåˆšå¥½æœ‰å°é—²ç½®çš„Windowsç¬”è®°æœ¬æèµ·ï¼\u003c/p\u003e","title":"å±€åŸŸç½‘ä¸‹Windows docker æŒ‚è½½ NAS ç£ç›˜"},{"content":"ç”Ÿå‘½ä¸æ¯ï¼ŒæŠ˜è…¾ä¸æ­¢ï¼Œç»§ç»­å‹æ¦¨NASçš„CPUï¼ŒRSSHub+FreshRSS-FeedMe æ‰“é€ ä¸ªäººRSSä¿¡æ¯èšåˆæœåŠ¡\nRSS rssæ˜¯ä¸€ç§å†…å®¹èšåˆå·¥å…·ï¼Œæœ‰rsså’Œatomä¸¤ç§åè®®ï¼Œxmlä¸ºåŸºç¡€åè®®ã€‚é€šå¸¸åœ¨ä¸€äº›blogç½‘ç«™æ¯”è¾ƒå¸¸è§ã€‚é€šè¿‡è®¢é˜…è¿™ç§æ–¹å¼å¯ä»¥åªæ¥æ”¶è‡ªå·±é€‰æ‹©è‡ªå·±æƒ³è¦å…³æ³¨çš„ä¿¡æ¯ã€‚\nRSSHub RSSHubæ˜¯ä¸€æ¬¾å¼€æºã€ç®€å•æ˜“ç”¨çš„rssç”Ÿæˆå™¨ï¼Œä¸»è¦ç”¨äºå°†ä¸æ”¯æŒrssçš„ç½‘ç«™å˜å¾—å¯ä»¥ä½¿ç”¨rssè¿™ç§æ–¹å¼è®¢é˜…ã€‚ç›®å‰å·²ç»æ”¯æŒæ•°ç™¾ä¸ªä¸»æµç½‘ç«™ã€‚\nå®‰è£… é•œåƒä¸‹è½½ é…ç½® åŸºæœ¬ä¸Šä¸éœ€è¦ç‰¹åˆ«å¤æ‚çš„é…ç½®ï¼Œè®¾ç½®å¥½ç«¯å£å’Œè®¿é—®å¯†é’¥å°±è¡Œï¼Œæ›´å¤šé…ç½®å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚\nå¯åŠ¨ æµè§ˆå™¨é€šè¿‡ip+ç«¯å£æ–¹æ³•å‡ºç°è¿™ä¸ªé¡µé¢å°±è¯´æ˜å®‰è£…å¥½äº†ã€‚\næµè§ˆå™¨æ’ä»¶ æ”¯æŒä¸»æµæµè§ˆå™¨githubåœ°å€é€‰æ‹©ç›¸åº”çš„æµè§ˆå™¨æ’ä»¶è¿›è¡Œå®‰è£…ã€‚\nå®‰è£…å®Œåè®¾ç½®æœåŠ¡åœ°å€(ä¸Šé¢è®¿é—®é¡µé¢æ—¶è¾“å…¥çš„ip+ç«¯å£)å’Œè®¿é—®å¯†é’¥\næ’ä»¶æ”¯æŒåœ¨å¤šç§rssè®¢é˜…æœåŠ¡é‡Œæ·»åŠ è®¢é˜…ï¼Œè¿™é‡Œç”¨çš„æ˜¯FreshRsså…è´¹å¼€æºï¼Œæ”¯æŒdockeréƒ¨ç½²ã€‚\nä½¿ç”¨ ä½¿ç”¨ä¹Ÿååˆ†æ–¹ä¾¿ï¼Œå¦‚è¿‡ç½‘ç«™æ”¯æŒrssï¼Œæ’ä»¶è‡ªåŠ¨å°±æœ‰æç¤ºï¼Œç‚¹å‡»FreshRSSå°±ä¼šå°†å½“å‰ç½‘ç«™çš„rssè®¢é˜…æ·»åŠ åˆ°FreshRSSä¸­ã€‚ä¸‹é¢çš„RSSHubé’ˆå¯¹å½“å‰ç½‘ç«™æ”¯æŒçš„apiï¼Œç”¨æ³•å°±æ˜¯å¯ä»¥å°†è®¢é˜…åœ°å€ç›´æ¥å†™æˆ rsshubæœåŠ¡åœ°å€+è·¯å¾„ çš„å½¢å¼ï¼Œå¦‚è¿‡è®¾ç½®äº†å¯†é’¥åé¢è¦åŠ ä¸Šå¯†é’¥å‚æ•°ã€‚\nä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜ æŒ‰RssHubæ–‡æ¡£ä¸­çš„apiè®¿é—®æœ‰äº›æ—¶å€™ä¼šå‡ºç°æ•°æ®è·å–ä¸åˆ°çš„æƒ…å†µï¼Œçœ‹æŠ¥é”™åƒæ˜¯è¢«ç¦æ­¢è®¿é—®äº†ï¼Œå¯èƒ½æ˜¯ç›®æ ‡ç½‘ç«™æœ‰åçˆ¬æœºåˆ¶ï¼Œæˆ‘å°±ç›´æ¥ä½¿ç”¨çš„å®˜æ–¹æœåŠ¡äº†ï¼Œä¸è¿‡å®˜æ–¹åŸŸåå›½å†…è®¿é—®éœ€è¦ä½¿ç”¨ä»£ç†ï¼Œåœ¨FreshRssé‡Œé…ç½®çš„æ—¶å€™éœ€è¦é…ç½®ä¸Šä»£ç†ã€‚\nFreshRSS å®‰è£… åŒæ ·å…ˆä¸‹è½½freshrssé•œåƒ freshrssä¼šæœ‰äº›é…ç½®æ•°æ®å’Œç¼“å­˜æ•°æ®ï¼Œéœ€è¦è®¾ç½®ä¸‹ç›®å½•æ˜ å°„ è®¾ç½®ç«¯å£ ä½¿ç”¨ ä¸»è¦å°±æ˜¯é˜…è¯»å’Œç®¡ç†è®¢é˜…ï¼Œåœ¨rsshubæµè§ˆå™¨é‡Œæ·»åŠ è®¢é˜…åï¼Œè”åŠ¨è¿™é‡Œå°±å¯ä»¥ç›´æ¥æŸ¥çœ‹è®¢é˜…ï¼Œä¸è¿‡è¿™ä¸ªæ˜¯ç½‘é¡µç«¯ï¼Œç§»åŠ¨ç«¯çš„è¯è¿˜éœ€è¦ä¸€ä¸ªrssé˜…è¯»å™¨ï¼Œæ”¯æŒfreshrssæœåŠ¡çš„å°±è¡Œï¼Œè¿™é‡Œç”¨çš„æ˜¯feedme åªæ”¯æŒå®‰å“ç«¯ï¼Œiosç«¯å¯ä»¥ç”¨readerã€‚\næ·»åŠ è®¢é˜… æ­£å¸¸æƒ…å†µä¸‹è®¢é˜…åœ°å€å¯ä»¥æ­£å¸¸è®¿é—®æ‰‹åŠ¨æ·»åŠ è®¢é˜…æ—¶èƒ½æ­£å¸¸æ·»åŠ ï¼Œä¸€äº›éœ€è¦èµ°ä»£ç†çš„è®¢é˜…éœ€è¦æ·»åŠ #force_feedå‚æ•°å¼ºåˆ¶æ·»åŠ ï¼Œç„¶åå†åœ¨ä¸‹é¢ä»£ç†é…ç½®é‡Œè®¾ç½®ä»£ç†\nå¼ºåˆ¶æ·»åŠ è®¢é˜… ä»£ç†é…ç½® FeedMe å®‰è£…ä½¿ç”¨ ç›´æ¥githubä¸‹è½½ç›¸åº”apkå®‰è£…æ‰“å¼€é€‰FreshRssï¼Œä¼šè®©è¾“å…¥freshrss apiåœ°å€å’Œè´¦å·å¯†ç ï¼Œapiåœ°å€éœ€è¦åœ¨freshrss å¼€å¯å…è®¸apiè®¿é—®ï¼Œapiæ˜¯æœåŠ¡åœ°å€ ip+ç«¯å£/api/greader.phpï¼Œæ¯”å¦‚æˆ‘è¿™ä¸ªæ˜¯http://192.168.1.4:8889/api/greader.php\nè´¦æˆ·é‡Œè®¾ç½®apiå¯†ç  ç™»å½•åæ•ˆæœ ","permalink":"https://www.mfun.ink/2024/01/18/rsshub-freshrss-feedme/","summary":"\u003cp\u003eç”Ÿå‘½ä¸æ¯ï¼ŒæŠ˜è…¾ä¸æ­¢ï¼Œç»§ç»­å‹æ¦¨NASçš„CPUï¼ŒRSSHub+FreshRSS-FeedMe æ‰“é€ ä¸ªäººRSSä¿¡æ¯èšåˆæœåŠ¡\u003c/p\u003e\n\u003ch3 id=\"rss\"\u003eRSS\u003c/h3\u003e\n\u003cp\u003erssæ˜¯ä¸€ç§å†…å®¹èšåˆå·¥å…·ï¼Œæœ‰rsså’Œatomä¸¤ç§åè®®ï¼Œxmlä¸ºåŸºç¡€åè®®ã€‚é€šå¸¸åœ¨ä¸€äº›blogç½‘ç«™æ¯”è¾ƒå¸¸è§ã€‚é€šè¿‡è®¢é˜…è¿™ç§æ–¹å¼å¯ä»¥åªæ¥æ”¶è‡ªå·±é€‰æ‹©è‡ªå·±æƒ³è¦å…³æ³¨çš„ä¿¡æ¯ã€‚\u003c/p\u003e\n\u003ch3 id=\"rsshub\"\u003eRSSHub\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://docs.rsshub.app/zh/\"\u003eRSSHub\u003c/a\u003eæ˜¯ä¸€æ¬¾å¼€æºã€ç®€å•æ˜“ç”¨çš„rssç”Ÿæˆå™¨ï¼Œä¸»è¦ç”¨äºå°†ä¸æ”¯æŒrssçš„ç½‘ç«™å˜å¾—å¯ä»¥ä½¿ç”¨rssè¿™ç§æ–¹å¼è®¢é˜…ã€‚ç›®å‰å·²ç»æ”¯æŒæ•°ç™¾ä¸ªä¸»æµç½‘ç«™ã€‚\u003c/p\u003e","title":"RSSHub+FreshRSS-FeedMe æ‰“é€ ä¸ªäººRSSä¿¡æ¯èšåˆæœåŠ¡"},{"content":"å¹´çºªè¶Šæ¥è¶Šå¤§ï¼Œè„‘åŠ›å˜å¾—å¤§ä¸å¦‚ä¹‹å‰ï¼Œè¿™ä¸¤å¹´è¶Šå‘æ„Ÿè§‰åˆ°è®°å¿†åŠ›çš„è¡°é€€ï¼Œå¥½å¤šäº‹æƒ…æƒ³çš„æ—¶å€™å°±æ˜¯æƒ³ä¸èµ·æ¥ï¼Œæ‰¾ä¸€ä¸ªè¶æ‰‹çš„ç¬”è®°ç±»åº”ç”¨è¶Šæ¥è¶Šè¿«åœ¨çœ‰ç«ã€‚æ­£å¥½ä¹°äº†NASç‰©å°½å…¶ç”¨å°±æŠŠå¸¸è§çš„å‡ æ¬¾å¼€æºæ”¯æŒdockeréƒ¨ç½²çš„ç¬”è®°ç±»åº”ç”¨Joplinã€æ€æºã€Triliumã€Blossoméƒ½éƒ¨ç½²ä½“éªŒäº†ä¸‹ï¼Œæœ€ç»ˆé€‰æ‹©äº†Joplin+Triliumä¸‹é¢è®°å½•ä¸‹ä¸ªäººä½¿ç”¨ä½“éªŒã€‚\næ€æºç¬”è®° å›½äººå¼€å‘çš„ä¸€æ¬¾éå¸¸æ£’çš„å¼€æºç¬”è®°ï¼Œç¤¾åŒºæ´»è·ƒï¼Œæ’ä»¶ä¼—å¤šï¼Œé¢œå€¼é«˜è€Œä¸”å›½äººå¼€å‘ä½¿ç”¨èµ·æ¥æ²¡æœ‰è¯­è¨€éšœç¢ï¼Œä¸€äº›æ’ä»¶æ¯”è¾ƒè´´åˆå›½å†…å¸‚åœºï¼Œä¹Ÿæœ‰æŒºå¤šæ•´æ´»æœ‰è¶£çš„æ’ä»¶ï¼Œå…¶ä»–åŠŸèƒ½ç‰¹ç‚¹å¯ä»¥çœ‹å®˜ç½‘ä»‹ç»ã€‚\nä¸ºä»€ä¹ˆæ²¡æœ‰ç»§ç»­ä½¿ç”¨äº†ï¼Ÿ\nåŒæ­¥é—®é¢˜ éƒ¨ç½²ä¹‹åä½¿ç”¨çš„NASè‡ªèº«çš„webdavåŒæ­¥ï¼Œä¸çŸ¥æ€ä¹ˆçš„å®‰è£…å‡ ä¸ªæŒ‚ä»¶ååŒæ­¥å·¨æ…¢ï¼Œå±€åŸŸç½‘ä¸‹ä¹Ÿå·¨æ…¢ï¼Œçœ‹äº†æ€æºæ˜¯æŠŠæ‰€æœ‰æ•°æ®åˆ†æˆäº†å°å—è¿›è¡ŒåŒæ­¥çš„æ‰€ä»¥æ–‡ä»¶æ•°æ®è¾ƒå¤šã€ä½“ç§¯å°ï¼ŒåŒæ­¥æ—¶ä¸èƒ½ç”¨æ»¡å¸¦å®½ï¼Œå°±è·Ÿå¹³æ—¶å¤åˆ¶æ–‡ä»¶å¤¹æ—¶å¦‚æœå°æ–‡ä»¶å¤ªå¤šå¤åˆ¶èµ·æ¥ä¼šå˜æ…¢ä¸€æ ·ã€‚çœ‹å®˜æ–¹ä¹Ÿæ¨èä½¿ç”¨S3åŒæ­¥ï¼Œä¸è¿‡NASä¸æ”¯æŒS3å°±æ²¡ç»§ç»­æŠ˜è…¾äº†ã€‚ è´¦å·é—®é¢˜ éƒ¨ç½²åè¦ä½¿ç”¨åŒæ­¥åŠŸèƒ½å¿…é¡»è¦æ³¨å†Œç™»å½•ä»–ä»¬è®ºå›çš„è´¦å·ï¼Œå¯¹å¼ºåˆ¶è¦æ±‚æ³¨å†Œè´¦å·è¿™ç§äº‹æ¯”è¾ƒæŠµè§¦ æ”¶è´¹é—®é¢˜ åŒæ­¥åŠŸèƒ½éå…è´¹ï¼Œåé¢éœ€è¦ä»˜è´¹æ‰èƒ½ä½¿ç”¨ Joplin Joplinéƒ¨ç½²ç›®å‰ç”¨Joplinæ›´å¤šçš„æ˜¯æ¥æ”¶é›†ç½‘é¡µå†…å®¹ï¼Œå®ƒçš„chromeæ’ä»¶é…åˆæœ¬åœ°å®¢æˆ·ç«¯å®åœ¨æ˜¯å¤ªå¥½ç”¨ï¼Œç›´æ¥ä¸€é”®æŠŠç½‘é¡µå†…å®¹åŒæ­¥åˆ°æœ¬åœ°ç¬”è®°ä¸­ã€‚Joplinæœ¬èº«åŠŸèƒ½åŠ ä¸Šä¸€äº›æ’ä»¶è¡¥å……åŠŸèƒ½ä¸Šè¿˜æ˜¯æ»¡è¶³ä½¿ç”¨çš„ï¼Œå°±æ˜¯ç•Œé¢æœ‰äº›ç®€é™‹ã€‚\nTrilium è¿™ä¸ªæœ‰æ±‰åŒ–ç‰ˆä¹Ÿæœ‰å®Œæ•´çš„ä½¿ç”¨wikiæ–‡æ¡£ï¼Œæ”¯æŒåŒé“¾å¯¼å‡ºmarkdownç­‰ã€‚å¯ä»¥é€šè¿‡jsã€htmlã€csså®ç°å„ç§æ’ä»¶æ¯”å¦‚å­—æ•°ç»Ÿè®¡ã€ç¬”è®°ç»Ÿè®¡ç­‰ç­‰éå¸¸å®¹æ˜“æ‰©å±•ã€‚å¦å¤–ä¸€ä¸ªæ¯”è¾ƒå¥½ç”¨çš„ç‚¹æ˜¯å¯¹ç”»å¸ƒexcalidrawçš„æ”¯æŒå¾ˆå¥½ã€‚å…¶ä»–å„ç§åŠŸèƒ½wikiéƒ½å¾ˆè¯¦ç»†ï¼ŒåŸºæœ¬ä¸Šçœ‹ä¸€éwikiå•¥éƒ½æ¸…æ¥šäº†ã€‚æ¡Œé¢å®¢æˆ·ç«¯å¯ä»¥å’ŒæœåŠ¡å™¨åŒæ­¥ï¼Œä¹Ÿæ”¯æŒç›´æ¥åœ¨webç«¯è®¿é—®ã€‚\nblossom ç›®å‰æ¥è§¦åˆ°ç•Œé¢æœ€æ¼‚äº®çš„ä¸€æ¬¾ç¬”è®°ï¼Œgithub readme æœ‰è¯¦ç»†ä»‹ç»å¯ä»¥ç›´æ¥åœ¨çº¿è¯•ç”¨ï¼Œä¸è¿‡äº‘ç¬”è®°å¯¹æœåŠ¡å™¨ç«¯å¯ç”¨æ€§è¦æ±‚æ¯”è¾ƒé«˜ã€‚\nå…¶ä»–ä¸€äº›æ¯”è¾ƒå—æµè¡Œçš„ç¬”è®°Notionã€Obsidianç­‰æ²¡æ³•ç§æœ‰éƒ¨ç½²å°±æ²¡ä¸€ä¸€ä½“éªŒï¼Œå°±ç›®å‰ä½¿ç”¨æ¥Triliumå·²ç»å®Œç¾æ»¡è¶³éœ€æ±‚äº†ï¼Œå°±ä¸æƒ³åœ¨æŠ˜è…¾å…¶ä»–ç¬”è®°äº†ï¼Œæ¯•ç«Ÿéƒ¨ç½²ç¬”è®°åº”ç”¨çš„åˆè¡·æ˜¯ä¸ºäº†è®°ç¬”è®°ã€‚ä¹‹å‰ä¹Ÿä¸€ç›´æƒ³æ‰¾æ¬¾all in oneçš„ç¬”è®°æœ€ç»ˆæŠ˜è…¾ä¸‹æ¥è¿˜æ˜¯å„ç§å·¥å…·ç»„åˆä¸‹æ¥æ›´èˆ’æœäº›ã€‚ç›®å‰çš„è¯ç½‘é¡µæ”¶é›†Joplinï¼Œç¬”è®°æ•´ç†Triliumï¼Œä¸€äº›é¡¹ç›®ç±»wikiä½¿ç”¨wiki.jså¯¹draw.ioçš„æ”¯æŒå¤ªæ£’äº†ã€‚\n","permalink":"https://www.mfun.ink/2024/01/06/note-software/","summary":"\u003cp\u003eå¹´çºªè¶Šæ¥è¶Šå¤§ï¼Œè„‘åŠ›å˜å¾—å¤§ä¸å¦‚ä¹‹å‰ï¼Œè¿™ä¸¤å¹´è¶Šå‘æ„Ÿè§‰åˆ°è®°å¿†åŠ›çš„è¡°é€€ï¼Œå¥½å¤šäº‹æƒ…æƒ³çš„æ—¶å€™å°±æ˜¯æƒ³ä¸èµ·æ¥ï¼Œæ‰¾ä¸€ä¸ªè¶æ‰‹çš„ç¬”è®°ç±»åº”ç”¨è¶Šæ¥è¶Šè¿«åœ¨çœ‰ç«ã€‚æ­£å¥½ä¹°äº†NASç‰©å°½å…¶ç”¨å°±æŠŠå¸¸è§çš„å‡ æ¬¾å¼€æºæ”¯æŒdockeréƒ¨ç½²çš„ç¬”è®°ç±»åº”ç”¨\u003ca href=\"https://joplinapp.org/\"\u003eJoplin\u003c/a\u003eã€\u003ca href=\"https://b3log.org/siyuan/?lang=cn\"\u003eæ€æº\u003c/a\u003eã€\u003ca href=\"https://github.com/zadam/trilium\"\u003eTrilium\u003c/a\u003eã€\u003ca href=\"https://github.com/blossom-editor/blossom\"\u003eBlossom\u003c/a\u003eéƒ½éƒ¨ç½²ä½“éªŒäº†ä¸‹ï¼Œæœ€ç»ˆé€‰æ‹©äº†Joplin+Triliumä¸‹é¢è®°å½•ä¸‹ä¸ªäººä½¿ç”¨ä½“éªŒã€‚\u003c/p\u003e","title":"ä¸ªäººç¬”è®°ç±»åº”ç”¨ä½¿ç”¨ä½“éªŒ"},{"content":"wiki.js æ˜¯ä¸€æ¬¾å¼€æºã€é¢œå€¼æé«˜ï¼ŒåŠŸèƒ½å¼ºå¤§çš„wikiè½¯ä»¶ï¼ŒåŸºäºNodeæ„å»ºï¼Œæœ¬èº«æ”¯æŒåµŒå…¥draw.ioç”»æµç¨‹å›¾ï¼Œè¿™ä¸ªæ˜¯çœŸçš„æ–¹ä¾¿ï¼Œå°±æœæ–­éƒ¨ç½²æ¥ä½“éªŒä¸‹ã€‚å®˜ç½‘ å’Œ githubã€‚\néƒ¨ç½² å®˜æ–¹æœ‰è¯¦ç»†çš„ä¸ªå¹³å°éƒ¨ç½²æ–‡æ¡£ï¼Œè¿™é‡Œè®°å½•ä¸‹åŸºäºæç©ºé—´dockerçš„éƒ¨ç½²ï¼Œè¿™é‡Œç›´æ¥éƒ¨ç½²çš„æœ€æ–°ç‰ˆæœ¬v2.5.300.\né•œåƒæ‹‰å– ç‚¹å‡»éƒ¨ç½² è·¯å¾„æ˜ å°„ï¼š\nç«¯å£æ˜ å°„ï¼š\nç¯å¢ƒå˜é‡ï¼š\néƒ¨ç½²å­˜ç²¹æ˜¯ä¸ªäººä½¿ç”¨ï¼Œå°±ç›´æ¥ç”¨çš„sqliteï¼Œç›®å‰å®˜æ–¹æ”¯æŒè¿™å‡ ç§æ•°æ®åº“ï¼šmysql, postgres, mariadb, mssql,sqlite\nåˆå§‹åŒ–é…ç½® è®¾ç½®å¯†ç  å¯åŠ¨åé€šè¿‡ip+ç«¯å£è®¿é—®ï¼Œå¡«å†™é‚®ç®±å’Œç™»å½•å¯†ç ï¼Œsite URLå¯ä»¥å…ˆä¸ç”¨ç®¡ï¼Œä¸‹é¢å¼€å…³æ˜¯å¦å…è®¸å®˜æ–¹æ”¶é›†ä¿¡æ¯æ¥ä¼˜åŒ–äº§å“ã€‚\nè®¾ç½®è¯­è¨€ ç™»å½•åé€‰æ‹©è¿›å…¥ç®¡ç†å°ï¼š\nè¿›å…¥åå°åï¼Œåœ¨Localé‡Œä¸‹è½½æœ¬åœ°è¯­è¨€å¹¶åˆ‡æ¢åˆ°æœ¬åœ°è¯­è¨€\næƒé™ç®¡ç† è®¿å®¢é»˜è®¤æœ‰æŸ¥çœ‹æƒé™ï¼Œå¯ä»¥åœ¨ç”¨æˆ·ç»„é‡ŒæŠŠè®¿å®¢æƒé™å¹²æ‰ï¼š\nå­˜å‚¨ è¿™é‡Œç›¸å½“äºä¸€ä¸ªå¤‡ä»½å­˜å‚¨ï¼Œå¯é€‰æ‹©ç§ç±»å¾ˆå¤šï¼Œæˆ‘è¿™é‡Œå°±å¯ç”¨äº†ä¸€ä¸ªgitå­˜å‚¨ï¼Œä¸‹é¢å¯ä»¥é…ç½®åŒæ­¥æ–¹å‘ã€åŒæ­¥å‘¨æœŸç­‰\nè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¡«çš„gitä»“åº“å’Œåˆ†æ”¯ä¸€å®šè¦å…ˆåˆ›å»ºå¥½ï¼Œå¦‚è¿‡é…ç½®æ²¡é—®é¢˜è¿˜æ˜¯åŒæ­¥å¤±è´¥ï¼Œæœ‰å¯èƒ½æ˜¯ä¸‹é¢è¿™ä¸ªé—®é¢˜ï¼Œç™»å½•åˆ°å®¹å™¨æ‰¾åˆ°gitä»“åº“ç›®å½•æ‰§è¡Œä¸‹git config --global --add safe.directory /wiki/data/repo\ncfe4c4613525:/wiki/data/repo# git remote -v fatal: detected dubious ownership in repository at \u0026#39;/wiki/data/repo\u0026#39; To add an exception for this directory, call: git config --global --add safe.directory /wiki/data/repo cfe4c4613525:/wiki/data/repo# git config --global --add safe.directory /wiki/data/repo å…¶ä»–ä¸€äº›åŠŸèƒ½å¯ä»¥æ ¹æ®å®˜æ–¹æ–‡æ¡£è‡ªè¡Œæ¢ç´¢ï¼Œå¯¹äºä¸ªäººä½¿ç”¨ç›®å‰çš„é…ç½®å·²ç»æ»¡è¶³äº†ã€‚\nåˆ›å»ºé¡µé¢ é¦–æ¬¡è¿›å…¥éœ€è¦åˆ›å»ºé¦–é¡µï¼Œæ ¹æ®ä¹ æƒ¯é€‰æ‹©ç¼–è¾‘å™¨å³å¯ï¼Œæ”¯æŒmarkdownï¼Œåˆ›å»ºç±»ä¼¼ç›®å½•çš„å±‚çº§å…³ç³»è¯å¯ä»¥åœ¨ä¸‹é¢è·¯å¾„é‡Œç›´æ¥å¡«å†™\nç¼–è¾‘æ”¯æŒåµŒå…¥draw.ioç”»å›¾ï¼Œå¹¶ä¸”ç”»å®Œåæ”¯æŒåœ¨åŸæ¥åŸºç¡€ä¸Šç¼–è¾‘ï¼Œè¿™ä¸ªåŠŸèƒ½çœŸçš„æ˜¯å¤ªæ£’äº†ï¼Œå¾ˆå¤šæ”¯æŒæ’å…¥çš„ç”»å›¾çš„å·¥å…·éƒ½æ˜¯ç”»å®Œåæ’å…¥ä¸€å¼ å›¾ç‰‡å°±ä¸å¯ç¼–è¾‘äº†ï¼Œè¿™é‡Œæ˜¯ç›´æ¥æ¸²æŸ“çš„æ•°æ®ï¼Œä¸æ˜¯å›¾ç‰‡ï¼Œæ‰€ä»¥å¯ä»¥ç»§ç»­ç¼–è¾‘ã€‚\nwiki æœ¬èº«è¿˜æœ‰å¾ˆå¤šåå‘å›¢é˜Ÿæ–¹é¢çš„åŠŸèƒ½ï¼Œé€‚åˆå°å‹å›¢é˜Ÿä½œä¸ºçŸ¥è¯†ç®¡ç†çš„å·¥å…·ï¼Œæœ¬èº«é¢œå€¼ä¹Ÿé«˜ã€‚æ§½ç‚¹çš„è¯å°±ç›®å‰ä½“éªŒæ¥çœ‹ï¼Œæ¸²æŸ“é€Ÿåº¦ä¸æ˜¯å¾ˆå¿«æ¯æ¬¡ç¼–è¾‘å®Œå‘å¸ƒéœ€è¦ç­‰å¾…ï¼›ä¾§è¾¹æ ä¸èƒ½æ”¶èµ·ï¼Œä¸è¿‡è¯´æ˜¯3.xç‰ˆæœ¬ä¼šæ”¯æŒã€‚\n","permalink":"https://www.mfun.ink/2023/12/31/wiki-js-deploy/","summary":"\u003cp\u003ewiki.js æ˜¯ä¸€æ¬¾å¼€æºã€é¢œå€¼æé«˜ï¼ŒåŠŸèƒ½å¼ºå¤§çš„wikiè½¯ä»¶ï¼ŒåŸºäºNodeæ„å»ºï¼Œæœ¬èº«æ”¯æŒåµŒå…¥draw.ioç”»æµç¨‹å›¾ï¼Œè¿™ä¸ªæ˜¯çœŸçš„æ–¹ä¾¿ï¼Œå°±æœæ–­éƒ¨ç½²æ¥ä½“éªŒä¸‹ã€‚\u003ca href=\"https://js.wiki/\"\u003eå®˜ç½‘\u003c/a\u003e å’Œ \u003ca href=\"https://github.com/Requarks/wiki\"\u003egithub\u003c/a\u003eã€‚\u003c/p\u003e","title":"NASéƒ¨ç½²wiki.js"},{"content":"é—®é¢˜æå‡º æå‡ºè¿™ä¸ªé—®é¢˜ä¸»è¦æ˜¯å› ä¸ºæ—¥å¸¸å¼€å‘ä¸­æœ‰è¿™æ ·çš„åœºæ™¯ï¼Œæ¯”å¦‚æœåŠ¡é…ç½®çƒ­åŠ è½½æˆ–è€…ä¸€äº›å…¨å±€ç¼“å­˜çš„å¼‚æ­¥æ›´æ–°ï¼Œé€šå¸¸ä¼šå•ç‹¬å¯ä¸€ä¸ªåç¨‹å»è·å–æœ€æ–°æ•°æ®å†é€šè¿‡èµ‹å€¼æ›´æ–°åŸæ•°æ®ã€‚å› ä¸ºæ›´æ–°é€»è¾‘æ˜¯å•ç‹¬çš„åç¨‹ï¼Œå˜é‡çš„å†™å’Œè¯»å°±å­˜åœ¨å¹¶å‘è®¿é—®çš„æƒ…å†µï¼Œäºæ˜¯å°±æœ‰äº†è¿™ä¸ªé—®é¢˜ã€‚ä¸€ä¸ªç®€å•å¼‚æ­¥åˆ·æ–°ä¾‹å­ å¦‚ä¸‹ï¼š\ntype conf struct { } var c *conf func loadConf() { c = \u0026amp;conf{} go func() { ticker := time.NewTicker(time.Second) for range ticker.C{ newC := \u0026amp;conf{} c = newC } }() } è¿™é‡Œçš„å…³é”®ç‚¹åœ¨äºc = newC æ˜¯å¦æ˜¯åŸå­æ€§çš„ï¼Œéœ€ä¸éœ€è¦åŠ é”ã€‚go æŒ‡é’ˆå’Œint64ä¸€æ ·éƒ½æ˜¯8ä½åœ¨32ä½æœºå™¨ä¸Šä¸€æ¡æŒ‡ä»¤æœ€å¤šåªèƒ½æ“ä½œ4å­—èŠ‚çš„æ•°æ®æ‰€ä»¥ä¸€æ¬¡èµ‹å€¼æ“ä½œè‡³å°‘å¾—ä¸¤æ¡æŒ‡ä»¤ï¼Œæ‰€ä»¥åœ¨32ä½æœºå™¨ä¸Šè‚¯å®šå­˜åœ¨å¹¶å‘é—®é¢˜ã€‚é‚£ä¹ˆåœ¨64ä½æœºå™¨ä¸Š8ä½çš„æ•°æ®æ˜¯å¯ä»¥é€šè¿‡ä¸€æ¡æŒ‡ä»¤æ“ä½œçš„é‚£åœ¨64ä½æœºå™¨ä¸Šå­˜åœ¨å¹¶å‘é—®é¢˜å—ï¼Ÿ\nç«æ€æ£€æµ‹ å…³äºæ•°æ®å¹¶å‘é—®é¢˜ï¼Œgoæœ¬èº«æä¾›äº†ç«æ€æ£€æµ‹æ¥å¸®åŠ©å‘ç°ä»£ç ä¸­çš„å­˜åœ¨ç«æ€æƒ…å†µï¼Œå¦‚ä¸‹ä»£ç ï¼Œé€šè¿‡ go run -race main.go ä¼šæ˜¾ç¤ºä»£ç ä¸­å­˜åœ¨çš„ç«Ÿæ€æƒ…å†µ\nfunc main() { var data map[string]string temp := make(map[string]string) data = temp go func() { v := data[\u0026#34;d\u0026#34;] fmt.Println(v) }() go func() { temp := make(map[string]string) temp[\u0026#34;a\u0026#34;] = \u0026#34;a\u0026#34; data = temp }() time.Sleep(time.Second) } // go run -race main.go è¾“å‡ºå¦‚ä¸‹ï¼š ================== WARNING: DATA RACE Write at 0x00c000012028 by goroutine 7: main.main.func2() /Users/vector/go/src/demo/conf/main.go:19 +0x93 Previous read at 0x00c000012028 by goroutine 6: main.main.func1() /Users/vector/go/src/demo/conf/main.go:13 +0x34 Goroutine 7 (running) created at: main.main() /Users/vector/go/src/demo/conf/main.go:16 +0x16e Goroutine 6 (running) created at: main.main() /Users/vector/go/src/demo/conf/main.go:12 +0x104 ================== Found 1 data race(s) exit status 66 é€šè¿‡-raceå‚æ•°å¯ä»¥çœ‹åˆ°goç»™å‡ºäº†å‘Šè­¦ï¼Œå¹¶å‘èµ‹å€¼å­˜åœ¨æ•°æ®ç«äº‰ã€‚æœ¬ç€å°å¿ƒä½¿å¾—ä¸‡å¹´èˆ¹çš„æ€åº¦æˆ‘ä»¬å¯ä»¥åŠ ä¸ªè¯»å†™é”ï¼Œè‡³äºè¿™æ¡èµ‹å€¼è¯­å¥æ˜¯ä¸æ˜¯åŸå­çš„æˆ‘ä»¬ç»§ç»­çœ‹ã€‚\næ±‡ç¼–ä»£ç  æƒ³çœ‹åˆ°èµ‹å€¼æ˜¯ä¸æ˜¯ä¸€æ¡æŒ‡ä»¤åªèƒ½çœ‹ç¼–è¯‘ä¹‹åçš„æ±‡ç¼–ä»£ç äº†ï¼Œé€šè¿‡go tool compile -S -N main.go \u0026gt; main.sç”Ÿæˆä¸­é—´æ±‡ç¼–ä»£ç (64ä½æœºå™¨)ï¼š\n;;... 0x008c 00140 (main.go:19)\tPCDATA\tZR, $-1 0x008c 00140 (main.go:19)\tMOVD\tmain.\u0026amp;data-8(SP), R2 ;;å°†æ ˆæŒ‡é’ˆï¼ˆSPï¼‰å‡ 8 åçš„åœ°å€å¤„çš„æ•°æ®ï¼ˆmain.\u0026amp;dataï¼‰åŠ è½½åˆ°å¯„å­˜å™¨ R2 ä¸­ã€‚ 0x0090 00144 (main.go:19)\tMOVD\tmain.temp-24(SP), R3 ;;å°†æ ˆæŒ‡é’ˆï¼ˆSPï¼‰å‡ 24 åçš„åœ°å€å¤„çš„æ•°æ®ï¼ˆmain.tempï¼‰åŠ è½½åˆ°å¯„å­˜å™¨ R3 ä¸­ã€‚ 0x0094 00148 (main.go:19)\tPCDATA\tZR, $-2 0x0094 00148 (main.go:19)\tMOVWU\truntime.writeBarrier(SB), R0 0x00a0 00160 (main.go:19)\tCBZW\tR0, 168 0x00a4 00164 (main.go:19)\tJMP\t176 0x00a8 00168 (main.go:19)\tMOVD\tR3, (R2) ;;å°†å¯„å­˜å™¨ R3 ä¸­çš„æ•°æ®å­˜å‚¨åˆ°å¯„å­˜å™¨ R2 æŒ‡å‘çš„åœ°å€ã€‚ 0x00ac 00172 (main.go:19)\tJMP\t184 0x00b0 00176 (main.go:19)\tCALL\truntime.gcWriteBarrier(SB) 0x00b4 00180 (main.go:19)\tJMP\t184 ;;... ä¸€è¡Œèµ‹å€¼è¯­å¥ç”Ÿæˆäº†è¿™ä¹ˆå¤šæ¡æ±‡ç¼–æŒ‡ä»¤ï¼ŒçœŸæ­£å‘ç”Ÿå€¼ä¿®æ”¹æ˜¯è¿™å¥MOVD R3, (R2)å¯ä»¥çœ‹å‡ºæŒ‡é’ˆçš„èµ‹å€¼ç¡®å®æ˜¯åŸå­çš„ã€‚\nç½‘ä¸Šçš„ä¸€äº›è®¨è®º å…³äºè¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿåœ¨ç½‘ä¸Šæœäº†ä¸‹ï¼Œæœ‰è¯´æ˜¯åŸå­çš„ä¹Ÿæœ‰è¯´ä¸æ˜¯åŸå­çš„ã€‚ç»“åˆgoå®˜æ–¹æ–‡æ¡£åªæœ‰ä½¿ç”¨atomicåŒ…æ‰ä¿è¯åŸå­æ€§ï¼Œå¹¶æ²¡æœ‰æ˜¾ç¤ºæŒ‡å‡ºæŒ‡é’ˆèµ‹å€¼æ˜¯åŸå­çš„ï¼Œæ‰€ä»¥æ— æ³•ä¿è¯æŒ‡é’ˆèµ‹å€¼æ˜¯åŸå­çš„ï¼Œè™½ç„¶ä¸Šé¢æ±‡ç¼–å€¼ä¿®æ”¹æ˜¯åªæœ‰ä¸€æ¡æŒ‡ä»¤ï¼Œä½†è°ä¹Ÿæ— æ³•ä¿è¯éšç€åç»­çš„å‡çº§goè¯­è¨€æœ¬èº«ä¼šä¸ä¼šæœ‰ä»€ä¹ˆä¿®æ”¹ã€‚æ‰€ä»¥æ™®éå»ºè®®æ˜¯ä½¿ç”¨è¯»å†™é”æˆ–è€…ä½¿ç”¨atomicï¼Œåˆšå¥½go 1.19æ–°å‡ºäº†atomic.Pointer ä¸“é—¨ç”¨æ¥å¤„ç†æŒ‡é’ˆçš„åŸå­æ“ä½œï¼Œç”¨æ³•å¦‚ä¸‹ï¼š\ntype conf struct { v1 string v2 int } var atomicC = atomic.Pointer[conf]{} func main() { tempc := \u0026amp;conf{ v1: \u0026#34;\u0026#34;, v2: 0, } atomicC.Store(tempc) go func() { ticker := time.NewTicker(time.Second) for range ticker.C { newC := \u0026amp;conf{} atomicC.Store(newC) } }() var c = \u0026amp;conf{} c = atomicC.Load() fmt.Println(c.v2, c.v1) } æ€»ç»“ go å®˜æ–¹æ²¡æœ‰æ˜¾ç¤ºä¿è¯æŒ‡é’ˆèµ‹å€¼æ˜¯åŸå­çš„ï¼Œå˜é‡å»ºè®®ä½¿ç”¨atomicä¿è¯åŸå­æ€§ ä¸åŒæ¶æ„çš„cpuæ¯”å¦‚x86ã€x64å®ç°ä¸ä¸€æ ·ï¼Œå¦‚è¿‡æƒ³ä¿è¯å…¨å¹³å°ä¸€è‡´ä¸€å®šè¦æ˜¾ç¤ºåšåŸå­æ€§å¤„ç†ï¼ŒåŠ é”æˆ–ä½¿ç”¨atomic åœ¨æ€§èƒ½æŸå¤±å¯æ¥å—çš„æƒ…å†µä¸‹ä½¿ç”¨atomicæˆ–è€…åŠ é”ä¿è¯åŸå­æ€§ å‚è€ƒ is-assigning-a-pointer-atomic-in-go golangä¸­å¤šgoroutineæ“ä½œmapæ—¶ç›´æ¥èµ‹å€¼ä¸ç”¨åŠ é” Is assigning a pointer atomic in go How do I atomically move a 64bit value in x86 ASM? ","permalink":"https://www.mfun.ink/2023/12/06/is-assigning-pointer-atomic-go/","summary":"\u003ch3 id=\"é—®é¢˜æå‡º\"\u003eé—®é¢˜æå‡º\u003c/h3\u003e\n\u003cp\u003eæå‡ºè¿™ä¸ªé—®é¢˜ä¸»è¦æ˜¯å› ä¸ºæ—¥å¸¸å¼€å‘ä¸­æœ‰è¿™æ ·çš„åœºæ™¯ï¼Œæ¯”å¦‚æœåŠ¡é…ç½®çƒ­åŠ è½½æˆ–è€…ä¸€äº›å…¨å±€ç¼“å­˜çš„å¼‚æ­¥æ›´æ–°ï¼Œé€šå¸¸ä¼šå•ç‹¬å¯ä¸€ä¸ªåç¨‹å»è·å–æœ€æ–°æ•°æ®å†é€šè¿‡èµ‹å€¼æ›´æ–°åŸæ•°æ®ã€‚å› ä¸ºæ›´æ–°é€»è¾‘æ˜¯å•ç‹¬çš„åç¨‹ï¼Œå˜é‡çš„å†™å’Œè¯»å°±å­˜åœ¨å¹¶å‘è®¿é—®çš„æƒ…å†µï¼Œäºæ˜¯å°±æœ‰äº†è¿™ä¸ªé—®é¢˜ã€‚ä¸€ä¸ªç®€å•å¼‚æ­¥åˆ·æ–°ä¾‹å­ å¦‚ä¸‹ï¼š\u003c/p\u003e","title":"go æŒ‡é’ˆèµ‹å€¼æ˜¯åŸå­æ€§çš„å—"},{"content":"å‘½åæ˜¯ç¼–ç è¿‡ç¨‹ä¸­è®©ç¨‹åºå‘˜ååˆ†çº ç»“çš„ä¸€ä¸ªç‚¹ï¼Œå°±åƒæ¯å¤©é¥­ç‚¹çº ç»“é€‰æ‹©åƒä»€ä¹ˆé¥­ä¸€æ ·ï¼Œå¸¸è§ä¸”ä»¤äººæŠ“å¤´ï¼Œä¸ºæ­¤ä¸“é—¨æœ‰äººå¼€å‘äº†å„ç§å‘½åç¥å™¨ã€‚å‘½åä¹Ÿæ˜¯ååˆ†èƒ½ä½“ç°ä¸€ä¸ªç¨‹åºå‘˜ç¼–ç æ°´å¹³çš„ä¸€é¡¹ï¼Œå¥½çš„å‘½åä¸€å®šç¨‹åº¦èƒ½ä»£æ›¿ä»£ç æ³¨é‡Šï¼Œè®©ä»£ç æ›´åŠ æ¸…æ™°æ˜“é˜…è¯»ã€‚å¥½çš„å‘½åå–å†³äºä½ çš„è¯æ±‡é‡ã€å¯¹ä¸šåŠ¡é€»è¾‘çš„ç†è§£ä»¥åŠå‘½åè¿‡ç¨‹ä¸­çš„ä¸€äº›é€šç”¨è§„èŒƒã€‚éµå¾ªä¸€å®šçš„å‘½åè§„èŒƒï¼Œå¯ä»¥ä½¿å¾—ä»£ç æ›´åŠ ä¼˜é›…ï¼Œå†™èµ·ä»£ç æ¥æ›´åŠ å¦‚é±¼å¾—æ°´ã€‚Goè¯­è¨€ä¸­ä¸»è¦æ¶‰åŠåˆ°åŒ…å‘½åã€æ–‡ä»¶å‘½åã€ç»“æ„ä½“å‘½åã€æ¥å£å‘½åã€å˜é‡å‘½åä¸‹é¢ä¸€ä¸€ä»‹ç»è¿™äº›ç›¸å…³éƒ¨åˆ†çš„å‘½åè§„èŒƒã€‚\nåŒ…å‘½å å‘½åç®€æ´ä¸”èƒ½æ¦‚æ‹¬åŒ…åŠŸèƒ½ï¼Œå‚è€ƒgoæ ‡å‡†åŒ…éƒ½æ˜¯äº›ç®€çŸ­ä¸”è¾¨è¯†åº¦æé«˜çš„å‘½åã€‚ ä¿æŒåŒ…åå’Œæ–‡ä»¶ç›®å½•åç§°ä¸€è‡´ å…¨å°å†™ï¼Œä¸è¦åŒ…å«ç‰¹æ®Šåˆ†éš”ç¬¦å¦‚ä¸‹åˆ’çº¿ ä¸ç”¨å¤æ•°ã€‚ä¾‹å¦‚net/urlï¼Œè€Œä¸æ˜¯net/urlsã€‚ é¡¹ç›®åå¯ä»¥ä½¿ç”¨ä¸­æ¨ªçº¿åˆ†éš”å¤šä¸ªå•è¯ é™¤äº†å¹¿ä¸ºäººçŸ¥çš„å•è¯ç¼©å†™ï¼Œå°½é‡ä¸è¦ä½¿ç”¨ç¼©å†™ ä¸è¦ç”¨å«ä¹‰å®½æ³›çš„å•è¯å‘½åï¼Œæ¯”å¦‚â€œcommonâ€ï¼Œâ€œutilâ€ï¼Œâ€œlibâ€ç­‰ï¼Œä¸€èˆ¬è¿™äº›å•è¯å‘½åéƒ½ä¼šå¾€é‡Œå¡å„ç§ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ï¼Œå¯¼è‡´ä¾èµ–å…³ç³»å¤æ‚ï¼Œä¸åˆ©äºé˜…è¯»ã€‚è¿™äº›åŒ…å‘½åä½œä¸ºåŒ…ä¸‹çš„ä¸€ä¸ªå­åŒ…åæ˜¯å¯ä»¥çš„æ¯”å¦‚net/utilæ•´ä¸ªåŒ…çš„è¢«å¼•ç”¨èŒƒå›´ä»…é™äºçˆ¶åŒ…å†…ã€‚ é¿å…å°†srcã€pkgæ”¾åˆ°å¯å¯¼å…¥åŒ…è·¯å¾„ä¸­ github.com/user/repo/src/httputil // DON\u0026#39;T DO IT, AVOID SRC!! github.com/user/repo/gosrc/httputil // DON\u0026#39;T DO IT, AVOID GOSRC!! å¯¼å…¥çš„åŒ…å¦‚æœåŒ…åå†²çªï¼Œå¯ä»¥é‡‡ç”¨é‡å‘½åçš„æ–¹å¼ import ( gourl \u0026#34;net/url\u0026#34; \u0026#34;myother.com/url\u0026#34; ) æ–‡ä»¶å‘½å ç®€çŸ­æœ‰æ„ä¹‰ æ‰€æœ‰å•è¯å°å†™ï¼Œå¤šä¸ªå•è¯ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš” ç»“æ„ä½“å‘½å é‡‡ç”¨é©¼å³°å‘½åï¼Œé¦–å­—æ¯æ ¹æ®è®¿é—®æ§åˆ¶å†³å®šæ˜¯å¦å¤§å°å†™ é¿å…ä½¿ç”¨æ„ä¹‰å®½æ³›çš„å•è¯å‘½å é¿å…ä½¿ç”¨åŒ…åä½œä¸ºå‰ç¼€ï¼Œå› ä¸ºå¼•ç”¨è¿‡ç¨‹ä¸­åŒ…åå·²ç»åœ¨ä»£ç å…³ç³»ä¸­äº†ï¼Œå¦‚æœä½¿ç”¨GoLand IDEçš„è¯ideä¹Ÿä¼šè‡ªåŠ¨æç¤º æ¥å£å‘½å åŸºæœ¬è§„åˆ™å’Œç»“æ„ä½“å‘½åä¿æŒä¸€è‡´ å•å‡½æ•°æ¥å£ä¸€èˆ¬å‡½æ•°ååŠ ä¸Šeråç¼€ä½œä¸ºæ¥å£åï¼Œå¦‚Readerã€ Writerã€ Formatterã€ CloseNotifierã€‚ å¤šä¸ªå‡½æ•°ç±»ä¼¼ç»“æ„ä½“å‘½å å˜é‡å‘½å é‡‡ç”¨é©¼å³°å‘½åï¼Œé¦–å­—æ¯æ ¹æ®è®¿é—®æ§åˆ¶å†³å®šæ˜¯å¦å¤§å°å†™ ä¸“æœ‰åè¯å…¨å¤§å†™æˆ–å…¨å°å†™ï¼Œæ¯”å¦‚UrlArråº”è¯¥å†™æˆURLArræˆ–è€…urlArrã€‚ åŒ…å†…ç§æœ‰å…¨å±€å˜é‡å°å†™å­—æ¯å¼€å¤´ï¼Œæˆ–è€…ä½¿ç”¨\u0026quot;_\u0026ldquo;å¼€å¤´ï¼Œä¿æŒç»Ÿä¸€å³å¯ å‘½åç®€æ´ï¼Œç‰¹åˆ«æ˜¯å±€éƒ¨å˜é‡ä½œç”¨åŸŸæ¯”è¾ƒé›†ä¸­æ—¶å¯ä»¥ä½¿ç”¨å•é¦–å­—æ¯ï¼Œæ¯”å¦‚indexå¯ä»¥ç›´æ¥ä½¿ç”¨i å¸¸é‡å‘½å é‡‡ç”¨é©¼å³°å¼ åŒ…å†…ç§æœ‰å…¨å±€å˜é‡å°å†™å­—æ¯å¼€å¤´ï¼Œæˆ–è€…ä½¿ç”¨\u0026rdquo;_\u0026ldquo;å¼€å¤´ï¼Œä¿æŒç»Ÿä¸€å³å¯ æšä¸¾ç±»å‹çš„å¸¸é‡éœ€è¦å…ˆå£°æ˜ç›¸åº”ç±»å‹æ¯”å¦‚ type Color string const ( Blue color = \u0026#34;blue\u0026#34; Red color = \u0026#34;red\u0026#34;\t) å‡½æ•°å‘½å é‡‡ç”¨é©¼å³°å‘½åï¼Œé¦–å­—æ¯æ ¹æ®è®¿é—®æ§åˆ¶å†³å®šæ˜¯å¦å¤§å°å†™ å•æµ‹å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿æ¯”å¦‚TestFunc_xxx ä¸€äº›åæ§½ å‘½åè§„èŒƒé‡Œå¤šæ¬¡å¼ºè°ƒç®€æ´ç®€çŸ­ï¼Œè¿™ä¹Ÿç¬¦åˆGoè¯­è¨€çš„è®¾è®¡ç†å¿µã€‚ä½†åœ¨å®é™…ä¸šåŠ¡ä»£ç ä¸­å‘½åçš„ç®€çŸ­å°±æ„å‘³ç€ç‰ºç‰²ä¸€å®šçš„å¯è¯»æ€§ï¼Œå› ä¸ºä¸šåŠ¡ä»£ç ä¸­å„ç§å¤æ‚åµŒå¥—é€»è¾‘å¾ˆéš¾ç”¨ä¸€ä¸¤ä¸ªå•è¯æè¿°æ¸…æ¥šï¼Œè¿™å°±è¦ä½ åšå‡ºå–èˆæ˜¯ä¿æŒä»£ç ç®€æ´è¿˜æ˜¯ä¿è¯ä»£ç æ›´æ˜“è¯»ï¼Œä¸ªäººè®¤ä¸ºåœ¨å›¢é˜Ÿé‡Œæ˜“è¯»è®©åˆ«äººæ›´å®¹æ˜“çœ‹æ‡‚è¿˜æ˜¯æ›´é‡è¦äº›ã€‚\nå‚è€ƒ uber Goç¼–ç¨‹è§„èŒƒ Style guideline for Go packages Goå®˜æ–¹åšå®¢åŒ…å‘½å ","permalink":"https://www.mfun.ink/2023/11/26/go-name-standard/","summary":"\u003cp\u003eå‘½åæ˜¯ç¼–ç è¿‡ç¨‹ä¸­è®©ç¨‹åºå‘˜ååˆ†çº ç»“çš„ä¸€ä¸ªç‚¹ï¼Œå°±åƒæ¯å¤©é¥­ç‚¹çº ç»“é€‰æ‹©åƒä»€ä¹ˆé¥­ä¸€æ ·ï¼Œå¸¸è§ä¸”ä»¤äººæŠ“å¤´ï¼Œä¸ºæ­¤ä¸“é—¨æœ‰äººå¼€å‘äº†å„ç§å‘½åç¥å™¨ã€‚å‘½åä¹Ÿæ˜¯ååˆ†èƒ½ä½“ç°ä¸€ä¸ªç¨‹åºå‘˜ç¼–ç æ°´å¹³çš„ä¸€é¡¹ï¼Œå¥½çš„å‘½åä¸€å®šç¨‹åº¦èƒ½ä»£æ›¿ä»£ç æ³¨é‡Šï¼Œè®©ä»£ç æ›´åŠ æ¸…æ™°æ˜“é˜…è¯»ã€‚å¥½çš„å‘½åå–å†³äºä½ çš„è¯æ±‡é‡ã€å¯¹ä¸šåŠ¡é€»è¾‘çš„ç†è§£ä»¥åŠå‘½åè¿‡ç¨‹ä¸­çš„ä¸€äº›é€šç”¨è§„èŒƒã€‚éµå¾ªä¸€å®šçš„å‘½åè§„èŒƒï¼Œå¯ä»¥ä½¿å¾—ä»£ç æ›´åŠ ä¼˜é›…ï¼Œå†™èµ·ä»£ç æ¥æ›´åŠ å¦‚é±¼å¾—æ°´ã€‚Goè¯­è¨€ä¸­ä¸»è¦æ¶‰åŠåˆ°åŒ…å‘½åã€æ–‡ä»¶å‘½åã€ç»“æ„ä½“å‘½åã€æ¥å£å‘½åã€å˜é‡å‘½åä¸‹é¢ä¸€ä¸€ä»‹ç»è¿™äº›ç›¸å…³éƒ¨åˆ†çš„å‘½åè§„èŒƒã€‚\u003c/p\u003e","title":"Goè¯­è¨€ç¼–ç¨‹è§„èŒƒ-å‘½åç¯‡"},{"content":"Jellyfinæ˜¯ä¸€æ¬¾å…è´¹å¼€æºçš„åª’ä½“å½±éŸ³ç³»ç»Ÿï¼Œé›†åˆ®å‰Šã€åª’ä½“åº“ã€è½¬ç ç­‰åŠŸèƒ½äºä¸€ä½“ï¼Œç±»ä¼¼æç©ºé—´è‡ªå¸¦çš„æå½±è§†ã€‚å°±ç›®å‰ä¸ªäººä½¿ç”¨ä½“éªŒæ¥çœ‹ï¼Œæå½±è§†çš„åˆ®å‰Šã€ä»¥åŠå½±è§†åº“ç®¡ç†åŠŸèƒ½å·²ç»éå¸¸å¼ºå¤§äº†ï¼Œé‚£ä¸ºä½•è¿˜è¦å®‰è£…Jellyfinå‘¢ï¼Œå½“ç„¶æ˜¯ç»™æ”¶é›†çš„å°å§å§ä»¬ä¸€ä¸ªå®¶å•Šã€‚\nå®‰è£… NASä¸‹å½“ç„¶è¿˜æ˜¯dockerå®‰è£…ï¼Œå®‰è£…æ•™ç¨‹åŸºæœ¬ä¸Šéšæ‰‹ä¸€æœå°±æ˜¯ä¸€å¤§æŠŠï¼Œè¿™é‡Œç®€å•è®°å½•ä¸‹é…ç½®é¡¹ï¼Œä¸»è¦æ˜¯æ–‡ä»¶æ˜ å°„å’Œç«¯å£æ˜ å°„\næ–‡ä»¶æ˜ å°„ ç«¯å£æ˜ å°„ é…ç½®å®Œæˆåç›´æ¥å¯åŠ¨å®¹å™¨ï¼Œä¹‹ååœ¨æµè§ˆå™¨é‡Œé€šè¿‡ip+ç«¯å£è®¿é—®ï¼Œé¦–æ¬¡è®¿é—®éœ€è¦è®¾ç½®ç”¨æˆ·åå’Œå¯†ç ã€‚\nä½¿ç”¨ä¼˜åŒ– ç¡¬ä»¶è§£ç  å¦‚æœä½¿ç”¨æœåŠ¡ç«¯è§£ç çš„è¯ä¸€å®šè¦å¼€å¯ç¡¬ä»¶è§£ç ï¼Œå¦åˆ™å¯ä»¥è¯´æ˜¯æ¯«æ— ä½¿ç”¨ä½“éªŒï¼Œç¡¬ä»¶åŠ é€Ÿé€‰æ‹©æ ¹æ®æœºå™¨é…ç½®è¿›è¡Œé€‰æ‹©ï¼Œæç©ºé—´æ˜¯Intel CPU+é›†æ˜¾ï¼Œæ‰€ä»¥å°±é€‰IntelåŠ é€Ÿã€‚\nå®é™…ä¸Šåœ¨å¼€å¯ç¡¬ä»¶åŠ é€Ÿåï¼Œå°±ç›®å‰ä½¿ç”¨ä½“éªŒæ¥çœ‹ï¼Œæ’­æ”¾èµ·4Ké«˜æ¸…è§†é¢‘ï¼Œè¿˜æ˜¯å¡é¡¿æ˜æ˜¾ã€‚æ‰€ä»¥è¿˜æ˜¯å»ºè®®ä½¿ç”¨ä¸²æµè®©å®¢æˆ·ç«¯è§£ç ã€‚\nå®¢æˆ·ç«¯è§£ç  è¿™ç§æ–¹å¼çš„è¯é»˜è®¤å°±å†…ç½‘æ’­æ”¾äº†ï¼Œå› ä¸ºä¸²æµæ’­æ”¾éå¸¸ä¾èµ–å¸¦å®½ï¼Œç›¸å½“äºæŠŠå®Œæ•´çš„è§†é¢‘ä¸‹è½½ä¸‹æ¥ï¼Œä¸€éƒ¨é«˜æ¸…è§†é¢‘å¤§åå‡ Gï¼Œå¤–ç½‘æ’­æ”¾æµé‡å¸¦å®½å±å®æ‰›ä¸ä½ï¼Œå½“ç„¶å¦‚æœä½ è¯´ä½ å…¬ç½‘å¸¦å®½æ— å‹åŠ›é‚£è¯·éšæ„ã€‚\nå°†ç”¨æˆ·æ’­æ”¾è®¾ç½®é‡Œï¼Œå…è®¸è½¬ç æ’­æ”¾éƒ½å–æ¶ˆå‹¾é€‰ å®¢æˆ·ç«¯è®¾ç½®ï¼Œå®¢æˆ·ç«¯å¯ä»¥å‹¾é€‰ä½¿ç”¨fMP4-HLSæ’­æ”¾å™¨ï¼Œä¸è¿‡å®é™…ä¸Šè¿˜æ˜¯å»ºè®®ä½¿ç”¨ç¬¬ä¸‰æ–¹æ’­æ”¾å™¨ ç¬¬ä¸‰æ–¹æ’­æ”¾å™¨ æ¡Œé¢ç«¯ MacOSå’Œwindowséƒ½å¯ä»¥é€‰æ‹©jellyfin-mpv-shimæ’­æ”¾å™¨ï¼Œé€‚é…äº†Jellyfinçš„MPVæ’­æ”¾å™¨ï¼Œæ”¯æŒmpvçš„å„ç§é…ç½®ï¼Œå¯¹mpvä¸ç†Ÿæ‚‰å¯ä»¥ç›´æ¥ç”¨é»˜è®¤é…ç½®ï¼Œå®‰è£…çš„è¯windowsæœ‰ç°æˆå®‰è£…åŒ…ï¼Œmacä¸‹å¯ä»¥ç”¨brew+pipå®‰è£…ã€‚å®‰è£…å®Œæˆåï¼Œå¯åŠ¨jellyfin-mpv-shimæŒ‰ç…§æç¤ºç™»å½•jellyfinæœåŠ¡å™¨å³å¯ã€‚ä¹‹åæ‰“å¼€Jellyfinå®¢æˆ·ç«¯æ’­æ”¾ä¸€ä¸ªè§†é¢‘ï¼Œç‚¹å‡»å³ä¸Šè§’é‚£ä¸ªæ¡†å¯ä»¥é€‰æ‹©åœ¨å…¶ä»–æ’­æ”¾å™¨æ’­æ”¾ã€‚\nMacä¸‹è¿˜æœ‰ä¸€ä¸ªå¥½ç”¨çš„å®¢æˆ·ç«¯Infuseï¼Œinfuseæ”¯æŒå¤šç§ç±»å‹çš„æ’­æ”¾æºJellyfinæ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œæ”¯æŒåŒæ­¥Jellyfinçš„å…ƒæ•°æ®ä»¥åŠåª’ä½“åº“ã€‚æ’­æ”¾è¿›åº¦ä¹Ÿå¯ä»¥åŒæ­¥åˆ°JellyfinæœåŠ¡å™¨ã€‚æœ€å…³é”®çš„æ˜¯æ’­æ”¾é«˜æ¸…è§†é¢‘ååˆ†æµç•…ï¼Œæˆ‘å°è¯•å’ŒMPVã€VLCå¯¹æ¯”äº†ä¸‹ï¼Œè¿™ä¿©éƒ½æœ‰å¡é¡¿çš„æƒ…å†µä¸‹infuseå±…ç„¶ååˆ†æµç•…ï¼Œå½“ç„¶ä¹Ÿæœ‰å¯èƒ½æ˜¯æˆ‘mpvå’Œvlcé…ç½®ä¸å¯¹ã€‚\nç§»åŠ¨ç«¯ ç§»åŠ¨ç«¯å®‰è£…å®˜æ–¹å®¢æˆ·ç«¯åï¼Œä¿®æ”¹è®¾ç½®å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹æ’­æ”¾å™¨ï¼Œè®¾ç½®-\u0026gt;å®¢æˆ·ç«¯è®¾ç½®-\u0026gt;video player type æ”¹ä¸ºExternal player\nç‚¹å‡»æ’­æ”¾ä¼šè®©ä½ é€‰æ‹©å·²ç»å®‰è£…çš„æ’­æ”¾å™¨æ’­æ”¾ï¼Œè¿™é‡Œæ¨èMXPlayerï¼Œé™¤äº†æ’­æ”¾å™¨è‡ªèº«å¼ºå¤§å¤–ï¼Œä¹Ÿæ˜¯æˆ‘æ‰¾åˆ°çš„å”¯ä¸€å¯ä»¥åŒæ­¥æ’­æ”¾è¿›åº¦åˆ°JellyfinæœåŠ¡çš„æ’­æ”¾å™¨\nå…¶ä»–ä¸€äº›å®¢æˆ·ç«¯ï¼Œå‚è€ƒè¿™ä¸ªgithubä»“åº“ å®¢æˆ·ç«¯ç•Œé¢è®¾ç½® å®‰è£…å®˜æ–¹å®¢æˆ·ç«¯åå¯ä»¥å…ˆåœ¨è®¾ç½®-ã€‹æ˜¾ç¤ºé‡Œä¿®æ”¹å®¢æˆ·ç«¯è¯­è¨€ä»¥åŠä¸»é¢˜\nä¸€äº›ç½‘ç»œé”™è¯¯è§£å†³ TMDBè®¿é—®ä¸é€š é€šè¿‡tmdbåˆ®å‰Šå…ƒæ•°æ®æ—¶ï¼ŒæŠ¥å¦‚ä¸‹é”™è¯¯\nSystem.Net.Http.HttpRequestException: Connection timed out (api.themoviedb.org:443) githubè®¿é—®ä¸é€š æŸäº›æ’ä»¶å¯èƒ½ä¼šè®¿é—®githubä¸‹è½½èµ„æºï¼Œå‡ºç°å¦‚ä¸‹é”™è¯¯\nSystem.Net.Http.HttpRequestException: Connection refused (raw.githubusercontent.com:443) ä¸Šé¢ä¸¤ä¸ªé—®é¢˜ä¸€èˆ¬æ˜¯æŸ¥è¯¢DNSæ²¡æœ‰æ‰¾åˆ°ç›¸åº”ipåœ°å€ï¼Œå¯ä»¥ä¿®æ”¹é»˜è®¤DNSæœåŠ¡å™¨åœ°å€ï¼Œä¸€äº›é»˜è®¤çš„å›½å†…DNSæ¯”å¦‚114.114.114.114ä¼šå°ç¦ä¸€äº›è®¿é—®ï¼Œè¿™æ—¶å€™é€šè¿‡ä¿®æ”¹DNSä¸€å®šç¨‹åº¦ä¸Šèƒ½è§£å†³é—®é¢˜ã€‚\nä¹Ÿå¯ä»¥åˆ°åˆ°è¿™ä¸ªDNS checkerç½‘ç«™æŸ¥è¯¢å¯ä½¿ç”¨çš„ipï¼Œé€šè¿‡ä¿®æ”¹hostæ–‡ä»¶ç›´æ¥ç»‘å®šå¯ä½¿ç”¨ipè§£å†³é—®é¢˜\nå¦‚æœè¿™é‡Œæ‰¾åˆ°çš„ipéƒ½è®¿é—®ä¸é€šçš„è¯ï¼Œé‚£å¯èƒ½å°±éœ€è¦æŒ‚ä»£ç†äº†ã€‚\n","permalink":"https://www.mfun.ink/2023/10/29/jellyfin-install-use/","summary":"\u003cp\u003eJellyfinæ˜¯ä¸€æ¬¾å…è´¹å¼€æºçš„åª’ä½“å½±éŸ³ç³»ç»Ÿï¼Œé›†åˆ®å‰Šã€åª’ä½“åº“ã€è½¬ç ç­‰åŠŸèƒ½äºä¸€ä½“ï¼Œç±»ä¼¼æç©ºé—´è‡ªå¸¦çš„æå½±è§†ã€‚å°±ç›®å‰ä¸ªäººä½¿ç”¨ä½“éªŒæ¥çœ‹ï¼Œæå½±è§†çš„åˆ®å‰Šã€ä»¥åŠå½±è§†åº“ç®¡ç†åŠŸèƒ½å·²ç»éå¸¸å¼ºå¤§äº†ï¼Œé‚£ä¸ºä½•è¿˜è¦å®‰è£…Jellyfinå‘¢ï¼Œå½“ç„¶æ˜¯ç»™æ”¶é›†çš„å°å§å§ä»¬ä¸€ä¸ªå®¶å•Šã€‚\u003c/p\u003e","title":"Jellyfinå®‰è£…åŠä½¿ç”¨ä½“éªŒä¼˜åŒ–"},{"content":"æœ‰äº†NASä¹‹åå°±æƒ³ç€ç‰©å°½å…¶ç”¨ï¼ŒæŠŠèƒ½å¤Ÿç§æœ‰åŒ–éƒ¨ç½²çš„éƒ½å…¨éƒ¨éƒ½ç§æœ‰åŒ–éƒ¨ç½²ï¼Œçªå‡ºä¸€ä¸ªæŠ˜è…¾ã€‚ä¸‹é¢åŸºäºcalibre-webæ‰“é€ ä¸ªäººæ•°å­—å›¾ä¹¦é¦†ã€‚\nä¸‹è½½éƒ¨ç½² è¿™é‡Œåœ¨æç©ºé—´dockerä¸‹éƒ¨ç½²ï¼Œå…¶ä»–å“ç‰Œæ”¯æŒdockerçš„NASä¹Ÿæ˜¯å·®ä¸å¤šçš„æµç¨‹ã€‚\næ‹‰å–é•œåƒlinuxserver/calibre-web åŒå‡»æ‹‰å–æˆåŠŸçš„é•œåƒå¼€å§‹éƒ¨ç½² è®¾ç½®æŒ‚è½½è·¯å¾„ è®¾ç½®ç«¯å£æ˜ å°„ è®¾ç½®ç¯å¢ƒå˜é‡ TZæ˜¯æ—¶åŒºè®¾ç½®ï¼›PUIDã€PGIDæ˜¯æœåŠ¡è¿›ç¨‹åœ¨dockerä¸‹çš„å¯åŠ¨ç”¨æˆ·ï¼Œ0çš„è¯è¡¨ç¤ºæ˜¯ä»¥rootç”¨æˆ·è¿è¡Œï¼Œä¸€èˆ¬ä¸æ¨èï¼Œå®˜æ–¹é•œåƒæ–‡æ¡£ç»™çš„ä¾‹å­æ˜¯1000ï¼›HTTPS_PROXYæ˜¯dockerç³»ç»Ÿçº§åˆ«çš„ç¯å¢ƒå˜é‡ï¼Œè®¾ç½®è¿™ä¸ªç›®çš„æ˜¯calibre-webå…ƒæ•°æ®æŠ“å–æœ‰googleï¼Œä¸æŒ‚ä»£ç†çš„è¯æœ‰äº›å…ƒæ•°æ®æŠ“å–æ²¡æ³•ç”¨ï¼Œä»£ç†å°±éœ€è¦è‡ªå·±æƒ³åŠæ³•äº†å˜¿å˜¿ã€‚ã€‚ã€‚\nä¿®æ”¹é…ç½® å®‰è£…éƒ¨ç½²å®Œæˆåï¼Œé€šè¿‡ip+ç«¯å£è®¿é—®ï¼Œåˆå§‹ç™»å½•ç”¨æˆ·ï¼šadminï¼Œå¯†ç ï¼šadmin123ã€‚\nç™»å½•ä¹‹åè®¾ç½®ä¹¦ç±å­˜å‚¨è·¯å¾„ è‹¥æç¤ºä»¥ä¸‹é”™è¯¯è¡¨ç¤ºåˆå§‹dbæ–‡ä»¶ä¸å­˜åœ¨ï¼Œå®˜æ–¹githubREADMEæœ‰æåˆ°ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªé“¾æ¥ä¸‹è½½ï¼Œä¸‹è½½ä¹‹åæ”¾åˆ°/bookç›®å½•ä¸‹ï¼Œå¦‚æœæœ‰æƒé™é—®é¢˜å¯ä»¥ä¿®æ”¹dbæ–‡ä»¶æƒé™chmod 644 metadata.db\nä¿®æ”¹ç”¨æˆ·é…ç½® ç‚¹å‡»å³ä¸Šè§’çš„ç”¨æˆ·ï¼Œè¿›å…¥ç”¨æˆ·é…ç½®ï¼Œå¯ä»¥ä¿®æ”¹ç”¨æˆ·åå’Œå¯†ç ï¼›ç”¨æ¥æ¥æ”¶ä¹¦ç±çš„ç”µå­é˜…è¯»å™¨é‚®ç®±åœ°å€ä¸€èˆ¬æ˜¯ç±»ä¼¼Kindleè¿™ç§å¯ä»¥ç›´æ¥é€šè¿‡é‚®ç®±æ¥æ”¶ä¹¦ç±çš„åº”ç”¨ä½¿ç”¨ã€‚\nå…ƒæ•°æ®è·å– ç‚¹å‡»ä¸Šä¼ çš„ä¹¦ç±ï¼Œä¼šå¼¹å‡ºä¹¦ç±è¯¦æƒ…ï¼Œç‚¹å‡»ä¸‹é¢çš„ç¼–è¾‘å…ƒæ•°æ®ä¼šè¿›å…¥å…ƒæ•°æ®è¯¦æƒ…ï¼Œå¯ä»¥æ‰‹åŠ¨ç¼–è¾‘å…ƒæ•°æ®æˆ–è€…ç‚¹å‡»æœ€ä¸‹æ–¹çš„è·å–å…ƒæ•°æ®è‡ªåŠ¨è·å–\nå›½å†…å¦‚æœæ²¡æœ‰ä»£ç†çš„è¯googleæ˜¯ç”¨ä¸äº†çš„ï¼Œä¸è¿‡è±†ç“£åŸºæœ¬ä¸Šä¹Ÿå¤Ÿç”¨äº†ã€‚\nä¹¦ç±èµ„æºæŸ¥æ‰¾ å…³äºæ‰¾ä¹¦æˆ‘ä¸€èˆ¬æ˜¯åœ¨zlibraryï¼Œå…¶ä»–ä¸€äº›å›¾ä¹¦ç½‘ç«™å¦‚å›¾ï¼Œæœ‰äº›éœ€è¦æŒ‚ä»£ç†ã€‚\nå®¢æˆ·ç«¯é˜…è¯»å™¨ calibre-web æ”¯æŒopdsåè®®ï¼Œip+ç«¯å£/opdså°±æ˜¯opdsè·¯å¾„ï¼Œæ‰€æœ‰æ”¯æŒopdsçš„å®¢æˆ·ç«¯éƒ½å¯ä»¥ã€‚\nå®‰å“ä¸‹æ¨èé™è¯»å¤©ä¸‹ï¼Œiosæ¨èkybookã€‚ å¦å¤–æœ‰ä¸€æ¬¾å¼€æºçš„fbreaderè·¨å¹³å°iosã€å®‰å“ã€pcã€macéƒ½æ”¯æŒï¼Œä¸”æ”¯æŒgoogle driveåŒæ­¥ï¼Œå°±æ˜¯æ–‡ä»¶æ ¼å¼æ”¯æŒä¸å¥½ä¸æ”¯æŒpdfã€‚ kindleç”¨æˆ·ä¹Ÿå¯ä»¥é€šè¿‡é‚®ä»¶æ¨é€æ–¹å¼è·å–ä¹¦ç±ã€‚ å¦‚æœå¸Œæœ›é˜…è¯»è¿‡ç¨‹ä¸­æ”¯æŒæ ‡æ³¨ã€æ³¨è§£å¯ä»¥é€‰æ‹©ä»¥ä¸Šåº”ç”¨ã€‚\ncalibre-webè‡ªå¸¦çš„webé˜…è¯»åŸºæœ¬åŠŸèƒ½ä¹Ÿéƒ½æœ‰ï¼Œå¦‚æœæƒ³è¦æ”¯æŒæ‰¹å‡†ã€æ³¨è§£å¯ä»¥å®‰è£…æµè§ˆå™¨æ’ä»¶æ¯”å¦‚ç®€é˜…æˆ–è€…å¼€æºçš„hypothesã€‚å¦‚æœä½¿ç”¨hypothes Joplinä¹Ÿæœ‰ç›¸å…³æ’ä»¶æ”¯æŒå¯¼å‡ºæ‰¹æ³¨åˆ°ç¬”è®°ã€‚\n","permalink":"https://www.mfun.ink/2023/10/23/docker-calibre-web/","summary":"\u003cp\u003eæœ‰äº†NASä¹‹åå°±æƒ³ç€ç‰©å°½å…¶ç”¨ï¼ŒæŠŠèƒ½å¤Ÿç§æœ‰åŒ–éƒ¨ç½²çš„éƒ½å…¨éƒ¨éƒ½ç§æœ‰åŒ–éƒ¨ç½²ï¼Œçªå‡ºä¸€ä¸ªæŠ˜è…¾ã€‚ä¸‹é¢åŸºäºcalibre-webæ‰“é€ ä¸ªäººæ•°å­—å›¾ä¹¦é¦†ã€‚\u003c/p\u003e","title":"dockeréƒ¨ç½²calibre-web"},{"content":"åœ¨ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« ä¸­è®°å½•äº†ä½¿ç”¨dockeréƒ¨ç½²joplin-serverçš„æµç¨‹ã€‚æœ‰æåˆ°joplin-serverå¯ä»¥ä½¿ç”¨SQLiteæˆ–è€…PostgresSQLï¼Œè¿™ä¸¤ç§å­˜å‚¨æ–¹å¼åˆ†åˆ«è¯¥å¦‚ä½•å¤‡ä»½æ•°æ®å‘¢ï¼Ÿ\nSQLite å¤‡ä»½ é»˜è®¤ä½¿ç”¨SQLiteçš„æ—¶å€™ï¼ŒæœåŠ¡ä¼šåœ¨/home/joplin/packages/serverä¸‹åˆ›å»ºdb-prod.sqliteæ–‡ä»¶æ¥å­˜å‚¨ç¬”è®°æ•°æ®ã€‚\nroot@cd7e1f960db0:/home/joplin/packages/server# ls -al ... -rw-r--r-- 1 joplin joplin 8165 Jul 13 10:26 README.md drwxr-xr-x 1 joplin joplin 10 Jul 13 10:26 assets -rw-r--r-- 1 joplin joplin 5054464 Sep 29 04:36 db-prod.sqlite drwxr-xr-x 1 joplin joplin 390 Jul 13 10:38 dist -rw-r--r-- 1 joplin joplin 624 Jul 13 10:26 gulpfile.js ... æ˜¾ç„¶ï¼Œè¿™ç§åœ¨dockeré‡Œåˆ›å»ºçš„æ–‡ä»¶ï¼Œdockeré•œåƒä¸€æ—¦é”€æ¯æ–‡ä»¶å•¥çš„å°±éƒ½æ²¡äº†ï¼Œä¸€èˆ¬æˆ‘ä»¬éœ€è¦æŒä¹…åŒ–çš„æ•°æ®éƒ½ä¼šé€‰æ‹©æŒ‚è½½å·çš„æ–¹å¼æŠŠä¸»æœºç›®å½•æŒ‚è½½åˆ°dockeré•œåƒé‡Œï¼Œè¿™æ ·dockeråº”ç”¨å®é™…æ“ä½œå°±æ˜¯ä¸»æœºç›®å½•ä¸‹æ–‡ä»¶ï¼Œå³ä½¿dockeré•œåƒé”€æ¯ä¸»æœºç›®å½•ä¸‹çš„æ–‡ä»¶ä¹Ÿä¸ä¼šå—å½±å“ï¼Œé‚£æ¥ä¸‹æ¥å°è¯•ä½¿ç”¨æŒ‚è½½è·¯å¾„å­˜å‚¨ç¬”è®°æ•°æ®ã€‚ é¦–å…ˆï¼Œé¦–æ¬¡éƒ¨ç½²çš„æ—¶å€™æŒ‚è½½å¥½ç›®å½• æœåŠ¡å¯åŠ¨åè¿›å…¥å®¹å™¨å†…å‘½ä»¤è¡Œï¼ŒæŠŠåˆå§‹åŒ–çš„db-prod.sqliteæ‹·è´åˆ°æŒ‚è½½çš„ç›®å½•é‡Œ\nroot@cd7e1f960db0:/home/joplin/packages/server# cp db-prod.sqlite /back/ root@cd7e1f960db0:/home/joplin/packages/server# ls /back db-prod.sqlite æœ€åï¼Œæ·»åŠ ç¯å¢ƒå˜é‡ä½¿ç”¨è‡ªå®šä¹‰æ•°æ®åº“è·¯å¾„ï¼Œé‡æ–°å¯åŠ¨ ç†æƒ³æƒ…å†µä¸‹ï¼Œjoplin-serverä¼šä½¿ç”¨æŒ‚è½½çš„è¿™ä¸ªæ•°æ®åº“ä½œä¸ºå­˜å‚¨ï¼Œç„¶è€Œå¯åŠ¨åæŠ¥é”™ï¼Œçœ‹é”™è¯¯ä¿¡æ¯æ˜¯å› ä¸ºæ²¡æœ‰å†™æƒé™ï¼Œæˆ‘åˆå°è¯•ä¿®æ”¹æ–‡ä»¶æƒé™ï¼Œæ¸…ç†knex_migrations_lockè¡¨çš„æ•°æ®ï¼Œä½†æ˜¯è¿˜æ˜¯ä¸è¡Œã€‚æœ€ç»ˆæ”¾å¼ƒäº†æŒ‚è½½è¿™ç§æ–¹å¼ã€‚\n[error] db: update `knex_migrations_lock` set `is_locked` = 1 where `is_locked` = 0 - SQLITE_READONLY: attempt to write a readonly database æ¥ç€åˆè€ƒè™‘å…¶ä»–æ–¹æ³•ï¼Œå¯åŠ¨åä½¿ç”¨/back/db-prod.sqliteè¦†ç›–é»˜è®¤åˆå§‹åŒ–çš„/home/joplin/packages/server/db-prod.sqliteï¼Œä¸€è¯•è¿˜çœŸè¡Œï¼Œè¦†ç›–ä¹‹åé€šè¿‡æµè§ˆå™¨è®¿é—®ï¼Œç™»å½•è´¦å·ç¡®å®æ˜¯ä¿®æ”¹ä¹‹åçš„ï¼Œç¬”è®°æ•°æ®ä¹Ÿéƒ½åœ¨ã€‚é‚£è¿™ç§æ–¹æ³•æ˜¯å¯ä»¥çš„ï¼Œæ¥ä¸‹æ¥å°±å¥½åŠäº†ï¼Œæˆ‘ä»¬å®šæœŸå¤‡ä»½db-prod.sqliteå°±è¡Œï¼Œå¯ä»¥å†™ä¸ªè„šæœ¬å¯ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œå®šæœŸæŠŠæ•°æ®åº“æ–‡ä»¶å¤‡ä»½åˆ°æŒ‚è½½çš„ä¸»æœºç›®å½•ä¸‹ã€‚ å½“ç„¶å®¢æˆ·ç«¯æœ¬åœ°æ•°æ®éƒ½æœ‰çš„æƒ…å†µä¸‹ï¼Œserverç«¯dockerå®¹å™¨ç”±äºæŸç§åŸå› é”€æ¯ï¼Œé‡æ–°éƒ¨ç½²åï¼Œä¹Ÿå¯ä»¥é€šè¿‡æœ¬åœ°è¦†ç›–è¿œç¨‹çš„æ–¹å¼å¼ºè¡Œè¦†ç›–è¿œç¨‹æ•°æ®ã€‚ä¸è¿‡è¿™æ ·æ€»å½’æ˜¯æœ‰äº›éº»çƒ¦çš„ï¼Œæ¯•ç«Ÿé‡æ–°éƒ¨ç½²serverç«¯åè¿˜å¾—ä¿®æ”¹è´¦å·æ•°æ®ã€‚\nPostgresSQL å¤‡ä»½ ä½¿ç”¨PostgresSQLçš„è¯å®é™…æ˜¯å¤‡ä»½PostgresSQLæ•°æ®åº“ï¼Œdockeréƒ¨ç½²PostgresSQLçš„æ—¶å€™æŒ‚è½½å¥½è·¯å¾„å°±è¡Œï¼Œè¿™æ ·dockeré•œåƒå¼‚å¸¸é”€æ¯ï¼Œæ•°æ®ä¹Ÿä¸ä¼šå—åˆ°å½±å“ã€‚ æ€»ç»“ä¸‹æ¥ï¼Œè¿˜æ˜¯PostgresSQLæ›´æ–¹ä¾¿äº›ï¼Œæ•°æ®å’Œé•œåƒåˆ†å‰²å¼€æ¥ï¼Œæ›´åŠ å®‰å…¨ï¼Œæœæ–­åˆ‡åˆ°PostgresSQLä¸Šæ¥ã€‚\n","permalink":"https://www.mfun.ink/2023/09/29/docker-joplin-server-data-backup/","summary":"\u003cp\u003eåœ¨ä¹‹å‰çš„ä¸€ç¯‡\u003ca href=\"https://www.mfun.ink/2023/09/12/joplin-docker-deploy/\"\u003eæ–‡ç« \u003c/a\u003eä¸­è®°å½•äº†ä½¿ç”¨dockeréƒ¨ç½²joplin-serverçš„æµç¨‹ã€‚æœ‰æåˆ°joplin-serverå¯ä»¥ä½¿ç”¨SQLiteæˆ–è€…PostgresSQLï¼Œè¿™ä¸¤ç§å­˜å‚¨æ–¹å¼åˆ†åˆ«è¯¥å¦‚ä½•å¤‡ä»½æ•°æ®å‘¢ï¼Ÿ\u003c/p\u003e","title":"dockeréƒ¨ç½²joplin-serveræ•°æ®å¤‡ä»½é—®é¢˜"},{"content":"Goè¯­è¨€å¤„ç†zipå‹ç¼©è¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Goæ ‡å‡†åº“archive/zipã€‚ä¸‹é¢è®°å½•ä¸‹å…·ä½“ä½¿ç”¨æ–¹æ³•ï¼Œä»¥åŠæ³¨æ„äº‹é¡¹ã€‚\nGo å¤„ç†zipè§£å‹ ä¸€èˆ¬zipæ–‡ä»¶æ˜¯æ¥è‡ªäºç£ç›˜æˆ–è€…ç½‘ç»œï¼Œä¸ç®¡å¤„ç†ç£ç›˜è¿˜æ˜¯ç½‘ç»œä¸­çš„zipæ–‡ä»¶é¦–å…ˆéƒ½æ˜¯è¯»å–æ–‡ä»¶æ•°æ®\n// è¯»å–ç£ç›˜æ–‡ä»¶ func getFromDisk(filePath string) ([]byte, error) { return os.ReadFile(filePath) } // è¯»å–ç½‘ç»œæ–‡ä»¶ func getZipFromNet(zipURL string) ([]byte, error) { rsp, err := http.Get(zipURL) if err != nil { return nil, err } rspBody, err := io.ReadAll(rsp.Body) if err != nil { return nil, err } defer rsp.Body.Close() return rspBody, nil } æ‹¿åˆ°æ•°æ®ååœ¨ä½¿ç”¨æ ‡å‡†åº“è§£å‹å°±å¥½ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¦è®°å¾—æ ¡éªŒç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨è¦å…ˆåˆ›å»ºä¸ç„¶ä¸‹é¢Openæ‰“å¼€æ–‡ä»¶çš„æ—¶å€™ä¼šæŠ¥é”™ã€‚\n// @zipData å‹ç¼©æ•°æ® // @destDir è¦è§£å‹çš„æ–‡ä»¶å¤¹ func unzip(zipData []byte, destDir string) error { zipReader, err := zip.NewReader(bytes.NewReader(zipData), int64(len(zipData))) if err != nil { return err } for _, f := range zipReader.File { err := writeUnzipFile(f, destDir) if err != nil { fmt.Println(err) return err } } return nil } // isFileExist æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å­˜åœ¨ func isFileExist(filePath string) bool { _, err := os.Stat(filePath) if err != nil { if os.IsExist(err) { return true } return false } return true } func writeUnzipFile(f *zip.File, destDir string) error { fName := f.Name destPath := filepath.Join(destDir, fName) // åˆ¤æ–­æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨ï¼Œä¸»è¦æ˜¯å¤„ç†zipåŒ…å«å¤šå±‚æ–‡ä»¶ç›®å½•çš„æƒ…å†µ if f.FileInfo().IsDir() \u0026amp;\u0026amp; !isFileExist(destPath) { err := os.MkdirAll(destPath, os.ModePerm) return err } // åˆ›å»ºè¦å†™å…¥çš„æ–‡ä»¶ fw, err := os.Open(destPath) if err != nil { return err } defer fw.Close() fr, err := f.Open() if err != nil { return err } defer fr.Close() _, err = io.Copy(fw, fr) return err } å‹ç¼©æ–‡ä»¶ å‹ç¼©æ–‡ä»¶å°±è¦ç”¨åˆ°zip writeräº†ï¼Œè¿™é‡Œç”¨åˆ°filepath.Walkéå†ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶è¯»å–å¹¶å†™å…¥åˆ°zip writeré‡Œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯filepath.Walkæ–¹æ³•ä¼šéå†ç›®å½•è‡ªèº«ï¼Œå¤„ç†çš„æ—¶å€™è¦è·³è¿‡ã€‚\n// @toZipFilePath è¦å‹ç¼©çš„æ–‡ä»¶æ‰€åœ¨ç›®å½• ç»å¯¹è·¯å¾„ // @destDir ç”Ÿæˆå‹ç¼©æ–‡ä»¶çš„ç›®å½• // @fileName ç”Ÿæˆçš„å‹ç¼©æ–‡ä»¶åç§° å¦‚xxx.zip func zipData(toZipFilePath string, destDir string, fileName string) error { if !isFileExist(destDir) { err := os.MkdirAll(destDir, os.ModePerm) return err } // åˆ›å»ºæ–°çš„å‹ç¼©æ–‡ä»¶ archive, err := os.Create(destDir + \u0026#34;/\u0026#34; + fileName) if err != nil { return err } zipWriter := zip.NewWriter(archive) defer zipWriter.Close() err = filepath.Walk(toZipFilePath, func(path string, info fs.FileInfo, err error) error { if err != nil { return err } fmt.Println(\u0026#34;walk\u0026#34;, path) // è·³è¿‡ç›®å½•è‡ªèº« if path == toZipFilePath { return nil } // è·å–zipåŒ…ä¸­çš„ç›¸å¯¹è·¯å¾„ æ¯”å¦‚è¦å‹ç¼©çš„ç›®å½•æ˜¯/tmp/tozip // è¦å‹ç¼©çš„æ–‡ä»¶æ˜¯/tmp/tozip/tozip.file // åˆ™å¾—åˆ°çš„zipPath = tozip.file // ä¿è¯å‹ç¼©åæ–‡ä»¶ç›®å½•ç»“æ„å’Œä¹‹å‰æ˜¯ä¸€æ ·çš„ // å¦‚æœéœ€è¦ä½¿ç”¨æ–°çš„ç›®å½•ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è‡ªå®šä¹‰ zipPath := path[len(toZipFilePath)+1:] if info.IsDir() { zipPath += \u0026#34;/\u0026#34; } w, err := zipWriter.Create(zipPath) if err != nil { return err } if info.IsDir() { return nil } fr, err := os.Open(path) defer fr.Close() if err != nil { return err } _, err = io.Copy(w, fr) if err != nil { return err } return nil }) // åœ¨è¿™é‡Œè¯»å–æ–°çš„zipæ–‡ä»¶å¯èƒ½ä¼šå‡ºé—®é¢˜ // é™¤éå§ä¸Šé¢çš„defer zipWriter.Close()å»æ‰ï¼Œç„¶ååœ¨è¿™é‡Œå…ˆæ‰§è¡ŒzipWriter.Close()åœ¨è¯»å– return err } å¤„ç†å‹ç¼©çš„æ—¶å€™åœ¨zipWriter closeä¹‹å‰è¯»å–æ–‡ä»¶è¯»åˆ°çš„æ•°æ®å¯èƒ½ä¼šæœ‰é—®é¢˜ï¼Œå› ä¸ºç¼“å†²åŒºçš„æ•°æ®ä¸ä¸€å®šå†™å…¥å®Œæˆã€‚åœ¨è¿™é‡Œè¢«å‘è¿‡ä¸€æ¬¡ï¼Œæƒ³è¦è¯»å–å‹ç¼©åçš„æ–‡ä»¶é‡æ–°ä¸Šä¼ åˆ°æ–‡ä»¶æœåŠ¡ç»“æœç¼“å†²åŒºæ²¡æœ‰flushå¯¼è‡´è¯»å–çš„æ•°æ®æœ‰é—®é¢˜ã€‚\nåœ¨å†…å­˜ä¸­å°†zipæ–‡ä»¶è§£å‹ä¿®æ”¹åé‡æ–°å‹ç¼© ç›´æ¥å°†zip readerä¸­è§£å‹åçš„æ–‡ä»¶é‡æ–°å†™å…¥zip writerä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹zipåŒ…ä¸­çš„æŸäº›æ•°æ®å¹¶é‡æ–°å‹ç¼©å¯ä»¥ç›´æ¥åœ¨å†…å­˜ä¸­å®Œæˆï¼Œä¸ç”¨å…ˆè§£å‹è‡³ç£ç›˜ï¼Œå†ä»ç£ç›˜è¯»å–æ•°æ®å‹ç¼©ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è·å–å‹ç¼©æ•°æ®å‰zipWriterè¦å…ˆcloseä¿è¯ç¼“å†²åŒºæ•°æ®éƒ½å·²å†™å…¥ã€‚\nfunc reZip(zipData []byte) ([]byte, error) { zipReader, err := zip.NewReader(bytes.NewReader(zipData), int64(len(zipData))) if err != nil { fmt.Println(err) return nil, err } buf := []byte{} writer := bytes.NewBuffer(buf) zipWriter := zip.NewWriter(writer) for _, f := range zipReader.File { w, err := zipWriter.Create(f.Name) if err != nil { fmt.Println(err) return nil, err } fr, err := f.Open() if err != nil { fmt.Println(err) return nil, err } _, err = io.Copy(w, fr) if err != nil { fmt.Println(err) return nil, err } } zipWriter.Close() return writer.Bytes(), nil } ","permalink":"https://www.mfun.ink/2023/09/26/go-zip/","summary":"\u003cp\u003eGoè¯­è¨€å¤„ç†zipå‹ç¼©è¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Goæ ‡å‡†åº“\u003ccode\u003earchive/zip\u003c/code\u003eã€‚ä¸‹é¢è®°å½•ä¸‹å…·ä½“ä½¿ç”¨æ–¹æ³•ï¼Œä»¥åŠæ³¨æ„äº‹é¡¹ã€‚\u003c/p\u003e","title":"Goå¤„ç†zipå‹ç¼©ä»¥åŠè§£å‹"},{"content":"æœ€è¿‘ä½¿ç”¨æœç´¢å¼•æ“è¢«è¿”å›çš„æŸäº›ç½‘ç«™æçš„æœ‰äº›çƒ¦ï¼Œäºæ˜¯å°±æŸ¥äº†ä¸‹è¯¥å¦‚ä½•å±è”½æŸäº›æœç´¢ç»“æœã€‚ å®é™…ä¸Šæœç´¢å¼•æ“æœ¬èº«æ˜¯æ”¯æŒä¸€äº›å‚æ•°æ¥è¾¾åˆ°ç›®çš„çš„ï¼Œæ¯”å¦‚ä½¿ç”¨Chromeæ—¶å¦‚æœä¸æƒ³æœç´¢ç»“æœé‡Œå‡ºç°CSDNç½‘ç«™çš„å†…å®¹å¯ä»¥åœ¨æœç´¢æ¡†é‡ŒåŠ -csdnï¼Œæ•ˆæœå¦‚ä¸‹ï¼š\nä¸åŠ -csdn æ·»åŠ -csdn bingä¹Ÿå¯ä»¥é€šè¿‡åŠ -site:*.csdn.netå®ç°åŒæ ·çš„æ•ˆæœ\nä¸åŠ -site:*.csdn.net åŠ -site:*.csdn.net è™½ç„¶æ·»åŠ å‚æ•°å¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†æ€»ä¸èƒ½æ¯æ¬¡æœç´¢éƒ½é¢å¤–è¾“å…¥ä¸€äº›å‚æ•°ï¼Œä½¿ç”¨èµ·æ¥åè€Œæ›´åŠ éº»çƒ¦ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆå¥½æ–¹æ³•ä¸ç”¨å¢åŠ é¢å¤–æˆæœ¬å‘¢ï¼Œä¸€ç•ªæœç´¢ç»ˆäºæ‰¾åˆ°äº†ä¸ªæµè§ˆå™¨æ’ä»¶ uBlacklisté€‚ç”¨äºChromeæˆ–è€…Edgeæµè§ˆå™¨ã€‚å®‰è£…åå¯ä»¥åœ¨æœç´¢ç»“æœé‡Œå°†æŸäº›ç«™ç‚¹æ·»åŠ é»‘åå•ã€‚\nä¹Ÿå¯ä»¥ç›´æ¥åœ¨æ’ä»¶é€‰é¡¹é‡Œæ·»åŠ å±è”½é…ç½® è¿™ä¸ªæ’ä»¶åœ¨ä½¿ç”¨chromeæœç´¢å¼•æ“æ—¶å¯ä»¥å®Œç¾å·¥ä½œï¼Œåœ¨ä½¿ç”¨bingæ—¶è™½ç„¶ä¹Ÿæ­£å¸¸å·¥ä½œäº†ï¼Œä½†æ˜¯bingé»˜è®¤æœ‰ä¸ªæœç´¢æ¨èï¼Œå¦‚ä¸‹ï¼š åœ¨è¿™é‡Œè¿˜æ˜¯å±•ç¤ºäº†æƒ³è¦å±è”½çš„ç½‘ç«™ï¼Œæœ‰æ²¡æœ‰åŠæ³•æŠŠè¿™ä¸ªä¹Ÿå±è”½å‘¢ï¼Œæ‰¾äº†ä¸‹ï¼Œå°±æ‰¾åˆ°äº†å¦ä¸€ä¸ªæ’ä»¶stylebotäº†chromeåœ°å€ã€ edgeåœ°å€ã€‚è¿™ä¸ªæ’ä»¶å…è®¸æ·»åŠ cssæ ·å¼ä½œç”¨åˆ°é¡µé¢ã€‚ åœ¨bingæœç´¢ç»“æœé¡µé¢æŸ¥çœ‹é¡µé¢å…ƒç´ å¯ä»¥çœ‹åˆ°å¼€å¤´çš„ä¸¤æ¡æ¨èçš„htmlæ ‡ç­¾classå±æ€§éƒ½æœ‰b_ansè¿™ä¸ªå€¼ æˆ‘ä»¬é€šè¿‡stylebotæ’ä»¶ç›´æ¥éšè—åŒ…å«b_ansç±»å±æ€§å€¼çš„æ ‡ç­¾ï¼Œä¸Šé¢è¾“å…¥æ¡†é‡Œå¯ä»¥é€‰æ‹©ç”Ÿæ•ˆçš„å…·ä½“é¡µé¢ï¼Œé’ˆå¯¹åŸŸåæˆ–è€…åŸŸåä¸‹è‡ªçº§ç›®å½•éƒ½å¯ä»¥ã€‚ æœ€ç»ˆæ•ˆæœï¼Œå¼€å¤´çš„ä¸¤æ¡æ¨èè¢«å®Œç¾éšè—ï¼š ","permalink":"https://www.mfun.ink/2023/09/19/chrome-edge-add-black-list/","summary":"\u003cp\u003eæœ€è¿‘ä½¿ç”¨æœç´¢å¼•æ“è¢«è¿”å›çš„æŸäº›ç½‘ç«™æçš„æœ‰äº›çƒ¦ï¼Œäºæ˜¯å°±æŸ¥äº†ä¸‹è¯¥å¦‚ä½•å±è”½æŸäº›æœç´¢ç»“æœã€‚\nå®é™…ä¸Šæœç´¢å¼•æ“æœ¬èº«æ˜¯æ”¯æŒä¸€äº›å‚æ•°æ¥è¾¾åˆ°ç›®çš„çš„ï¼Œæ¯”å¦‚ä½¿ç”¨Chromeæ—¶å¦‚æœä¸æƒ³æœç´¢ç»“æœé‡Œå‡ºç°CSDNç½‘ç«™çš„å†…å®¹å¯ä»¥åœ¨æœç´¢æ¡†é‡ŒåŠ \u003ccode\u003e-csdn\u003c/code\u003eï¼Œæ•ˆæœå¦‚ä¸‹ï¼š\u003c/p\u003e","title":"å¥½ç”¨çš„æµè§ˆå™¨æ’ä»¶â€”â€”æœç´¢ç»“æœå±è”½æŒ‡å®šç½‘é¡µ"},{"content":"Joplinæ˜¯ä¸€æ¬¾å¼€æºçš„ç¬”è®°ç³»ç»Ÿï¼Œè·¨å¹³å°ï¼Œæ”¯æŒåŒæ­¥ï¼Œæ”¯æŒdockerç§æœ‰åŒ–éƒ¨ç½²ã€‚é™¤äº†UIç•Œé¢æœ‰ç‚¹ä¸€è¨€éš¾è¿›ï¼Œä½œä¸ºç¬”è®°æœ¬èº«åŠŸèƒ½å¾ˆå…¨é¢ã€‚æˆ‘æ˜¯éƒ¨ç½²åˆ°äº†å†…ç½‘nasä¸Šï¼Œé€šè¿‡frpå†…ç½‘ç©¿é€å®ç°çš„å…¬ç½‘è®¿é—®ã€‚éƒ¨ç½²è¿‡ç¨‹å¦‚ä¸‹ï¼š\nä¸‹è½½é•œåƒå¹¶å®‰è£… è¿™é‡Œä½¿ç”¨çš„æç©ºé—´nasï¼Œå…¶ä»–æ”¯æŒdockerçš„nasä¹Ÿæ˜¯ç±»ä¼¼çš„éƒ¨ç½²æ­¥éª¤ï¼Œè¿›å…¥nasçš„dockeræœåŠ¡ï¼Œåœ¨ä»“åº“é‡Œæœç´¢joplinï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªå®˜æ–¹çš„ä¸‹è½½å°±æ˜¯ã€‚ ä¸‹è½½å®Œæˆåå¯ä»¥åœ¨æœ¬åœ°é•œåƒé‡Œæ‰¾åˆ°ï¼Œç‚¹å‡»å®‰è£…ï¼Œå®‰è£…æ—¶éœ€è¦ä¿®æ”¹çš„ä¸€äº›é…ç½®\næ·»åŠ ç«¯å£æ˜ å°„\næœ¬åœ°ç«¯å£å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹ æ·»åŠ ç¯å¢ƒå˜é‡\né¦–å…ˆæ˜¯APP_BASE_URLè¿™ä¸ªæ˜¯æœ€å¤–å±‚ç”¨æ¥è®¿é—®æœåŠ¡çš„åœ°å€ï¼Œä¸€èˆ¬æ˜¯å…¬ç½‘åŸŸåæˆ–è€…ip+ç«¯å£ï¼Œå¦‚æœåªåœ¨å†…ç½‘è®¿é—®å†…ç½‘ip+ç«¯å£å°±å¤Ÿäº†ã€‚ æ¥ç€æ˜¯å­˜å‚¨ç›¸å…³çš„é…ç½®ï¼ŒJoplinæ”¯æŒSQLiteå’ŒPostgreSQLä½œä¸ºå­˜å‚¨ï¼Œå•äººä½¿ç”¨çš„è¯SQLiteå°±å·²ç»æ»¡è¶³éœ€è¦äº†ï¼Œå¦‚æœæƒ³ä½¿ç”¨PostgreSQLéœ€è¦åœ¨ç¯å¢ƒå˜é‡é‡Œæ·»åŠ å¦‚ä¸‹é…ç½®,çº¢æ¡†é‡Œçš„æ”¹ä¸ºä½ è‡ªå·±çš„é…ç½®ã€‚ å†æ¥ç€æ˜¯é‚®ç®±æœåŠ¡é…ç½®ï¼Œé‚®ç®±ä¸é…çš„è¯ä¹Ÿèƒ½ä½¿ç”¨ï¼Œå°±æ˜¯æ²¡æœ‰é‚®ä»¶å‘é€åŠŸèƒ½ Joplinå®Œæ•´çš„ç¯å¢ƒå˜é‡é…ç½®å¯ä»¥åœ¨å®˜æ–¹githubä»“åº“é‡Œæ‰¾åˆ° ä»¥ä¸Šé…ç½®å®Œåå¯åŠ¨å®¹å™¨å³å¯ã€‚\næ·»åŠ è®¿é—®é…ç½®\nå¦‚æœç›´æ¥ç”¨éƒ¨ç½²æœºå™¨çš„ip+ç«¯å£è®¿é—®å¯ä»¥ä¸ç”¨é…ç½®nginxä»£ç†ï¼Œå¦‚æœä¸æ˜¯ç›´æ¥è®¿é—®å¯ä»¥ä½¿ç”¨nginxåä»£æˆ–è€…ç±»ä¼¼nginxçš„åº”ç”¨é…ç½®åä»£ï¼Œnginxé…ç½®å¦‚ä¸‹ï¼Œè¿™é‡Œå…³é”®æ˜¯è®¾ç½®Host headerï¼Œå°±æ˜¯æŠŠè®¿é—®hosté€ä¼ ä¸‹å»ï¼Œä¸Šé¢çš„APP_BASE_URLé…ç½®çš„å€¼å°±æ˜¯è¿™ä¸ªã€‚\nserver { listen 8888; //ç«¯å£ server_name domain; location / { proxy_set_header Host $host:$server_port; proxy_set_header X-Real-IP $remote_addr; proxy_pass http://ip:port; //Jopin åœ°å€ } } éƒ¨ç½²å®Œæˆåé€šè¿‡æµè§ˆå™¨è®¿é—®ï¼Œåˆå§‹é‚®ç®±admin@localhostï¼Œåˆå§‹å¯†ç admin ç™»å½•åå…ˆæ›´æ–°å¯†ç ï¼Œè¿™é‡Œå¦‚æœä¸Šé¢ä¸é…ç½®é‚®ä»¶æœåŠ¡ç›¸å…³çš„ç¯å¢ƒå˜é‡çš„è¯æ˜¯æ²¡åŠæ³•ä¿®æ”¹é‚®ç®±çš„ï¼Œå› ä¸ºä¿®æ”¹é‚®ç®±ä¼šå‘é€ä¸€å°ç¡®è®¤é‚®ä»¶ï¼Œç‚¹å‡»ç¡®è®¤åæ‰èƒ½ä¿®æ”¹æˆåŠŸã€‚ å®¢æˆ·ç«¯å®‰è£… å®¢æˆ·ç«¯ç›´æ¥å»å®˜ç½‘ä¸‹è½½å®¢æˆ·ç«¯å°±å¥½ï¼Œä¸‹è½½å®Œæˆååœ¨é…ç½®é‡Œæ·»åŠ åŒæ­¥é…ç½® ä»¥ä¸Šå°±æ˜¯æ•´ä¸ªå®‰è£…é…ç½®è¿‡ç¨‹\nå†…ç½‘ç©¿é€ å¦‚æœæ˜¯éƒ¨ç½²åˆ°å†…ç½‘ï¼Œæ²¡æœ‰å…¬ç½‘ipè¯ï¼Œæƒ³è¦åœ¨å…¬ç½‘è®¿é—®å¯ä»¥æä¸ªå†…ç½‘ç©¿é€ã€‚æˆ‘è¿™ç›´æ¥ä½¿ç”¨çš„frpåŠ ä¸Šä¸€ä¸ªäº‘æœåŠ¡å•†çš„è½»é‡äº‘æœåŠ¡å™¨ï¼Œfrpé…ç½®å¦‚ä¸‹\n# æœåŠ¡ç«¯ [common] bind_port = 7000 token = token log_file = ./frps.log log_max_days = 3 # å®¢æˆ·ç«¯é…ç½® [common] server_addr = å…¬ç½‘ip server_port = 7000 token = token [joplin] type = tcp local_port = 22300 local_ip = joplinå±€åŸŸç½‘ip remote_port = 8083 å¯¹åº”çš„nginxé…ç½®å¦‚ä¸‹ï¼Œè¿™é‡Œnginxå’Œfrpséƒ¨ç½²åœ¨äº†åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Šï¼Œæ‰€ä»¥ç›´æ¥ä»£ç†åˆ°127.0.0.1ï¼Œç«¯å£å°±æ˜¯ä¸Šé¢frpcé…çš„remote_portï¼Œå½“ç„¶ç›´æ¥è®¿é—®çš„è¯å°±ä¸ç”¨nginxåä»£äº†ï¼Œç›´æ¥é€šè¿‡å…¬ç½‘åŸŸå/ip+remote_portè®¿é—®ã€‚\nserver { listen 8888; //ç«¯å£ server_name domain; location / { proxy_set_header Host $host:$server_port; proxy_set_header X-Real-IP $remote_addr; proxy_pass http://127.0.0.1:8083; } } ","permalink":"https://www.mfun.ink/2023/09/12/joplin-docker-deploy/","summary":"\u003cp\u003e\u003ca href=\"https://github.com/laurent22/joplin\"\u003eJoplin\u003c/a\u003eæ˜¯ä¸€æ¬¾å¼€æºçš„ç¬”è®°ç³»ç»Ÿï¼Œè·¨å¹³å°ï¼Œæ”¯æŒåŒæ­¥ï¼Œæ”¯æŒdockerç§æœ‰åŒ–éƒ¨ç½²ã€‚é™¤äº†UIç•Œé¢æœ‰ç‚¹ä¸€è¨€éš¾è¿›ï¼Œä½œä¸ºç¬”è®°æœ¬èº«åŠŸèƒ½å¾ˆå…¨é¢ã€‚æˆ‘æ˜¯éƒ¨ç½²åˆ°äº†å†…ç½‘nasä¸Šï¼Œé€šè¿‡frpå†…ç½‘ç©¿é€å®ç°çš„å…¬ç½‘è®¿é—®ã€‚éƒ¨ç½²è¿‡ç¨‹å¦‚ä¸‹ï¼š\u003c/p\u003e","title":"å†…ç½‘NASä½¿ç”¨dockeréƒ¨ç½²Joplinç¬”è®°æœåŠ¡"},{"content":"æœ€è¿‘ç¢°åˆ°ä¸€ä¸ªcurlä½¿ç”¨é—®é¢˜ï¼Œç°è±¡æ˜¯åœ¨ç»ˆç«¯é‡Œè®¾ç½®proxyç¯å¢ƒå˜é‡ç„¶åcurlæ²¡æœ‰ç”Ÿæ•ˆï¼Œå…¶ä»–å‘½ä»¤æ¯”å¦‚git cloneã€brewç­‰ç­‰éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œäºæ˜¯æ€€ç–‘curlæ˜¯ä¸æ˜¯æœ‰ä»€ä¹ˆä¸ä¸ºè®¤çŸ¥çš„ç‰¹æ®Šé…ç½®ï¼Œæƒ³åˆ°è¿™é‡Œå°±æ¥äº†å…´è‡´ï¼Œç«‹é©¬å¼€å§‹æŸ¥èµ·ã€‚æœ€ç»ˆå‘ç°æ˜¯è¢«è‡ªå·±é—å¿˜çš„ä¸€ä¸ªé…ç½®ï¼Œå±å®å¤§ä¹Œé¾™ã€‚\nä¸‹é¢æ˜¯ç»ˆç«¯æ‰§è¡Œè¿‡ç¨‹ä¸­çš„è¾“å‡ºï¼Œæ— è®ºæ˜¯å¦è®¾ç½®proxy curléƒ½ä½¿ç”¨äº†å¦ä¸€ä¸ªä»£ç†é…ç½®ã€‚\n$ curl cip.cc curl: (7) Failed to connect to 127.0.0.1 port 51837 after 8 ms: Connection refused $ HTTP_PROXY=http://127.0.0.1:58591; export HTTPS_PROXY=http://127.0.0.1:58591; export ALL_PROXY=socks5://127.0.0.1:51838 $ curl cip.cc curl: (7) Failed to connect to 127.0.0.1 port 51837 after 8 ms: Connection refused $ unset HTTP_PROXY; unset HTTPS_PROXY; unset ALL_PROXY $ curl cip.cc curl: (7) Failed to connect to 127.0.0.1 port 51837 after 8 ms: Connection refused ä¸€å¼€å§‹æ€€ç–‘iterm2ç»ˆç«¯æ˜¯ä¸æ˜¯æœ‰ä»€ä¹ˆé…ç½®ï¼Œäºæ˜¯æ¢äº†Mac OSç³»ç»Ÿç»ˆç«¯ï¼Œå‘ç°è¿˜æ˜¯ä¸€æ ·çš„é—®é¢˜ï¼Œæ’é™¤ç»ˆç«¯é—®é¢˜ã€‚æ¥ç€åˆæ€€ç–‘æ˜¯ä¸æ˜¯curlç‰ˆæœ¬é—®é¢˜ï¼Œä½¿ç”¨brewå®‰è£…äº†æ–°ç‰ˆæœ¬çš„curlï¼Œé—®é¢˜ä¾æ—§ã€‚å†ç„¶åç›´æ¥å‘½ä»¤è¡Œé‡Œæ‰§è¡Œenvå‘½ä»¤ï¼Œä¸€è‚¡è„‘æŠŠå…¨éƒ¨ç¯å¢ƒå˜é‡éƒ½æ‰“äº†å‡ºæ¥ï¼Œå¹¶æ²¡æœ‰ä»»ä½•å…³äºproxyçš„ç¯å¢ƒå˜é‡è®¾ç½®ï¼Œæœ‰æ„æ€äº†ï¼Œåˆ°åº•å“ªé‡Œå‡ºäº†é—®é¢˜å‘¢ï¼Ÿ\nä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ä»æºç é‡Œæ‰¾ç­”æ¡ˆæ˜¯åŸºæœ¬æŠ€èƒ½ï¼Œäºæ˜¯ä»git cloneäº†curlçš„æºç ï¼Œå¼€å§‹ä»ä»£ç é‡Œæ‰¾curlè®¾ç½®proxyç›¸å…³é€»è¾‘ï¼Œç»ˆäºå‘ç°curlé™¤äº†ä¼šä»ç¯å¢ƒå˜é‡é‡Œè¯»proxyè®¾ç½®å¤–è¿˜è¯»äº†ä¸€ä¸ª.curlrcçš„é…ç½®æ–‡ä»¶\n/* return 0 on everything-is-fine, and non-zero otherwise */ int parseconfig(const char *filename, struct GlobalConfig *global) { FILE *file = NULL; bool usedarg = FALSE; int rc = 0; struct OperationConfig *operation = global-\u0026gt;last; char *pathalloc = NULL; if(!filename) { /* NULL means load .curlrc from homedir! */ char *curlrc = findfile(\u0026#34;.curlrc\u0026#34;, CURLRC_DOTSCORE); if(curlrc) { file = fopen(curlrc, FOPEN_READTEXT); if(!file) { free(curlrc); return 1; } filename = pathalloc = curlrc; } è™½ç„¶è¿˜æ²¡æ‰¾åˆ°è§£æé…ç½®æ–‡ä»¶è®¾ç½®proxyç›¸å…³çš„é€»è¾‘ï¼Œä½†æ˜¯å¯ä»¥å…ˆå»homeç›®å½•ä¸‹çœ‹ä¸€ä¸‹äº†ï¼Œä¸€çœ‹è¿˜çœŸæœ‰ä¸ª.curlrcçš„æ–‡ä»¶ï¼Œ5ä¸ªæœˆå‰åˆ›å»ºçš„ï¼Œæ‰“å¼€ä¸€çœ‹åªæœ‰ä¸€è¡Œé…ç½®socks5=127.0.0.1:51837ã€‚çœ‹åˆ°è¿™é‡Œç»ˆäºæœ‰äº†ç‚¹å°è±¡ï¼Œä¹‹å‰ä¸ºäº†è®¾ç½®socks5 proxyå°±åŠ äº†è¿™ä¹ˆä¸ªé…ç½®ï¼Œåˆ æ‰é‡æ–°æ‰§è¡Œcurlç»ˆäºæ­£å¸¸äº†ã€‚\n","permalink":"https://www.mfun.ink/2023/08/20/curl-proxy-no-use/","summary":"\u003cp\u003eæœ€è¿‘ç¢°åˆ°ä¸€ä¸ªcurlä½¿ç”¨é—®é¢˜ï¼Œç°è±¡æ˜¯åœ¨ç»ˆç«¯é‡Œè®¾ç½®proxyç¯å¢ƒå˜é‡ç„¶åcurlæ²¡æœ‰ç”Ÿæ•ˆï¼Œå…¶ä»–å‘½ä»¤æ¯”å¦‚git cloneã€brewç­‰ç­‰éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œäºæ˜¯æ€€ç–‘curlæ˜¯ä¸æ˜¯æœ‰ä»€ä¹ˆä¸ä¸ºè®¤çŸ¥çš„ç‰¹æ®Šé…ç½®ï¼Œæƒ³åˆ°è¿™é‡Œå°±æ¥äº†å…´è‡´ï¼Œç«‹é©¬å¼€å§‹æŸ¥èµ·ã€‚æœ€ç»ˆå‘ç°æ˜¯è¢«è‡ªå·±é—å¿˜çš„ä¸€ä¸ªé…ç½®ï¼Œå±å®å¤§ä¹Œé¾™ã€‚\u003c/p\u003e","title":"curl proxyè®¾ç½®æ— æ•ˆé—®é¢˜æ’æŸ¥"},{"content":"æœ€è¿‘æå‡ºæ¥ä¸€ä¸ªæŒºå¼±æ™ºçš„é—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ï¼Œä»¥ç¤ºè­¦æˆ’ã€‚ä»£ç ä¸»è¦é€»è¾‘å¦‚ä¸‹ï¼Œä½¿ç”¨ selectå’Œtime.After()å®ç°è¶…æ—¶æ§åˆ¶ï¼ŒdoSomething()ä¸€å®šä¼šè¿”å›ç»“æœã€‚\nsign := make(chan struct{}) go func() { doSomething() sign \u0026lt;- struct{} close(sign) }() select { case \u0026lt;-time.After(timeout): fmt.Println(\u0026#34;timeout\u0026#34;) return case \u0026lt;-sign: fmt.Println(\u0026#34;succ\u0026#34;) return } å®é™…æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šå‘ç°goroutineæ•°é‡åœ¨ä¸æ–­å¢é•¿ï¼Œå¾ˆæ˜æ˜¾è¿™æ®µä»£ç å‘ç”Ÿäº†åç¨‹æ³„æ¼ã€‚ è¿™æ®µä»£ç æ–°å¯goroutineçš„åœ°æ–¹åªæœ‰ä¸€å¤„ï¼Œå°±æ˜¯è¿™ä¸ªgo funcï¼Œgoroutineæ•°é‡ä¸æ–­å¢é•¿è¯´æ˜goroutineä¸€ç›´æ²¡æœ‰é€€å‡ºã€‚ ç»§ç»­çœ‹ï¼Œä¸ºä»€ä¹ˆåç¨‹æ²¡æœ‰é€€å‡ºå‘¢ï¼Œä»£ç é‡Œå”¯ä¸€ä¼šäº§ç”Ÿé˜»å¡çš„åœ°æ–¹å°±æ˜¯è¿™ä¸ªsign \u0026lt;- struct{}é€šè¿‡channelé€šçŸ¥å‡½æ•°æ‰§è¡Œå®Œäº†ï¼Œæ­£å¸¸æ— è¶…æ—¶çš„æƒ…å†µä¸‹ï¼Œselecté‡Œèƒ½æ­£å¸¸æ¶ˆè´¹è¿™ä¸ªchannelï¼Œåç¨‹èƒ½æ­£å¸¸é€€å‡ºï¼Œä½†æ˜¯ä¸€æ—¦å‘ç”Ÿè¶…æ—¶ï¼Œselectç›´æ¥é€€å‡ºï¼Œsign channelå°±æ²¡æœ‰æ¶ˆè´¹è€…äº†ï¼Œç”±äºæ˜¯æ— ç¼“å†²channelï¼Œå†™å…¥æ–¹å°±ä¼šè¢«é˜»å¡å¯¼è‡´åç¨‹æ— æ³•é€€å‡ºï¼Œé€ æˆåç¨‹æ³„æ¼ã€‚åŠå…¶ä½çº§çš„ä¸€ä¸ªé”™è¯¯ï¼Œå±äºæ˜¯å¯¹goåŸºç¡€æŒæ¡ä¸ç‰¢äº†ã€‚ æ­£ç¡®çš„å®ç°æ–¹å¼ï¼Œåˆ›å»ºä¸€ä¸ªæœ‰ç¼“å†²channelå°±å¯ä»¥äº†\nsign := make(chan struct{}, 1) go func() { doSomething() sign \u0026lt;- struct{}{} close(sign) }() select { case \u0026lt;-time.After(timeout): fmt.Println(\u0026#34;timeout\u0026#34;) return case \u0026lt;-sign: fmt.Println(\u0026#34;succ\u0026#34;) return } å¦å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨contextå®ç°è¶…æ—¶æ§åˆ¶\nsign := make(chan struct{}, 1) ctx, cancel := context.WithTimeout(context.Background(), time.Second) defer cancel() go func() { doSomething() sign \u0026lt;- struct{}{} close(sign) }() select { case \u0026lt;-ctx.Done(): fmt.Println(\u0026#34;timeout\u0026#34;) return case \u0026lt;-sign: fmt.Println(\u0026#34;done\u0026#34;) return } éœ€è¦æ˜ç¡®çš„ä¸€ç‚¹æ˜¯ï¼Œä»¥ä¸Šçš„è¶…æ—¶æ§åˆ¶å¹¶ä¸ä¼šå½±å“åˆ°å·²ç»å¯åŠ¨çš„goroutineçš„æ‰§è¡Œï¼Œå³ä¾¿è¶…æ—¶å¯åŠ¨çš„goroutineè¿˜æ˜¯ä¼šç»§ç»­æ‰§è¡Œç›´åˆ°é€€å‡ºï¼Œè¿™é‡Œçš„è¶…æ—¶åªæ˜¯ä½ å¯ä»¥ä¸ç”¨é˜»å¡åœ¨è¿™è‹¦è‹¦ç­‰å¾…å·²å¯åŠ¨çš„è¿™ä¸ªgoroutineæ‰§è¡Œå®Œï¼Œä½ å¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–é€»è¾‘ã€‚å¦‚æœè¶…æ—¶åæˆ‘æƒ³ç«‹å³é€€å‡ºgoroutineè¯¥æ€ä¹ˆåŠå‘¢ï¼Œè¿™é‡Œæ˜¯åšä¸åˆ°ç«‹å³é€€å‡ºçš„ï¼Œä¸è¿‡å¯ä»¥æŠŠctxä¼ åˆ°goroutineé‡Œï¼Œæ¯æ‰§è¡Œä¸€æ­¥å°±åˆ¤æ–­ä¸‹ctxæ˜¯å¦å·²ç»è¶…æ—¶äº†ï¼Œå¦‚æœè¶…æ—¶å°±é€€å‡ºï¼Œä¸€å®šç¨‹åº¦æ§åˆ¶goroutineçš„æ‰§è¡Œã€‚\nsign := make(chan struct{}, 1) ctx, cancel := context.WithTimeout(context.Background(), time.Second) defer cancel() go func(ctx context.Context) { defer close(sign) doSomething() if ctx.Err() != nil { fmt.Println(\u0026#34;goroutine exit\u0026#34;) return } fmt.Println(\u0026#34;other\u0026#34;) doSomeOtherThing() sign \u0026lt;- struct{}{} }(ctx) select { case \u0026lt;-ctx.Done(): fmt.Println(\u0026#34;timeout\u0026#34;) case \u0026lt;-sign: fmt.Println(\u0026#34;done\u0026#34;) } ","permalink":"https://www.mfun.ink/2023/08/19/goroutine-leak/","summary":"\u003cp\u003eæœ€è¿‘æå‡ºæ¥ä¸€ä¸ªæŒºå¼±æ™ºçš„é—®é¢˜ï¼Œè®°å½•ä¸€ä¸‹ï¼Œä»¥ç¤ºè­¦æˆ’ã€‚ä»£ç ä¸»è¦é€»è¾‘å¦‚ä¸‹ï¼Œä½¿ç”¨\nselectå’Œtime.After()å®ç°è¶…æ—¶æ§åˆ¶ï¼ŒdoSomething()ä¸€å®šä¼šè¿”å›ç»“æœã€‚\u003c/p\u003e","title":"æ— ç¼“å†²channelå¯¼è‡´çš„goroutineæ³„éœ²"},{"content":"æœ€è¿‘åœ¨æŠ˜è…¾nasï¼Œé‡åˆ°ä¸€ç§æƒ…å†µéœ€è¦è®¿é—®å­ç½‘ï¼Œå½“å‰nasé€šè¿‡ç½‘çº¿è¿çš„å…‰çŒ«ï¼Œè·¯ç”±å™¨è¿çš„å…‰çŒ«ï¼Œpcç¬”è®°æœ¬ç”µè„‘è¿çš„è·¯ç”±å™¨ã€‚ç½‘ç»œæ‹“è¡¥å›¾å¦‚ä¸‹ï¼Œç°åœ¨æƒ³è¦nasä¸­è·‘çš„dockeræœåŠ¡è®¿é—®åˆ°pcä¸­çš„æœåŠ¡ã€‚ naså’Œpcæ”¾åˆ°ä¸€ä¸ªå±€åŸŸç½‘\né¦–å…ˆæœ€ç®€å•çš„æ–¹æ³•ï¼ŒæŠŠnasç½‘çº¿æ’åˆ°è·¯ç”±å™¨ä¸Šï¼Œè®©naså’Œpcå¤„äºåŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹ï¼Œç„¶åç›´æ¥é€šè¿‡ipè®¿é—®pcä¸­çš„æœåŠ¡ï¼Œç®€å•å¿«é€Ÿã€‚ä½†ç”±äºä¸å¯æŠ—å› ç´ nasæ— æ³•ç›´æ¥è¿åˆ°è·¯ç”±å™¨ä¸Šï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•passæ‰ã€‚ å…‰çŒ«é…ç½®è·¯ç”±\næ¥ä¸‹æ¥ç»§ç»­æ‰¾å¯ä»¥è®¿é—®å­ç½‘çš„æ–¹æ³•ï¼Œçœ‹åˆ°ç½‘ä¸Šè¯´å¯ä»¥åœ¨å…‰çŒ«é‡Œé…ç½®è·¯ç”±ï¼Œå”‰ä¸é”™ï¼Œèµ¶ç´§ç™»å½•å…‰çŒ«ç»“æœæ™®é€šç”¨æˆ·æ²¡æœ‰æƒé™é…ç½®ï¼Œéœ€è¦ç®¡ç†å‘˜æ‰èƒ½é…ç½®ã€‚åˆåœ¨ç½‘ä¸Šæ‰¾è”é€šå…‰çŒ«å¦‚ä½•ç®¡ç†å‘˜ç™»å½•ï¼ŒæŒ¨ä¸ªè¯•äº†ä¸ªéè¿ç®¡ç†å‘˜ç™»å½•ç•Œé¢éƒ½æ²¡æ‰¾åˆ°ï¼Œé‚æ”¾å¼ƒç»§ç»­æƒ³å…¶ä»–åŠæ³•ã€‚ è·¯ç”±å™¨é…ç½®è™šæ‹ŸæœåŠ¡å™¨\næ—¢ç„¶å…‰çŒ«ä¸å¯è¡Œé‚£è·¯ç”±å™¨å¯ä¸å¯ä»¥å‘¢ï¼Œè·¯ç”±å™¨ä¸‹çš„å­ç½‘æ²¡æ³•ç›´æ¥è®¿é—®ä½†æ˜¯è·¯ç”±å™¨æœ¬èº«å’Œnasæ˜¯åœ¨ä¸€ä¸ªå±€åŸŸç½‘çš„ã€‚ç™»å½•è·¯ç”±å™¨å‘ç°ä¸€ä¸ªè™šæ‹ŸæœåŠ¡å™¨çš„é…ç½®ï¼Œå¯ä»¥æŠŠå¤–éƒ¨ip+ç«¯å£è®¿é—®æ˜ å°„åˆ°å†…éƒ¨æœåŠ¡ip+ç«¯å£ä¸Šã€‚é…ä¸Šè¯•è¯•ï¼Œå®Œç¾è¿è¡Œã€‚ ","permalink":"https://www.mfun.ink/2023/07/30/lan-access-subnet/","summary":"\u003cp\u003eæœ€è¿‘åœ¨æŠ˜è…¾nasï¼Œé‡åˆ°ä¸€ç§æƒ…å†µéœ€è¦è®¿é—®å­ç½‘ï¼Œå½“å‰nasé€šè¿‡ç½‘çº¿è¿çš„å…‰çŒ«ï¼Œè·¯ç”±å™¨è¿çš„å…‰çŒ«ï¼Œpcç¬”è®°æœ¬ç”µè„‘è¿çš„è·¯ç”±å™¨ã€‚ç½‘ç»œæ‹“è¡¥å›¾å¦‚ä¸‹ï¼Œç°åœ¨æƒ³è¦nasä¸­è·‘çš„dockeræœåŠ¡è®¿é—®åˆ°pcä¸­çš„æœåŠ¡ã€‚\n\u003cimg loading=\"lazy\" src=\"/images/lan-access-subnet/net.png\"\u003e\u003c/p\u003e","title":"å±€åŸŸç½‘ä¸‹é€šè¿‡è·¯ç”±å™¨è™šæ‹ŸæœåŠ¡è®¿é—®å­ç½‘"},{"content":"æœ€è¿‘ä½¿ç”¨xormæ›´æ–°dbçš„æ—¶å€™ç¢°åˆ°ä¸€ä¸ªæŒºæœ‰æ„æ€çš„é—®é¢˜ï¼Œdbä¸­å­—æ®µç±»å‹æ˜¯æ—¥æœŸdatetimeï¼Œå¯¹åº”go modelä¸­çš„å­—æ®µæ˜¯time.Timeç±»å‹ï¼Œåœ¨åˆ†åˆ«ä½¿ç”¨modelå’Œmapä¸¤ç§æ–¹å¼è¿›è¡Œæ›´æ–°æ—¶ï¼Œä½¿ç”¨modelçš„æ–¹å¼æ›´æ–°èƒ½å¾—åˆ°æ­£ç¡®ç»“æœï¼Œdbä¸­çš„æ—¥æœŸèƒ½è¢«æ›´æ–°æˆå½“åœ°æ—¶é—´ï¼›ä½¿ç”¨map kvçš„æ–¹å¼è¿›è¡Œæ›´æ–°æ—¶dbä¸­çš„å­—æ®µè¢«æ›´æ–°æˆäº†æ ¼æ—å°¼æ²»æ ‡å‡†æ—¶é—´ã€‚éƒ½æ˜¯å–çš„go time.Nowä¸ºä»€ä¹ˆæ›´æ–°ç»“æœä¸ä¸€æ ·å‘¢ï¼Ÿ\n// demo type TimeTest struct { ID int64 `xorm:\u0026#34;not null pk autoincr INT(11) \u0026#39;id\u0026#39;\u0026#34;` UpdateTime time.Time `xorm:\u0026#34;update_time\u0026#34;` } func UpdateTime(o *xorm.Session) { o.Table(new(TimeTest)).Where(\u0026#34;id = ?\u0026#34;, 1).Update(\u0026amp;TimeTest{ UpdateTime: time.Now(), }) o.Table(new(TimeTest)).Where(\u0026#34;id = ?\u0026#34;, 1).Update(map[string]interface{}{ \u0026#34;update_time\u0026#34;: time.Now(), }) } ä¸‹æ–‡çš„æºç åˆ†æåŸºäºxorm.io/xorm v1.0.5å’Œgithub.com/go-sql-driver/mysql v1.5.0ã€‚\né€šè¿‡LastSQL()å‡½æ•°è·å–æ‰§è¡Œçš„SQLè¯­å¥å’Œå‚æ•° xormè‡ªèº«æ”¯æŒæ‰“å°æ‰§è¡Œçš„sqlè¯­å¥å’Œå‚æ•°ï¼Œå’±ä»¬ä½¿ç”¨LastSQL()å‡½æ•°æ‰“å°å‡ºä¸¤æ¬¡updateæ‰§è¡Œçš„sqlè¯­å¥ã€‚å¯ä»¥çœ‹å‡ºä½¿ç”¨mapæ—¶æŠŠtime.Nowè½¬æˆäº†æ ¼æ—å°¼æ²»æ ‡å‡†æ—¶é—´ã€‚\n// model UPDATE `time_test` SET `update_time` = ? WHERE (id = ?) [2023-07-21 11:03:13 1] // map UPDATE `time_test` SET `update_time` = ? WHERE (id = ?) [2023-07-21 03:03:13.760772475 +0800 CST m=+21.239008382 1] Updateæ–¹æ³•çš„å…·ä½“å®ç° ä¸ºä»€ä¹ˆä¼šå¾—åˆ°è¿™æ ·çš„ç»“æœå‘¢ï¼Œæ¥ä¸‹å°±å¾—çœ‹Updateæ–¹æ³•çš„å…·ä½“å®ç°äº†ï¼Œè¿™æ®µä»£ç è¿˜æ˜¯æŒºæ˜æ˜¾çš„ä½¿ç”¨struct modelæˆ–ä½¿ç”¨mapä¼šèµ°åˆ°ä¸¤ä¸ªä»£ç åˆ†æ”¯é‡Œã€‚\n// xorm.io/xorm@v1.0.5/session_update.go@Update() // 167 è¡Œ var isMap = t.Kind() == reflect.Map var isStruct = t.Kind() == reflect.Struct if isStruct { if err := session.statement.SetRefBean(bean); err != nil { return 0, err } if len(session.statement.TableName()) \u0026lt;= 0 { return 0, ErrTableNotFound } if session.statement.ColumnStr() == \u0026#34;\u0026#34; { colNames, args, err = session.statement.BuildUpdates(v, false, false, false, false, true) } else { colNames, args, err = session.genUpdateColumns(bean) } // ...\tå¯ä»¥çœ‹åˆ°mapçš„é€»è¾‘æ¯”è¾ƒç®€å•ï¼ŒæŠŠå‚æ•°æ‹¼åˆ°ä¸€ä¸ªinterfaceçš„æ•°ç»„ä¸­å°±ç»§ç»­å‘ä¸‹æ‰§è¡Œäº† æˆ‘ä»¬ç»§ç»­çœ‹ä¸‹æ›´æ–°å‚æ•°æ˜¯modelæ—¶æ€ä¹ˆå¤„ç†çš„SQLå‚æ•°ã€‚ å› ä¸ºæ²¡æœ‰è®¾ç½®db columnï¼Œè¿™é‡Œç»§ç»­æ‰§è¡Œçš„æ˜¯session.statement.BuildUpdatesï¼Œæ¥ä¸‹æ¥çœ‹BuildUpdateså‡½æ•°ï¼Œå¤„ç†Timeç±»å‹çš„å­—æ®µä»£ç å¦‚ä¸‹ï¼Œç”±äºä»£ç å¤ªé•¿è¿™é‡Œå°±åªè´´é‡ç‚¹é€»è¾‘çš„ä»£ç ã€‚ // xorm.io/xorm@v1.0.5/internal/statements/update.go@BuildUpdates() // 194è¡Œ case reflect.Struct: if fieldType.ConvertibleTo(schemas.TimeType) { t := fieldValue.Convert(schemas.TimeType).Interface().(time.Time) if !requiredField \u0026amp;\u0026amp; (t.IsZero() || !fieldValue.IsValid()) { continue } val = dialects.FormatColumnTime(statement.dialect, statement.defaultTimeZone, col, t) // ...\té€šè¿‡FormatColumnTimeå‡½æ•°å¯¹æ—¶é—´ç±»å‹çš„æ•°æ®è¿›è¡Œäº†æ ¼å¼åŒ–ï¼Œè¿™é‡ŒdefaultTimeZoneå®é™…å–çš„æ˜¯engine.DatabaseTZï¼Œxorm engine åœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œésqlite3ç±»å‹çš„æ•°æ®åº“DatabaseTZä¼šèµ‹å€¼æˆTime.Localï¼Œcol.TimeZoneæ˜¯åœ¨xormåˆå§‹åŒ–çš„æ—¶å€™é€šè¿‡è¿æ¥ä¸²çš„urlå‚æ•°è®¾ç½®çš„ä¾‹å¦‚ï¼šroot:root@tcp(127.0.0.1:3306)/test?charset=utf8\u0026amp;parseTime=true\u0026amp;loc=Localï¼Œæœ¬æ–‡demoé‡Œåˆå§‹åŒ–çš„æ—¶å€™æ²¡æœ‰è®¾ç½®ï¼Œæ‰€ä»¥é»˜è®¤ä½¿ç”¨çš„engine.DatabaseTZä¹Ÿå°±æ˜¯time.Localä½¿ç”¨çš„æœåŠ¡å™¨æ‰€åœ¨æ—¶åŒºã€‚\n// xorm.io/xorm@v1.0.5/dialects/time.go@FormatColumnTime() // 37è¡Œ func FormatColumnTime(dialect Dialect, defaultTimeZone *time.Location, col *schemas.Column, t time.Time) (v interface{}) { if t.IsZero() { if col.Nullable { return nil } return \u0026#34;\u0026#34; } if col.TimeZone != nil { return FormatTime(dialect, col.SQLType.Name, t.In(col.TimeZone)) } return FormatTime(dialect, col.SQLType.Name, t.In(defaultTimeZone)) } ä»¥ä¸Šå¯ä»¥å¾—åˆ°ä½¿ç”¨modelè¿›è¡Œæ›´æ–°æ—¶ï¼Œæ—¥æœŸæ—¶é—´ç±»å‹çš„å‚æ•°ä¼šè¢«è½¬æˆæœåŠ¡å™¨æ‰€åœ¨æ—¶åŒºçš„æ—¶é—´ã€‚\nSQL driveræ‰§è¡Œæ›´æ–°å‰å¯¹å‚æ•°çš„å¤„ç† ä¸‹é¢ç»§ç»­çœ‹mapä¸­æ—¥æœŸæ—¶å¦‚ä½•å¤„ç†çš„ï¼ŒUpdateå‡½æ•°ä¸­æ‹¼æ¥å®Œå‚æ•°argsåï¼Œæœ€ç»ˆæ‰§è¡Œçš„æ˜¯session.exec()ï¼Œç»§ç»­å¾€ä¸‹æœ€ç»ˆæ‰§è¡Œçš„å„è‡ªSQLç±»å‹å¯¹åº”çš„å…·ä½“å®ç°ï¼Œè¿™é‡Œç”¨çš„æ˜¯MySQLä¸‹é¢çœ‹MySQLæœ€ç»ˆæ‰§è¡Œçš„å…·ä½“å®ç°github.com/go-sql-driver/mysql@v1.5.0/connection.goï¼Œå¯ä»¥æ‰¾åˆ°æ˜¯è¿™ä¸ªå‡½æ•°interpolateParamså¤„ç†çš„SQLå‚æ•°ï¼Œå¯¹æ—¶é—´çš„å¤„ç†é€»è¾‘å¦‚ä¸‹ï¼š\n// github.com/go-sql-driver/mysql@v1.5.0/connection.go@interpolateParams() // 229è¡Œ case time.Time: if v.IsZero() { buf = append(buf, \u0026#34;\u0026#39;0000-00-00\u0026#39;\u0026#34;...) } else { v := v.In(mc.cfg.Loc) v = v.Add(time.Nanosecond * 500) // To round under microsecond // ...\tè¿™é‡Œå–äº†TimeZoneå–äº†mc.cfg.Locï¼Œxorm engineè¿›è¡Œåˆå§‹åŒ–çš„æ—¶å€™ä¼šåˆ›å»ºdb è¿æ¥ï¼Œå°±æ˜¯ä¸‹é¢ä»£ç é‡Œçš„Openæ–¹æ³•ã€‚\n// xorm.io/xorm@v1.0.5/engine.go@NewEngine() // 53è¡Œ func NewEngine(driverName string, dataSourceName string) (*Engine, error) { dialect, err := dialects.OpenDialect(driverName, dataSourceName) if err != nil { return nil, err } db, err := core.Open(driverName, dataSourceName) if err != nil { return nil, err } ç‚¹åˆ°Openæ–¹æ³•å†…ï¼Œç»§ç»­å¾€ä¸‹å¯ä»¥æ‰¾åˆ°MySQLDriveråˆ›å»ºè¿æ¥çš„å®ç°ï¼Œå¯ä»¥çœ‹åˆ°è¿™é‡Œè¿›è¡Œäº†é…ç½®çš„åˆå§‹åŒ–ï¼Œcfgæ˜¯é€šè¿‡è§£ædsnè¿æ¥ä¸²é‡Œå‚æ•°åˆå§‹åŒ–çš„ã€‚ç»§ç»­ç‚¹è¿›ParseDSNå‡½æ•°çœ‹åˆ°cfgé»˜è®¤åˆå§‹åŒ–å‡½æ•°NewConfigå°†Locèµ‹å€¼æˆäº†æ ¼æ—å°¼æ²»æ ‡å‡†æ—¶é—´time.UTCï¼Œåˆå§‹åŒ–xorm engineçš„æ—¶å€™dbè¿æ¥ä¸²æ²¡æœ‰è®¾ç½®Locå¯¼è‡´è¿™é‡ŒMySQL driveræŠŠæ—¶åŒºè®¾ç½®æˆäº†UTCã€‚\n// github.com/go-sql-driver/mysql@v1.5.0/driver.go@OpenConnector() // 98è¡Œ // OpenConnector implements driver.DriverContext. func (d MySQLDriver) OpenConnector(dsn string) (driver.Connector, error) { cfg, err := ParseDSN(dsn) if err != nil { return nil, err } return \u0026amp;connector{ cfg: cfg, }, nil } // github.com/go-sql-driver/mysql@v1.5.0/dsn.go@ParseDSN() // 290è¡Œ // ParseDSN parses the DSN string to a Config func ParseDSN(dsn string) (cfg *Config, err error) { // New config with some default values cfg = NewConfig() ã€‚ã€‚ã€‚ // github.com/go-sql-driver/mysql@v1.5.0/dsn.go@ParseDSN() // 64è¡Œ // NewConfig creates a new Config and sets default values. func NewConfig() *Config { return \u0026amp;Config{ Collation: defaultCollation, Loc: time.UTC, MaxAllowedPacket: defaultMaxAllowedPacket, AllowNativePasswords: true, CheckConnLiveness: true, } }\tç»“è®º æ‰¾åˆ°è¿™é‡Œä¹Ÿå°±æ‰¾åˆ°ç­”æ¡ˆäº†ï¼Œä¸ºä»€ä¹ˆé€šè¿‡mapæ›´æ–°çš„æ—¥æœŸæ—¶é—´æ˜¯UTCæ—¶é—´ï¼Œé€šè¿‡model structæ›´æ–°çš„æ—¶é—´æ˜¯æœåŠ¡å™¨æœ¬åœ°æ—¶é—´ï¼Œå› ä¸ºmapé‡Œçš„æ›´æ–°å‚æ•°æ˜¯æœ€ç»ˆSQL Driverè¿›è¡Œè§£ææ ¼å¼åŒ–çš„ï¼Œmodel structæ˜¯xormå…ˆè¿›è¡Œäº†å‚æ•°æ ¼å¼åŒ–ï¼Œä¸¤è€…åˆå§‹åŒ–çš„é»˜è®¤æ—¶åŒºä¸ä¸€æ ·å¯¼è‡´æ—¥æœŸæ—¶é—´å‚æ•°æ ¼å¼åŒ–çš„ç»“æœä¸ä¸€æ ·ã€‚ æœ€åä¸ºäº†é¿å…è¿™ç§é—®é¢˜ï¼Œæœ€å¥½æ˜¯åœ¨åˆå§‹åŒ–è¿æ¥çš„æ—¶å€™åœ¨dsné‡Œæ˜¾ç¤ºè®¾ç½®Locï¼Œè¿™æ ·xormå’ŒSQL driverå°±éƒ½æ˜¯ç”¨çš„æ˜¾ç¤ºè®¾ç½®çš„è¿™ä¸ªäº†ã€‚\n","permalink":"https://www.mfun.ink/2023/07/29/xorm-update-time/","summary":"\u003cp\u003eæœ€è¿‘ä½¿ç”¨xormæ›´æ–°dbçš„æ—¶å€™ç¢°åˆ°ä¸€ä¸ªæŒºæœ‰æ„æ€çš„é—®é¢˜ï¼Œdbä¸­å­—æ®µç±»å‹æ˜¯æ—¥æœŸdatetimeï¼Œå¯¹åº”go modelä¸­çš„å­—æ®µæ˜¯time.Timeç±»å‹ï¼Œåœ¨åˆ†åˆ«ä½¿ç”¨modelå’Œmapä¸¤ç§æ–¹å¼è¿›è¡Œæ›´æ–°æ—¶ï¼Œä½¿ç”¨modelçš„æ–¹å¼æ›´æ–°èƒ½å¾—åˆ°æ­£ç¡®ç»“æœï¼Œdbä¸­çš„æ—¥æœŸèƒ½è¢«æ›´æ–°æˆå½“åœ°æ—¶é—´ï¼›ä½¿ç”¨map kvçš„æ–¹å¼è¿›è¡Œæ›´æ–°æ—¶dbä¸­çš„å­—æ®µè¢«æ›´æ–°æˆäº†æ ¼æ—å°¼æ²»æ ‡å‡†æ—¶é—´ã€‚éƒ½æ˜¯å–çš„go time.Nowä¸ºä»€ä¹ˆæ›´æ–°ç»“æœä¸ä¸€æ ·å‘¢ï¼Ÿ\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;\"\u003e\u003ccode class=\"language-Go\" data-lang=\"Go\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e// demo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003etype\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eTimeTest\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003estruct\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a6e22e\"\u003eID\u003c/span\u003e         \u003cspan style=\"color:#66d9ef\"\u003eint64\u003c/span\u003e     \u003cspan style=\"color:#e6db74\"\u003e`xorm:\u0026#34;not null pk autoincr INT(11) \u0026#39;id\u0026#39;\u0026#34;`\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a6e22e\"\u003eUpdateTime\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eTime\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e`xorm:\u0026#34;update_time\u0026#34;`\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efunc\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eUpdateTime\u003c/span\u003e(\u003cspan style=\"color:#a6e22e\"\u003eo\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003exorm\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eSession\u003c/span\u003e) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a6e22e\"\u003eo\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eTable\u003c/span\u003e(new(\u003cspan style=\"color:#a6e22e\"\u003eTimeTest\u003c/span\u003e)).\u003cspan style=\"color:#a6e22e\"\u003eWhere\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;id = ?\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e).\u003cspan style=\"color:#a6e22e\"\u003eUpdate\u003c/span\u003e(\u003cspan style=\"color:#f92672\"\u003e\u0026amp;\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003eTimeTest\u003c/span\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#a6e22e\"\u003eUpdateTime\u003c/span\u003e: \u003cspan style=\"color:#a6e22e\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eNow\u003c/span\u003e(),\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t})\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\u003cspan style=\"color:#a6e22e\"\u003eo\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eTable\u003c/span\u003e(new(\u003cspan style=\"color:#a6e22e\"\u003eTimeTest\u003c/span\u003e)).\u003cspan style=\"color:#a6e22e\"\u003eWhere\u003c/span\u003e(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;id = ?\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e).\u003cspan style=\"color:#a6e22e\"\u003eUpdate\u003c/span\u003e(\u003cspan style=\"color:#66d9ef\"\u003emap\u003c/span\u003e[\u003cspan style=\"color:#66d9ef\"\u003estring\u003c/span\u003e]\u003cspan style=\"color:#66d9ef\"\u003einterface\u003c/span\u003e{}{\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t\t\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;update_time\u0026#34;\u003c/span\u003e: \u003cspan style=\"color:#a6e22e\"\u003etime\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003eNow\u003c/span\u003e(),\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\t})\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"xormä½¿ç”¨map kvæ›´æ–°æ—¥æœŸæ—¶é—´ç±»å‹å­—æ®µçš„æ—¶åŒºé—®é¢˜"},{"content":"åˆ†å¸ƒå¼é”ä¸»è¦è§£å†³åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¹¶å‘æ›´æ–°å®‰å…¨é—®é¢˜ï¼Œå•æœºæœåŠ¡çš„è¯å¾ˆç®€å•ç›´æ¥ä½¿ç”¨è¯­è¨€è‡ªèº«çš„é”å°±å¯ä»¥äº†ï¼Œç°åœ¨éšä¾¿ä¸€ä¸ªæœåŠ¡åŸºæœ¬ä¸Šéƒ½æ˜¯å¤šå°æœºå™¨éƒ¨ç½²çš„ï¼Œåªæ˜¯è¯­è¨€è‡ªèº«çš„é”å°±ä¸æ»¡è¶³éœ€æ±‚äº†ï¼Œå› ä¸ºå®ƒåªèƒ½é”æœ¬å°æœºå™¨ï¼Œç®¡ä¸äº†å…¶ä»–æœºå™¨ï¼Œè¿™æ—¶å€™å°±éœ€è¦åˆ†å¸ƒå¼é”äº†ï¼Œä¸‹é¢ä»‹ç»ä¸‹åŸºäºredisåˆ†å¸ƒå¼é”çš„å®ç°ã€‚\nä»¥ä¸‹æ˜¯ä½¿ç”¨ Lua è„šæœ¬å®ç°çš„ Redis åˆ†å¸ƒå¼é”ç¤ºä¾‹ï¼Œä½¿ç”¨luaè„šæœ¬æ˜¯ä¸ºäº†ä¿è¯å¤šä¸ªæŒ‡ä»¤æ‰§è¡Œçš„åŸå­æ€§ã€‚\nåŠ é”è„šæœ¬ if redis.call(\u0026#39;setnx\u0026#39;, KEYS[1], ARGV[1]) == 1 then return redis.call(\u0026#39;expire\u0026#39;, KEYS[1], ARGV[2]) else return 0 end è¿™ä¸ªè„šæœ¬ä¼šå°è¯•ç»™æŒ‡å®šçš„keyåŠ é”ã€‚å¦‚æœåŠ é”æˆåŠŸï¼Œè¿”å›1ï¼›å¦‚æœkeyå·²ç»å­˜åœ¨ï¼ŒåŠ é”å¤±è´¥ï¼Œè¿”å›0ã€‚PXæŒ‡çš„æ˜¯æ¯«ç§’çº§åˆ«çš„keyè¿‡æœŸæ—¶é—´ï¼Œæ¢æˆEXåˆ™æ˜¯ç§’çº§æ—¶é—´ï¼Œå¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨ã€‚è¿™é‡Œä¸ºä»€ä¹ˆè¦åŠ è¿‡æœŸæ—¶é—´ï¼Œå¯ä¸å¯ä»¥åªä½¿ç”¨ SETNXï¼Ÿä¸ºäº†é˜²æ­¢é‡Šæ”¾é”è„šæœ¬æ‰§è¡Œå¤±è´¥ï¼ŒåŠ ä¸Šè¿‡æœŸæ—¶é—´å¯ä»¥å½“é”é‡Šæ”¾å¤±è´¥çš„æ—¶å€™ï¼Œç­‰é”è‡ªåŠ¨è¿‡æœŸä¸å½±å“ä¸‹æ¬¡è·å–é”ï¼Œé˜²æ­¢æ­»é”ã€‚è¿‡æœŸæ—¶é—´é•¿çŸ­æ ¹æ®é”æœŸé—´çš„ä¸šåŠ¡é€»è¾‘æ‰§è¡Œæ—¶é—´æ¥ç¡®å®šï¼Œæ¯”è¿™ä¸ªæ—¶é—´ç¨é•¿ã€‚ ä¸Šé¢luaåŠ é”è„šæœ¬ç”¨èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒç¹ççš„ï¼Œå®é™…ä¸Šredis 2.6.12ç‰ˆæœ¬æ”¯æŒsetå‘½ä»¤è®¾ç½®nxã€exå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨setå‘½ä»¤å®ŒæˆåŠ é”set [key] [val] px [expire_val] nxï¼Œæ›´åŠ ç®€æ´æ–¹ä¾¿ã€‚\né‡Šæ”¾é”è„šæœ¬ if redis.call(\u0026#34;get\u0026#34;, KEYS[1]) == ARGV[1] then return redis.call(\u0026#34;del\u0026#34;, KEYS[1]) else return 0 end è¿™ä¸ªè„šæœ¬ä¼šå°è¯•é‡Šæ”¾æŒ‡å®šçš„keyå¯¹åº”çš„é”ã€‚å¦‚æœkeyä¸å­˜åœ¨æˆ–è€…keyå¯¹åº”çš„é”å€¼ä¸ä¼ å…¥çš„é”å€¼ä¸åŒ¹é…ï¼Œé‡Šæ”¾é”å¤±è´¥ï¼Œè¿”å›0ï¼›å¦åˆ™ï¼Œé‡Šæ”¾é”æˆåŠŸï¼Œè¿”å›1ã€‚è¿™é‡Œå€¼ä¸åŒ¹é…è¯´æ˜é”å·²ç»è¢«é‡æ–°è·å–äº†ã€‚\nä½¿ç”¨è¿™ä¸¤ä¸ªè„šæœ¬æ—¶ï¼Œéœ€è¦ä½¿ç”¨ Redis çš„ EVAL å‘½ä»¤ï¼ˆæˆ–ç±»ä¼¼å‘½ä»¤ï¼Œå¦‚ evalshaï¼‰åœ¨ Redis æœåŠ¡å™¨ä¸Šæ‰§è¡Œã€‚å¦å¤–ï¼Œå°½ç®¡ä½¿ç”¨ Lua è„šæœ¬å¯ä»¥æé«˜åˆ†å¸ƒå¼é”çš„å¯é æ€§ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ Redis ä¸»ä»åˆ‡æ¢ï¼‰ä»å¯èƒ½å¯¼è‡´é”å‡ºç°é—®é¢˜ã€‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œé™¤éå¿…é¡»ï¼Œå¦åˆ™å°½é‡é¿å…ä½¿ç”¨åˆ†å¸ƒå¼é”ã€‚\ngo ä»£ç ä½¿ç”¨ç¤ºä¾‹ package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/go-redis/redis/v8\u0026#34; \u0026#34;log\u0026#34; \u0026#34;time\u0026#34; ) const LockScript = `if redis.call(\u0026#39;setnx\u0026#39;, KEYS[1], ARGV[1]) == 1 then return redis.call(\u0026#39;expire\u0026#39;, KEYS[1], ARGV[2]) else return 0 end` const unlockScript = `if redis.call(\u0026#34;get\u0026#34;, KEYS[1]) == ARGV[1] then return redis.call(\u0026#34;del\u0026#34;, KEYS[1]) else return 0 end` func main() { // åˆå§‹åŒ– Redis å®¢æˆ·ç«¯ redisClient := redis.NewClient(\u0026amp;redis.Options{ Addr: \u0026#34;localhost:6379\u0026#34;, }) // é”çš„ Key å’Œ Value lockKey := \u0026#34;my_lock\u0026#34; lockValue := \u0026#34;unique_value\u0026#34; lockExpire := 5000 // é”çš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½ï¼šæ¯«ç§’ var ctx = context.Background() defer func() { // å°è¯•é‡Šæ”¾é” if releaseLock(ctx, redisClient, lockKey, lockValue) { fmt.Println(\u0026#34;é‡Šæ”¾é”æˆåŠŸ\u0026#34;) return } fmt.Println(\u0026#34;é‡Šæ”¾é”å¤±è´¥ï¼Œå¯èƒ½å·²ç»è¿‡æœŸæˆ–è€…è¢«å…¶ä»–å®¢æˆ·ç«¯è·å–\u0026#34;) }() // å°è¯•åŠ é” if acquireLock(ctx, redisClient, lockKey, lockValue, time.Duration(lockExpire)) { fmt.Println(\u0026#34;åŠ é”æˆåŠŸï¼Œå¼€å§‹æ‰§è¡Œä¸šåŠ¡é€»è¾‘\u0026#34;) // æ¨¡æ‹Ÿä¸šåŠ¡é€»è¾‘è€—æ—¶ time.Sleep(3 * time.Second) fmt.Println(\u0026#34;ä¸šåŠ¡é€»è¾‘å¤„ç†å®Œæˆï¼Œé‡Šæ”¾é”\u0026#34;) return } fmt.Println(\u0026#34;è·å–é”å¤±è´¥\u0026#34;) } // acquireLockByScript ä½¿ç”¨lua è„šæœ¬è·å–é” func acquireLockByScript(ctx context.Context, redisCli *redis.Client, lockKey, lockValue string, lockExpire int) bool { res, err := redisCli.Eval(ctx, LockScript, []string{lockKey}, lockValue, lockExpire).Int64() if err != nil { fmt.Println(\u0026#34;ac err\u0026#34;, err) return false } return res == 1 } // acquireLock ä½¿ç”¨set ex nx è·å–é” func acquireLock(ctx context.Context, redisCli *redis.Client, lockKey, lockValue string, lockExpire time.Duration) bool { ac, err := redisCli.SetNX(ctx, lockKey, lockValue, lockExpire*time.Millisecond).Result() if err != nil { fmt.Println(\u0026#34;ac err\u0026#34;, err) return false } return ac } // releaseLock å°è¯•é‡Šæ”¾åˆ†å¸ƒå¼é” func releaseLock(ctx context.Context, redisCli *redis.Client, lockKey, lockValue string) bool { result, err := redisCli.Eval(ctx, unlockScript, []string{lockKey}, lockValue).Int64() if err != nil { log.Fatalf(\u0026#34;é‡Šæ”¾é”å¤±è´¥ï¼š%v\u0026#34;, err) } return result == 1 } ","permalink":"https://www.mfun.ink/2023/06/03/redis-lua-lock/","summary":"\u003cp\u003eåˆ†å¸ƒå¼é”ä¸»è¦è§£å†³åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¹¶å‘æ›´æ–°å®‰å…¨é—®é¢˜ï¼Œå•æœºæœåŠ¡çš„è¯å¾ˆç®€å•ç›´æ¥ä½¿ç”¨è¯­è¨€è‡ªèº«çš„é”å°±å¯ä»¥äº†ï¼Œç°åœ¨éšä¾¿ä¸€ä¸ªæœåŠ¡åŸºæœ¬ä¸Šéƒ½æ˜¯å¤šå°æœºå™¨éƒ¨ç½²çš„ï¼Œåªæ˜¯è¯­è¨€è‡ªèº«çš„é”å°±ä¸æ»¡è¶³éœ€æ±‚äº†ï¼Œå› ä¸ºå®ƒåªèƒ½é”æœ¬å°æœºå™¨ï¼Œç®¡ä¸äº†å…¶ä»–æœºå™¨ï¼Œè¿™æ—¶å€™å°±éœ€è¦åˆ†å¸ƒå¼é”äº†ï¼Œä¸‹é¢ä»‹ç»ä¸‹åŸºäºredisåˆ†å¸ƒå¼é”çš„å®ç°ã€‚\u003c/p\u003e","title":"redisåˆ†å¸ƒå¼é”"},{"content":"hexoç‰ˆæœ¬å‡çº§è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œå…ˆåˆ‡åˆ°hexoç›®å½•ï¼Œä½¿ç”¨npm i hexo-cli -gå‡çº§å…¨å±€hexoï¼Œæ¥ä¸‹æ¥å†ä½¿ç”¨npm-checkã€npm-upgrade,npm-updateå‡çº§ç›¸å…³ä¾èµ–ã€‚\næ­£å¼å‡çº§å‰ä½¿ç”¨hexo versionæŸ¥çœ‹ä¸‹å½“å‰ç‰ˆæœ¬ï¼š\n$ hexo version INFO Validating config INFO ================================== â–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â• â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â•šâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â• â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘ â•šâ•â• â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â• â•šâ•â• â•šâ•â• ======================================== NexT version 8.13.1 Documentation: https://theme-next.js.org ======================================== hexo: 5.4.2 hexo-cli: 4.3.0 os: darwin 22.1.0 13.0.1 node: 12.14.1 v8: 7.7.299.13-node.16 uv: 1.33.1 zlib: 1.2.11 brotli: 1.0.7 ares: 1.15.0 modules: 72 nghttp2: 1.40.0 napi: 5 llhttp: 2.0.1 http_parser: 2.8.0 openssl: 1.1.1d cldr: 35.1 icu: 64.2 tz: 2019c unicode: 12.1 ä½¿ç”¨npm i hexo-cli -gå‡çº§å…¨å±€hexo\n$ npm i hexo-cli -g npm WARN EBADENGINE Unsupported engine { npm WARN EBADENGINE package: \u0026#39;hexo-cli@4.3.1\u0026#39;, npm WARN EBADENGINE required: { node: \u0026#39;\u0026gt;=14\u0026#39; }, npm WARN EBADENGINE current: { node: \u0026#39;v12.14.1\u0026#39;, npm: \u0026#39;8.19.2\u0026#39; } npm WARN EBADENGINE } npm WARN EBADENGINE Unsupported engine { npm WARN EBADENGINE package: \u0026#39;abbrev@2.0.0\u0026#39;, npm WARN EBADENGINE required: { node: \u0026#39;^14.17.0 || ^16.13.0 || \u0026gt;=18.0.0\u0026#39; }, npm WARN EBADENGINE current: { node: \u0026#39;v12.14.1\u0026#39;, npm: \u0026#39;8.19.2\u0026#39; } npm WARN EBADENGINE } ... é€šè¿‡è¾“å‡ºå†…å®¹å‘ç°nodeç‰ˆæœ¬è¿‡ä½å¯¼è‡´å‡çº§å¤±è´¥ï¼Œæ‰€ä»¥å…ˆå‡çº§nodeç‰ˆæœ¬ï¼Œéœ€è¦çš„æœ€ä½nodeç‰ˆæœ¬æ˜¯v14.17.0ï¼Œç›´æ¥nvm install v14.17.0å‡çº§nodeï¼Œå‡çº§å®Œæˆåå†æ¬¡æ‰§è¡Œnpm i hexo-cli -gã€‚å†æ¬¡æ‰§è¡Œhexo versonå°±å¯ä»¥çœ‹åˆ°å‡çº§åˆ°6.3.0ç‰ˆæœ¬äº†ã€‚\n$ hexo version INFO Validating config hexo: 6.3.0 hexo-cli: 4.3.1 os: darwin 22.1.0 13.0.1 node: 16.20.0 v8: 9.4.146.26-node.26 uv: 1.43.0 zlib: 1.2.11 brotli: 1.0.9 ares: 1.19.0 modules: 93 nghttp2: 1.47.0 napi: 8 llhttp: 6.0.10 openssl: 1.1.1t+quic cldr: 41.0 icu: 71.1 tz: 2022f unicode: 14.0 ngtcp2: 0.8.1 nghttp3: 0.7.0 æ¥ä¸‹æ¥ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å‡çº§ä¾èµ–åŒ…ï¼š\n# å®‰è£…npm-check å¦‚æœä¹‹å‰å®‰è£…è¿‡å¯ä»¥è·³è¿‡ $ npm install -g npm-check # æ£€æŸ¥éœ€è¦å‡çº§çš„ä¾èµ– $ npm-check # å®‰è£…npm-upgrade å¦‚æœä¹‹å‰å®‰è£…è¿‡å¯ä»¥è·³è¿‡ $ npm install -g npm-upgrade # æ›´æ–°package.json $ npm-upgrade # æ›´æ–°ä¾èµ– $ npm update --save å‡çº§å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨hexo cleanã€hexo gã€hexo sçœ‹ä¸‹æ•ˆæœï¼Œå¦‚æœä¸€åˆ‡æ­£å¸¸é‚£ä¹ˆæ­å–œå‡çº§æˆåŠŸäº†ã€‚éå¸¸ä¸å¹¸æ¥¼ä¸»è¿™é‡Œæ‰§è¡Œhexo cleanç›´æ¥æŠ¥ä¸‹é¢è¿™ä¸ªé”™è¯¯:\n$ hexo clean INFO Validating config ERROR Script load failed: node_modules/hexo-theme-next/scripts/helpers/engine.js Error: Cannot find module \u0026#39;css\u0026#39; Require stack: - /Users/vector/dev/book/hexotest/node_modules/hexo-theme-next/scripts/events/lib/utils.js - /Users/vector/dev/book/hexotest/node_modules/hexo-theme-next/scripts/helpers/engine.js at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1026:15) at Function.Module._load (node:internal/modules/cjs/loader:871:27) at Module.require (node:internal/modules/cjs/loader:1098:19) at require (node:internal/modules/cjs/helpers:108:18) at Object.\u0026lt;anonymous\u0026gt; (/Users/vector/dev/book/hexotest/node_modules/hexo-theme-next/scripts/events/lib/utils.js:5:13) ... é€šè¿‡æŠ¥é”™ä¿¡æ¯å¾—çŸ¥ï¼Œæ‰¾ä¸åˆ°cssmoduleï¼Œç›´æ¥å°è¯•å®‰è£…npm install cssï¼Œå®‰è£…æˆåŠŸåå†æ¬¡æ‰§è¡Œhexo cleanæˆåŠŸäº†ï¼ŒçœŸæ£’ï¼Œè¿˜å¥½ä¸æ˜¯å…¶ä»–ç¨€å¥‡å¤æ€ªçš„é—®é¢˜ï¼Œä¸ç„¶å°±å¤ªä¸ºéš¾æ¥¼ä¸»è¿™ä¸ªnodeæ¸£æ¸£äº†ã€‚\n","permalink":"https://www.mfun.ink/2023/05/21/hexo-upgrade/","summary":"\u003cp\u003ehexoç‰ˆæœ¬å‡çº§è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œå…ˆåˆ‡åˆ°hexoç›®å½•ï¼Œä½¿ç”¨\u003ccode\u003enpm i hexo-cli -g\u003c/code\u003eå‡çº§å…¨å±€hexoï¼Œæ¥ä¸‹æ¥å†ä½¿ç”¨\u003ccode\u003enpm-check\u003c/code\u003eã€\u003ccode\u003enpm-upgrade\u003c/code\u003e,\u003ccode\u003enpm-update\u003c/code\u003eå‡çº§ç›¸å…³ä¾èµ–ã€‚\u003c/p\u003e","title":"hexoç‰ˆæœ¬å‡çº§"},{"content":"ä¸Šä¸€ç¯‡æ–‡ç« è®°å½•äº†trojançš„å®‰è£…è¿‡ç¨‹ï¼Œä½†æ˜¯ä½¿ç”¨è¿‡ç¨‹å‘ç°443ç«¯å£è¢«trojanæœåŠ¡å ç”¨åï¼Œå°±ä¸å¥½éƒ¨ç½²ä¸€äº›è‡ªå·±çš„æœåŠ¡ç½‘ç«™äº†ã€‚æ¯”å¦‚æˆ‘æƒ³å®ç°ä¸€ä¸ªåœ¨çº¿jsonè§£æçš„é¡µé¢ï¼Œå¹¶ç»™è¿™ä¸ªé¡µé¢ç”³è¯·ä¸ªå­åŸŸåjson.mfun.inkï¼Œç”±äº443ç«¯å£å·²ç»è¢«å ç”¨ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥ä½¿ç”¨nginxç»™json.mfun.inkåœ¨443ç«¯å£ä¸Šé…ç½®sslã€‚é‚£è¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡nginxçš„æµ(stream)ä»£ç†è½¬å‘443ç«¯å£çš„æµé‡ã€‚æŠŠtrojançš„æµé‡è½¬å‘ç»™trojanæœåŠ¡ï¼ŒæŠŠå…¶ä»–httpsåŸŸåçš„æµé‡è½¬å‘ç›¸åº”çš„httpsæœåŠ¡ã€‚\né¦–å…ˆï¼Œ443ç«¯å£è¦ç»™nginxç”¨ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹trojan-goæœåŠ¡çš„ç«¯å£ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶/etc/trojan/conf/server.jsonçš„local_portå­—æ®µéšä¾¿æ”¹æˆä¸€ä¸ªæœªè¢«ä½¿ç”¨çš„ç«¯å£ï¼Œæ¯”å¦‚è¿™é‡Œæ”¹æˆ8089ã€‚è¿™é‡Œçš„é…ç½®æ–‡ä»¶è·¯å¾„ä»¥åŠä¸‹æ–‡ä¸­çš„éƒ½æ˜¯ä¸Šç¯‡æ–‡ç« trojan-go å®‰è£…é…ç½®ä¸­ä»‹ç»çš„ä¸€é”®è„šæœ¬é»˜è®¤å®‰è£…çš„è·¯å¾„ï¼Œå¦‚æœä¸æ˜¯ä½¿ç”¨çš„è¿™ä¸ªè„šæœ¬å¯ä»¥æ ¹æ®è‡ªå·±å®‰è£…éƒ¨ç½²æ—¶çš„é…ç½®æ–‡ä»¶è·¯å¾„è¿›è¡Œæ›´æ”¹ã€‚\næ¥ä¸‹æ¥ä¿®æ”¹nginxé…ç½®æ–‡ä»¶/etc/nginx/conf/nginx.confï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸‹æ–¹æ·»åŠ streamæµè½¬å‘é…ç½®ï¼š\nstream { map $ssl_preread_server_name $name { json.xxx.com json; default trojan; } upstream json { server json.xxx.com:8088; } upstream trojan { server xxx.com:8089; } server { listen 443; proxy_connect_timeout 5s; proxy_timeout 20s; proxy_pass $name; ssl_preread on; } } è¿™æ ·å°±æŠŠæ¥è‡ª https://json.xxx.com çš„æµé‡è½¬å‘åˆ°äº† json.xxx.com:8088 ä¸Šï¼ŒæŠŠå…¶ä»–åŸŸåçš„443ç«¯å£çš„æµé‡è½¬å‘ç»™äº†trojanæœåŠ¡ã€‚è¿™ä¸ªé…ç½®å°±æ˜¯æŒ‡trojanåœ¨8089ç«¯å£å¯åŠ¨äº†æœåŠ¡ï¼Œé‚£æˆ‘ä»¬çš„ json.xxx.com åœ¨8088ç«¯å£ä¸Šä¹Ÿè¦å¼€å¯æœåŠ¡ï¼Œè¿™æ˜¯æ ‡å‡†çš„http webé¡µé¢ç›´æ¥åœ¨nginx httpä¸‹æ·»åŠ é…ç½®å³å¯ã€‚\nserver { listen 8808 ssl; server_name json.xxx.com; ssl_certificate /data/json.xxx.com/fullchain.cer; ssl_certificate_key /data/json.xxx.com/private.key; ssl_session_cache shared:SSL:1m; ssl_session_timeout 5m; # ssl_ciphers HIGH:!aNULL:!MD5; # ssl_prefer_server_ciphers on; location / { root /usr/www/json; index index.html index.htm; } } ä»¥ä¸Šä¿®æ”¹å®Œtrojanå’Œnginxçš„é…ç½®åéƒ½å¯ä»¥ä½¿ç”¨è„šæœ¬/etc/trojan_mgr.shæ¥é‡å¯ç›¸åº”æœåŠ¡\n./etc/trojan_mgr.sh ==================================================================== æ£€æµ‹åˆ°æ‚¨å½“å‰å®‰è£…çš„æ˜¯Nginx + Trojan-go + Tls ==================================================================== 1. åœæ­¢trojan-go 2. é‡å¯trojan-go ==================================================================== 3. ä¿®æ”¹trojan-goå¯†ç  4. åœæ­¢nginx ==================================================================== 5. é‡å¯nginx 6.å¯ç”¨websocketåè®® ==================================================================== 7.ç¦ç”¨websocketåè®® 8. æŸ¥è¯¢è¯ä¹¦æœ‰æ•ˆæœŸå‰©ä½™å¤©æ•° ==================================================================== 9. æ›´æ–°è¯ä¹¦æœ‰æ•ˆæœŸ 10. å¯ç”¨å¤šè·¯å¤ç”¨ ==================================================================== 11. ç¦ç”¨å¤šè·¯å¤ç”¨ 12. ä¿®æ”¹trojanç«¯å£ ==================================================================== 0. å•¥ä¹Ÿä¸åšï¼Œé€€å‡º ==================================================================== è¯·è¾“å…¥æ•°å­—ï¼š2 å¦‚æœæ˜¯ä½¿ç”¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­çš„ä¸€é”®å®‰è£…è„šæœ¬éƒ¨ç½²å®‰è£…çš„nginxä¼šå› ä¸ºç¼ºå°‘äº†streamã€stream_ssl_preread_moduleä¸¤ä¸ªmoduleå¯åŠ¨å¤±è´¥ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦é‡æ–°ç¼–è¯‘å®‰è£…nginxï¼ŒåŠ ä¸Šè¿™ä¸¤ä¸ªmoduleã€‚\nwget -nc --no-check-certificate http://nginx.org/download/nginx-1.18.0.tar.gz -P /usr/local/src wget -nc --no-check-certificate https://www.openssl.org/source/openssl-1.1.1g.tar.gz -P /usr/local/src cd /usr/local/src tar -zxvf nginx-1.18.0.tar.gz tar -zxvf openssl-1.1.1g.tar.gz cd nginx-1.18.0 ./configure --prefix=/etc/nginx \\ --with-http_ssl_module \\ --with-http_gzip_static_module \\ --with-http_stub_status_module \\ --with-pcre \\ --with-http_realip_module \\ --with-http_flv_module \\ --with-http_mp4_module \\ --with-http_secure_link_module \\ --with-http_v2_module \\ --with-cc-opt=\u0026#39;-O3\u0026#39; \\ --with-ld-opt=\u0026#34;-ljemalloc\u0026#34; \\ --with-openssl=../openssl-1.1.1g \\ --with-stream \\ --with-stream_ssl_preread_module make \u0026amp;\u0026amp; make install å®‰è£…å®Œæˆåé‡å¯nginxå°±å¯ä»¥äº†ã€‚\né€šè¿‡è¿™ç§æ–¹å¼æˆ‘ä»¬å¯ä»¥é…ç½®å¤šä¸ªhttpså­åŸŸåå¯¹åº”ä¸åŒçš„httpsæœåŠ¡ï¼Œè€Œä¸”éƒ½ç»Ÿä¸€èµ°443ç«¯å£ï¼Œä¹Ÿå¯ä»¥å¼€å¯æ›´å¤šçš„trojanæœåŠ¡è¿›ç¨‹å¯¹åº”ä¸åŒçš„åŸŸåï¼Œæœ€ä¸ºé‡è¦çš„æ˜¯å› ä¸ºç»Ÿä¸€èµ°çš„443ç«¯å£ï¼Œä¸ä¼šå½±å“trojançš„httpsä¼ªè£…ã€‚\n","permalink":"https://www.mfun.ink/2023/05/20/nginx-stream-to-trojan/","summary":"\u003cp\u003eä¸Šä¸€ç¯‡\u003ca href=\"https://www.mfun.ink/2023/03/04/trojan-install/\"\u003eæ–‡ç« \u003c/a\u003eè®°å½•äº†trojançš„å®‰è£…è¿‡ç¨‹ï¼Œä½†æ˜¯ä½¿ç”¨è¿‡ç¨‹å‘ç°443ç«¯å£è¢«trojanæœåŠ¡å ç”¨åï¼Œå°±ä¸å¥½éƒ¨ç½²ä¸€äº›è‡ªå·±çš„æœåŠ¡ç½‘ç«™äº†ã€‚æ¯”å¦‚æˆ‘æƒ³å®ç°ä¸€ä¸ªåœ¨çº¿jsonè§£æçš„é¡µé¢ï¼Œå¹¶ç»™è¿™ä¸ªé¡µé¢ç”³è¯·ä¸ªå­åŸŸåjson.mfun.inkï¼Œç”±äº443ç«¯å£å·²ç»è¢«å ç”¨ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥ä½¿ç”¨nginxç»™json.mfun.inkåœ¨443ç«¯å£ä¸Šé…ç½®sslã€‚é‚£è¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡nginxçš„æµ(stream)ä»£ç†è½¬å‘443ç«¯å£çš„æµé‡ã€‚æŠŠtrojançš„æµé‡è½¬å‘ç»™trojanæœåŠ¡ï¼ŒæŠŠå…¶ä»–httpsåŸŸåçš„æµé‡è½¬å‘ç›¸åº”çš„httpsæœåŠ¡ã€‚\u003c/p\u003e","title":"é€šè¿‡nginxæµä»£ç†è½¬å‘æµé‡åˆ°trojanæœåŠ¡"},{"content":"æœ¬æ–‡è®°å½•ä¸€ä¸‹\u0026quot;ç§‘å­¦ä¸Šç½‘\u0026quot;å·¥å…·trojançš„å®‰è£…å’Œé…ç½®ï¼Œè‡³äºä¸ºä»€ä¹ˆæ˜¯trojanï¼Œè¯´å‡ºæ¥ä¹Ÿæ˜¯å¤Ÿåå·ã€‚æ¥¼ä¸»ä¹‹å‰æ­çš„æ¢¯å­ä½¿ç”¨è¿‡ssã€ssrã€v2rayï¼Œåæ¥ä¸æƒ³æŠ˜è…¾äº†ä¹°äº†Lanternï¼Œä¸è¿‡æœ€è¿‘Lanternç”¨èµ·æ¥ä¹Ÿå„ç§ä¸ç¨³å®šï¼Œç»ˆäºåˆ°äº†æ— æ³•å¿å—çš„åœ°æ­¥ï¼Œåˆšå¥½æ‰‹é‡Œæœ‰å›½å¤–çš„æœåŠ¡å™¨å°±æƒ³ç€çš„è‡ªå·±å†æ­ä¸€ä¸ªã€‚ä¸€å¼€å§‹æ­çš„ssrç»“æœä¸åˆ°ä¸€å‘¨ipå°±è¢«å°äº†ï¼Œçœ‹æ¥ä¼Ÿå¤§çš„gfwå·²ç»èƒ½å¤Ÿç²¾å‡†è¯†åˆ«ssræµé‡äº†ï¼Œæ— å¥ˆåªå¥½å¯»æ±‚å…¶ä»–çš„æ–¹æ³•ã€‚\nç½‘ä¸Šæœäº†ä¸€ä¸‹å‘ç°äº†trojanï¼Œçœ‹ä»‹ç»æ˜¯æŠŠç”¨æˆ·æµé‡ä¼ªè£…æˆhttpsæµé‡ç»•è¿‡gfwçš„æ£€æµ‹ï¼Œç”±äºhttpsæµé‡ä¼—å¤šgfwä¸å¯èƒ½å°é”æ‰€æœ‰httpsæµé‡ï¼Œæ¯•ç«Ÿå¦‚æœçœŸå°é”é‚£å›½å†…å°±çœŸæˆå±€åŸŸç½‘äº†ï¼Œå†è€…httpsæµé‡æ˜¯ç»è¿‡sslåŠ å¯†çš„ï¼Œä¿è¯äº†å†…å®¹ä¸è¢«çªƒå–ï¼Œæ‰€ä»¥å¯ä»¥å¾ˆå¥½çš„æ··è¿‡gfwçš„æ£€æµ‹ã€‚çœ‹ç€ä¸é”™ç›´æ¥æèµ·ï¼Œä½¿ç”¨3ä¸ªå¤šæœˆäº†ç°åœ¨ä¾ç„¶åšæŒºã€‚åºŸè¯ä¸å¤šè¯´ä¸‹é¢è¿›å…¥æ­£æ–‡å®‰è£…é…ç½®æµç¨‹ã€‚æ¥¼ä¸»goè¯­è¨€æ¥è§¦çš„æ¯”è¾ƒå¤šå°±é€‰æ‹©äº†goç‰ˆæœ¬trojanã€‚\né¦–å…ˆå‡†å¤‡å·¥ä½œï¼Œä¸€ä¸ªå›½å¤–çš„æœåŠ¡å™¨ï¼Œä¸€ä¸ªæœ‰sslè¯ä¹¦çš„åŸŸåã€‚sslè¯ä¹¦ç”¨å…è´¹ç”³è¯·çš„å°±è¡Œï¼Œæ¯”å¦‚freesslã€‚ ç™»å½•æœºå™¨å‘½ä»¤è¡Œï¼Œåˆ‡åˆ°rootç”¨æˆ·ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæœ‰ç°æˆçš„è„šæœ¬å°±å¾ˆèˆ’æœï¼Œæ„Ÿè°¢å¤§ä½¬çš„è´¡çŒ®ã€‚\nbash -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/kenzok8/Trojan/master/trojan-go_install.sh)\u0026#34; è¾“å‡ºå¦‚ä¸‹ï¼Œè¿™é‡Œæ¥¼ä¸»é€‰çš„nginxï¼Œä¸ä¸ºå•¥å°±æ˜¯å¯¹nginxæ›´ç†Ÿæ‚‰äº›\n=================================================== Trojan-goäºŒåˆä¸€è„šæœ¬ =================================================== å¦‚æœå·²ç»å®‰è£…äº†ä¸‹åˆ—è„šæœ¬ä¹‹ä¸€ï¼Œæƒ³è¦å®‰è£…å…¶ä»–çš„ï¼Œä¸éœ€è¦å•ç‹¬æ‰§è¡Œå¸è½½ï¼Œç›´æ¥é€‰æ‹©æƒ³è¦å®‰è£…è„šæœ¬å¯¹åº”çš„æ•°å­—å³å¯â€¦â€¦ å› ä¸ºå®‰è£…çš„åŒæ—¶ä¼šæ‰§è¡Œå¸è½½ï¼Œé™¤éæƒ³å¸è½½å¹²å‡€å›åˆ°åˆå§‹çŠ¶æ€,å¯ä»¥æ‰§è¡Œ3â€¦â€¦ =================================================== 1. å®‰è£…trojan-go + nginx +tls =================================================== 2. å®‰è£…trojan-go + caddy +tls =================================================== 3. å¸è½½å…¨éƒ¨ï¼Œç³»ç»Ÿå›åˆ°åˆå§‹çŠ¶æ€ =================================================== 4. å®‰è£…BBRåŠ é€Ÿ =================================================== 0. å•¥ä¹Ÿä¸åšï¼Œé€€å‡º è¯·è¾“å…¥æ•°å­—ï¼š1 ç¡®å®šåå°±æ˜¯ç›¸å…³ä¾èµ–å®‰è£…æµç¨‹äº†ï¼Œä¸‹è½½å®Œæˆåè¾“å…¥ä½ çš„åŸŸåï¼ˆmy@example.com æ›¿æ¢ä¸ºä½ åŸŸåï¼‰\n[ä¿¡æ¯] trojan-goä¸‹è½½ å®Œæˆ Archive: /etc/trojan/bin/trojan-go-linux-amd64.zip inflating: /etc/trojan/bin/trojan-go inflating: /etc/trojan/bin/geoip.dat inflating: /etc/trojan/bin/geosite.dat inflating: /etc/trojan/bin/example/client.json inflating: /etc/trojan/bin/example/server.json inflating: /etc/trojan/bin/example/trojan-go.service [ä¿¡æ¯] trojan-goè§£å‹ å®Œæˆ [ä¿¡æ¯] 80 ç«¯å£æœªè¢«å ç”¨ [ä¿¡æ¯] 443 ç«¯å£æœªè¢«å ç”¨ è¯·è¾“å…¥æ‚¨çš„åŸŸå(å¦‚æœç”¨Cloudflareè§£æåŸŸåï¼Œè¯·ç‚¹å‡»å°äº‘å½©ä½¿å…¶å˜ç°):my@example.com è¾“å…¥ç¡®å®šåï¼Œç­¾å‘è¿‡ç¨‹å¯èƒ½ä¼šé‡åˆ°ä¸‹é¢çš„é—®é¢˜ï¼ŒæŒ‰ç…§æç¤ºacmeéœ€è¦æ›´æ–°ä¸‹é‚®ä»¶åœ°å€ï¼Œå¯ä»¥æ‰§è¡Œcurl https://get.acme.sh | sh -s email=xxx@xx.com\n[Sat Mar 4 10:14:35 PM CST 2023] No EAB credentials found for ZeroSSL, let\u0026#39;s get one [Sat Mar 4 10:14:35 PM CST 2023] acme.sh is using ZeroSSL as default CA now. [Sat Mar 4 10:14:35 PM CST 2023] Please update your account with an email address first. [Sat Mar 4 10:14:35 PM CST 2023] acme.sh --register-account -m my@example.com [Sat Mar 4 10:14:35 PM CST 2023] See: https://github.com/acmesh-official/acme.sh/wiki/ZeroSSL.com-CA [Sat Mar 4 10:14:35 PM CST 2023] Please add \u0026#39;--debug\u0026#39; or \u0026#39;--log\u0026#39; to check more details. [Sat Mar 4 10:14:35 PM CST 2023] See: https://github.com/acmesh-official/acme.sh/wiki/How-to-debug-acme.sh [é”™è¯¯] TLS è¯ä¹¦ç”Ÿæˆå¤±è´¥ æ¥ä¸‹æ¥å†æ¬¡æ‰§è¡Œæœ€å¼€å§‹çš„shellå‘½ä»¤å°±å¯ä»¥äº†ï¼Œè¯ä¹¦é…ç½®æˆåŠŸåæç¤ºé…ç½®ä¼ªè£…ç½‘ç«™ï¼Œè¿™ä¸ªæ˜¯ä¿è¯æ­£å¸¸è®¿é—®ä½ çš„åŸŸåæ˜¯èƒ½å¤Ÿæ­£å¸¸è¿”å›é¡µé¢ï¼Œå‡å¦‚æ²¡æœ‰é…ç½®ä¼ªè£…ç½‘ç«™ï¼Œgfwè¯†åˆ«åˆ°ä½ çš„åŸŸåæœ‰å¼‚å¸¸æµé‡ï¼Œç„¶åè¿›è¡Œæ¢æµ‹ä½ æ²¡æœ‰ä»»ä½•è¿”å›ï¼Œé‚£ä¹ˆå¾ˆæ˜æ˜¾ä½ è¿™ä¸ªåŸŸåç»å£æœ‰é—®é¢˜ï¼Œå•ªå”§ ç»™ä½ å°äº†ã€‚å¦‚æœä¸æƒ³ç”¨ä¸‹é¢åˆ—å‡ºçš„ä¹Ÿå¯ç”¨è‡ªå·±çš„ï¼Œæ¯”å¦‚è‡ªå·±blogç«™ç‚¹å•¥çš„ï¼Œè¿™å°±å¯ä»¥ä¸€ä¸ªåŸŸåå¤šç”¨äº†ï¼Œæ˜é¢ä¸Šæ˜¯æ­£å„¿å…«ç»çš„åšå®¢ç½‘ç«™ï¼ŒèƒŒåœ°å¹²ç€æµé‡è½¬å‘çš„æ´»ã€‚\n[ä¿¡æ¯]è¯ä¹¦é…ç½®æˆåŠŸ [æ³¨æ„]ä¼ªè£…ç½‘ç«™æœªä¸‹è½½æˆ–ä¸‹è½½å¤±è´¥,è¯·é€‰æ‹©ä¸‹é¢çš„ä»»æ„ä¸€ä¸ªè¿›è¡Œä¸‹è½½: [ä¿¡æ¯]1. https://templated.co/intensify [ä¿¡æ¯]2. https://templated.co/binary [ä¿¡æ¯]3. https://templated.co/retrospect [ä¿¡æ¯]4. https://templated.co/spatial [ä¿¡æ¯]5. https://templated.co/monochromed [ä¿¡æ¯]6. https://templated.co/transit [ä¿¡æ¯]7. https://templated.co/interphase [ä¿¡æ¯]8. https://templated.co/ion [ä¿¡æ¯]9. https://templated.co/solarize [ä¿¡æ¯]10. https://templated.co/phaseshift [ä¿¡æ¯]11. https://templated.co/horizons [ä¿¡æ¯]12. https://templated.co/grassygrass [ä¿¡æ¯]13. https://templated.co/breadth [ä¿¡æ¯]14. https://templated.co/undeviating [ä¿¡æ¯]15. https://templated.co/breadth [æ³¨æ„]è¯·è¾“å…¥ä½ è¦ä¸‹è½½çš„ç½‘ç«™çš„æ•°å­—:15 å†å¾€ä¸‹, è¾“å…¥ä½ çš„è¿æ¥æ ¡éªŒå¯†ç ï¼Œå†ä¸‹é¢çš„æ˜¯å¦å¯ç”¨websocketåè®®ï¼Œwebsocketåè®®ä¸»è¦æ˜¯ç”¨æ¥å¼€å¯cdnçš„ï¼Œå¼€å¯cdnågfwæ¢æµ‹çš„åªä¼šæ˜¯cdnçš„ipï¼Œç›¸å½“äºå†ä½ è‡ªå·±æœåŠ¡å¤–é¢æŒ¡äº†ä¸€å±‚cdnï¼Œä½ è‡ªå·±çš„ipä¸ä¼šæš´æ¼åœ¨å¤–ä¸ä¼šè¢«æ¢æµ‹åˆ°ï¼Œè‡ªç„¶å°±ä¸ä¼šè¢«å°äº†ï¼Œæ¥¼ä¸»è¿™é‡Œæ²¡æœ‰cdnå°±æ²¡é€‰ã€‚\n[ä¿¡æ¯]è¯·è¾“å…¥æ‚¨çš„Trojan-goå¯†ç :xxx [ä¿¡æ¯]æ˜¯å¦å¯ç”¨websocketåè®®?æ³¨æ„ï¼šå¼€å¯è¿™ä¸ªé€‰é¡¹ä¸ä¼šæ”¹å–„ä½ çš„é“¾è·¯é€Ÿåº¦ï¼ˆç”šè‡³æœ‰å¯èƒ½ä¸‹é™ï¼‰ [ä¿¡æ¯]å¦‚æœå¯ç”¨äº†websocketåè®®,æ‚¨å°±å¯ä»¥å¼€å¯CDNäº†ï¼Œå¦‚æœç”¨cloudflareè§£æåŸŸåçš„ï¼Œæ­å»ºå®Œæˆåå¯ä»¥ç‚¹äº®å°äº‘å½©äº†ã€‚ [ä¿¡æ¯]æ˜¯å¦å¼€å¯ï¼ˆY/nï¼‰ï¼Ÿï¼ˆé»˜è®¤ï¼šnï¼‰n å†ç»§ç»­å°±æ˜¯ä¸‹è½½ç¼–è¯‘å®‰è£…nginxçš„æµç¨‹äº†ï¼Œnginxæ­£å¸¸å®‰è£…å®Œæˆåå°±æ˜¯å®‰è£…æˆåŠŸçš„æç¤ºäº†\n[ä¿¡æ¯] ä¿®æ”¹å¯†ç ã€æ··æ·†å¯†ç ã€å¯ç”¨/ç¦ç”¨websocketã€æŸ¥è¯¢è¯ä¹¦ç›¸å…³ä¿¡æ¯çš„ç®¡ç†è„šæœ¬ä¸‹è½½ å®Œæˆ =========================Trojan-go+tls å®‰è£…æˆåŠŸ============================== ========================= Trojan-go é…ç½®ä¿¡æ¯ ============================= åœ°å€ï¼š my@example.com ç«¯å£ï¼š 443 å¯†ç ï¼š xxxx websocketçŠ¶æ€ï¼š å…³é—­ websocketè·¯å¾„ï¼š websocketå¤šé‡TLSï¼š å…³é—­ æ··æ·†å¯†ç ï¼š ========================= å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ =============================== å…¶ä»–ä¸€äº›å¯ä»¥æœ‰çš„é…ç½®ï¼Œæ¯”å¦‚æŠŠä¼ªè£…ç½‘ç«™é…ç½®æˆè‡ªå·±çš„blogï¼Œtrojané»˜è®¤ä¼ªè£…ç½‘ç«™ç›®å½•æ˜¯ /usr/wwwrootï¼Œå¯ä»¥æŠŠè‡ªå·±çš„é™æ€blogæ”¾åˆ°è¿™ä¸ªç›®å½•\nubuntu:/usr/wwwroot# ls 2020 about categories images js tags 2022 archives css index.html manifest.json page ç„¶åä¿®æ”¹nginxé…ç½® /etc/nginx/conf/nginx.conf æŠŠlocation rooté…ç½®æˆ/usr/wwwroot\nserver { listen 80; server_name localhost; #charset koi8-r; #access_log logs/host.access.log main; location / { root /usr/wwwroot; index index.html index.htm; } é…ç½®å®Œæˆåé‡å¯nginx\nubuntu# service nginx restart ä¸Šé¢é€šè¿‡acmeåˆ›å»ºçš„å…è´¹è¯ä¹¦æœ‰æ•ˆæœŸåªæœ‰90å¤©ï¼Œè¿™é‡Œåˆ›å»ºä¸€ä¸ªshellè„šæœ¬åˆ·æ–°è¯ä¹¦ï¼Œé€šè¿‡crontab ä»»åŠ¡å®šæœŸæ£€æŸ¥æ›´æ–°ã€‚ åˆ›å»ºrefresh_ssl.shæ–‡ä»¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼Œæ£€æŸ¥è¯ä¹¦å‰©ä½™æœ‰æ•ˆæœŸå¦‚æœå°‘äº5å¤©çš„è¯å°±åˆ·æ–°è¯ä¹¦ï¼Œæ‰§è¡Œchmod +x refresh_ssl.shï¼Œæ·»åŠ å¯æ‰§è¡Œæƒé™ã€‚\n#!/bin/bash DOMAIN_RST=100 domain=\u0026#34;example.com\u0026#34; refresh_ssl(){ end_time=$(echo | openssl s_client -servername $domain -connect $domain:443 2\u0026gt;/dev/null | openssl x509 -in /data/$domain/fullchain.cer -noout -dates |grep \u0026#39;After\u0026#39;| awk -F \u0026#39;=\u0026#39; \u0026#39;{print $2}\u0026#39;| awk -F \u0026#39; +\u0026#39; \u0026#39;{print $1,$2,$4 }\u0026#39; ) end_times=$(date +%s -d \u0026#34;$end_time\u0026#34;) now_time=$(date +%s -d \u0026#34;$(date | awk -F \u0026#39; +\u0026#39; \u0026#39;{print $2,$3,$6}\u0026#39;)\u0026#34;) DOMAIN_RST=$(($((end_times-now_time))/(60*60*24))) echo $DOMAIN_RST if [ $DOMAIN_RST -lt 5 ]; then /root/.acme.sh/acme.sh --renew --domain $domain systemctl restart trojan.service systemctl restart nginx fi } refresh_ssl æ‰§è¡Œsudo crontab -e æ·»åŠ å®šæ—¶ä»»åŠ¡ï¼Œæ¯éš”5å¤©æ‰§è¡Œä¸€ä¸‹è„šæœ¬\n0 0 */5 * * /path/refresh_ssl.sh \u0026gt; /dev/null ä»¥ä¸Šå°±æ˜¯serverç«¯trojançš„é…ç½®æµç¨‹äº†ï¼Œæœ€åå°±æ˜¯å®¢æˆ·ç«¯ä¸‹è½½äº†ï¼ŒTrojan-Qt5æœ‰macå’Œwindowsä¸‹å®¢æˆ·ç«¯ï¼Œå®‰å“shadowsocksr-v2ray-trojan-androidæ‰¾ä¸åˆ°trojançš„é…ç½®å…¥å£ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡æ‰«ç é…ç½®ï¼Œä¸Šé¢macã€pcä¸‹Trojan-Qt5éƒ½æ”¯æŒé€šè¿‡äºŒç»´ç åˆ†äº«ã€‚\n","permalink":"https://www.mfun.ink/2023/03/04/trojan-install/","summary":"\u003cp\u003eæœ¬æ–‡è®°å½•ä¸€ä¸‹\u0026quot;ç§‘å­¦ä¸Šç½‘\u0026quot;å·¥å…·trojançš„å®‰è£…å’Œé…ç½®ï¼Œè‡³äºä¸ºä»€ä¹ˆæ˜¯trojanï¼Œè¯´å‡ºæ¥ä¹Ÿæ˜¯å¤Ÿåå·ã€‚æ¥¼ä¸»ä¹‹å‰æ­çš„æ¢¯å­ä½¿ç”¨è¿‡ssã€ssrã€v2rayï¼Œåæ¥ä¸æƒ³æŠ˜è…¾äº†ä¹°äº†Lanternï¼Œä¸è¿‡æœ€è¿‘Lanternç”¨èµ·æ¥ä¹Ÿå„ç§ä¸ç¨³å®šï¼Œç»ˆäºåˆ°äº†æ— æ³•å¿å—çš„åœ°æ­¥ï¼Œåˆšå¥½æ‰‹é‡Œæœ‰å›½å¤–çš„æœåŠ¡å™¨å°±æƒ³ç€çš„è‡ªå·±å†æ­ä¸€ä¸ªã€‚ä¸€å¼€å§‹æ­çš„ssrç»“æœä¸åˆ°ä¸€å‘¨ipå°±è¢«å°äº†ï¼Œçœ‹æ¥ä¼Ÿå¤§çš„gfwå·²ç»èƒ½å¤Ÿç²¾å‡†è¯†åˆ«ssræµé‡äº†ï¼Œæ— å¥ˆåªå¥½å¯»æ±‚å…¶ä»–çš„æ–¹æ³•ã€‚\u003c/p\u003e","title":"trojan-go å®‰è£…é…ç½®"},{"content":"å®‰è£… vueçš„å®‰è£…å°±ç›´æ¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œæè¿°çš„å·²ç»å¾ˆè¯¦ç»†äº†ã€‚\né¡¹ç›®åˆ›å»º ç›´æ¥ä½¿ç”¨vue create + é¡¹ç›®ååˆ›å»ºé¡¹ç›®ï¼Œé»˜è®¤æœ‰ä¸‰ç§é…ç½®å¯é€‰ï¼Œvue2ã€vue3å„æœ‰ä¸€ä¸ªé»˜è®¤åˆ›å»ºé€‰é¡¹ï¼Œä¹Ÿå¯ä»¥é€‰ç¬¬ä¸‰ç§è‡ªå®šä¹‰é¡¹ç›®åˆ›å»ºè¦å¼•å…¥çš„featuresã€‚\nvector@vectordeMBP î‚° ~/dev/vue î‚° vue create demo Vue CLI v4.5.4 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ New version available 4.5.4 â†’ 5.0.8 â”‚ â”‚ Run npm i -g @vue/cli to update! â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ ? Please pick a preset: Default ([Vue 2] babel, eslint) Default (Vue 3 Preview) ([Vue 3] babel, eslint) â¯ Manually select features è¿™é‡Œé€‰æ‹©è‡ªå®šä¹‰åï¼Œä¼šæœ‰ä»¥ä¸‹é€‰é¡¹å¯é€‰ï¼Œä½¿ç”¨â¬†ï¸â¬‡ï¸æ–¹å‘é”®ä¸Šä¸‹ç§»åŠ¨ï¼Œä½¿ç”¨ç©ºæ ¼é”®é€‰ä¸­æˆ–è€…å–æ¶ˆé€‰ä¸­ï¼Œé€‰å®Œä¹‹åï¼Œç‚¹å‡»å›è½¦é”®ç»§ç»­ã€‚\n? Please pick a preset: Manually select features ? Check the features needed for your project: â—‰ Choose Vue version â—‰ Babel â—¯ TypeScript â—¯ Progressive Web App (PWA) Support â—‰ Router â—‰ Vuex â—‰ CSS Pre-processors â¯â—‰ Linter / Formatter â—¯ Unit Testing â—¯ E2E Testing é€‰æ‹©vueç‰ˆæœ¬\n? Choose a version of Vue.js that you want to start the project with 2.x â¯ 3.x (Preview) è·¯ç”±æ¨¡å¼é€‰æ‹©ï¼Œæ˜¯å¦ä½¿ç”¨å†å²è·¯ç”±æ¨¡å¼\n? Use history mode for router? (Requires proper server setup for index fallback in production) (Y/n) cssé¢„å¤„ç†å™¨é€‰æ‹©\n? Pick a CSS pre-processor (PostCSS, Autoprefixer and CSS Modules are supported by default): (Use arrow keys) â¯ Sass/SCSS (with dart-sass) Sass/SCSS (with node-sass) Less Stylus ä»£ç æ£€æµ‹å·¥å…·æ¨¡å¼é€‰æ‹©\n? Pick a linter / formatter config: (Use arrow keys) â¯ ESLint with error prevention only ESLint + Airbnb config ESLint + Standard config ESLint + Prettier ä»£ç æ£€æµ‹æ—¶æœº\n? Pick additional lint features: (Press \u0026lt;space\u0026gt; to select, \u0026lt;a\u0026gt; to toggle all, \u0026lt;i\u0026gt; to invert selection) â¯â—‰ Lint on save // ä¿å­˜æ—¶æ£€æµ‹ â—¯ Lint and fix on commit // fix commit æ—¶æ£€æµ‹ é…ç½®æ–‡ä»¶å­˜æ”¾\n? Where do you prefer placing config for Babel, ESLint, etc.? (Use arrow keys) â¯ In dedicated config files // å„æ’ä»¶å•ç‹¬æ–‡ä»¶é…ç½® In package.json // æ”¾åˆ° package.json æ˜¯å¦ä¿å­˜æœ¬æ¬¡é…ç½®ï¼Œæ–¹ä¾¿ä¹‹ååˆ›å»ºé¡¹ç›®ç®€åŒ–æ­¥éª¤\nSave this as a preset for future projects? (y/N) ç›®å½•ç»“æ„ â”œâ”€â”€ README.md â”œâ”€â”€ babel.config.js // babel é…ç½®æ–‡ä»¶ â”œâ”€â”€ node_modules // node ä¾èµ–åŒ…ä¸‹è½½ç›®å½• â”œâ”€â”€ package.json // ä¾èµ–ç›®å½•ï¼Œé¡¹ç›®buidï¼Œå¯åŠ¨æŒ‡ä»¤é…ç½® â”œâ”€â”€ public // å…¬å…±èµ„æº â”œâ”€â”€ src // ä¸»è¦ä»£ç ç›®å½• â”‚ â”œâ”€â”€ App.vue // é¡¹ç›®å…¥å£æ–‡ä»¶ â”‚ â”œâ”€â”€ assets // é™æ€èµ„æº â”‚ â”œâ”€â”€ components //ç»„ä»¶ç›®å½• â”‚ â”œâ”€â”€ main.js // å…¥å£jsï¼Œå…¨å±€å˜é‡ã€jsã€æ’ä»¶å¼•å…¥ â”‚ â”œâ”€â”€ router // å‰ç«¯è·¯ç”± â”‚ â”œâ”€â”€ store // åº”ç”¨æ•°æ® â”‚ â””â”€â”€ views // é¡µé¢ç›®å½• â””â”€â”€ yarn.lock // yarnåŒ…ç®¡ç†è‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶ï¼Œå¦‚æœä½¿ç”¨npmåŒ…ç®¡ç†ä¼šç”Ÿæˆç›¸åº”çš„npmåŒ…ç®¡ç†æ–‡ä»¶ é¡¹ç›®å¯åŠ¨ è¿™é‡Œä½¿ç”¨çš„yarnï¼Œä½¿ç”¨npmçš„å¯ä»¥æ‰§è¡Œnpm run serveï¼Œæ­£å¸¸å¯åŠ¨åå°±å¯ä»¥è®¿é—®http://localhost:8080/æŸ¥çœ‹é¡µé¢ã€‚\nvector@vectordeMBP î‚° ~/dev/vue/demo î‚° î‚  master î‚° yarn serve yarn run v1.22.19 $ vue-cli-service serve INFO Starting development server... 98% after emitting CopyPlugin DONE Compiled successfully in 2584ms 22:59:59 App running at: - Local: http://localhost:8080/ - Network: http://192.168.10.185:8080/ Note that the development build is not optimized. To create a production build, run yarn build. ä»¥ä¸Šçš„å¯åŠ¨å‘½ä»¤serveæ˜¯package.jsonæ–‡ä»¶ä¸­çš„é…ç½®.\n\u0026#34;scripts\u0026#34;: { \u0026#34;serve\u0026#34;: \u0026#34;vue-cli-service serve\u0026#34;, \u0026#34;build\u0026#34;: \u0026#34;vue-cli-service build\u0026#34; }, ","permalink":"https://www.mfun.ink/2022/10/16/vue3-study-init/","summary":"\u003ch2 id=\"å®‰è£…\"\u003eå®‰è£…\u003c/h2\u003e\n\u003cp\u003evueçš„å®‰è£…å°±ç›´æ¥å‚è€ƒ\u003ca href=\"https://cn.vuejs.org/guide/quick-start.html\"\u003eå®˜æ–¹æ–‡æ¡£\u003c/a\u003eï¼Œæè¿°çš„å·²ç»å¾ˆè¯¦ç»†äº†ã€‚\u003c/p\u003e\n\u003ch2 id=\"é¡¹ç›®åˆ›å»º\"\u003eé¡¹ç›®åˆ›å»º\u003c/h2\u003e\n\u003cp\u003eç›´æ¥ä½¿ç”¨vue create + é¡¹ç›®ååˆ›å»ºé¡¹ç›®ï¼Œé»˜è®¤æœ‰ä¸‰ç§é…ç½®å¯é€‰ï¼Œvue2ã€vue3å„æœ‰ä¸€ä¸ªé»˜è®¤åˆ›å»ºé€‰é¡¹ï¼Œä¹Ÿå¯ä»¥é€‰ç¬¬ä¸‰ç§è‡ªå®šä¹‰é¡¹ç›®åˆ›å»ºè¦å¼•å…¥çš„featuresã€‚\u003c/p\u003e","title":"Vue3å­¦ä¹ ç¬”è®°ä¸€.é¡¹ç›®åˆå§‹åŒ–"},{"content":"åˆ†å¸ƒå¼é™æµå™¨ä¹Ÿæ˜¯é¡¹ç›®å¼€å‘ä¸­å¸¸ç”¨çš„ï¼ŒåŸºäºredis incræŒ‡ä»¤å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿å¿«æ·çš„å®ç°ä¸€ä¸ªåˆ†å¸ƒå¼é™æµå™¨ï¼Œå› ä¸ºè¿™ä¸ªæŒ‡ä»¤è‡ªèº«çš„åŸå­æ€§ï¼Œæ‰€ä»¥ä¸ç”¨å¼€å‘è€…è€ƒè™‘è®¡æ•°è¿‡ç¨‹çš„å¹¶å‘é—®é¢˜ã€‚ä¸‹é¢æ˜¯goä»£ç å®ç°ã€‚\né™æµå™¨ç›¸å…³å±æ€§ counterè®¡æ•°å™¨ï¼Œè¿™é‡ŒæŠŠè®¡æ•°å™¨å•ç‹¬å®šä¹‰ä¸ºäº†ä¸€ä¸ªæ¥å£ï¼Œæ–¹ä¾¿ä½¿ç”¨ä¸åŒçš„æ–¹å¼å®ç°ï¼Œæ¯”å¦‚ä¸‹æ–‡ä¸­å°†è¦ä»‹ç»åŸºäºrediså®ç°ã€‚ windowé™æµçª—å£ï¼ŒæŒ‡è®¡æ•°æ—¶é—´å‘¨æœŸï¼Œæ¯”å¦‚åˆå§‹åŒ–ä¸º1000å°±æ˜¯1ç§’å†…è¯·æ±‚ä¸å¾—è¶…è¿‡æŒ‡å®šé˜ˆå€¼limitã€‚\nretryTimeouté‡è¯•è¶…æ—¶æ—¶é—´ï¼Œç”¨æ¥æ§åˆ¶è¾¾åˆ°é™æµé˜ˆå€¼åï¼Œç»§ç»­é‡è¯•çš„è¶…æ—¶æ—¶é—´ã€‚\n// Limiter é™æµå™¨ type Limiter struct { name string // é™æµå™¨åç§° window int64 // é™æµçª—å£ ms limit int64 // é™æµé˜ˆå€¼ retryTimeout int64 // è¶…æ—¶æ—¶é—´ counter Count // è®¡æ•°å™¨ } // Count è®¡æ•°å™¨ type Count interface { IncrBy(ctx context.Context, key string, num int64) (int64, error) } // NewLimiter åˆå§‹åŒ– func NewLimiter(counter Count, name string, window int64, limit int64, retryTimeout int64) *Limiter { return \u0026amp;Limiter{ counter: counter, name: name, window: window, limit: limit, retryTimeout: retryTimeout, } } å…·ä½“æ–¹æ³• Allow åˆ°è¾¾é˜ˆå€¼åï¼Œä¸å†é‡è¯•ï¼Œç›´æ¥è¿”å›falseï¼Œä¸¢å¼ƒæ‰è¶…è¿‡é˜ˆå€¼çš„è¯·æ±‚ã€‚\nAllowRetry åˆ°è¾¾é˜ˆå€¼åï¼Œåœ¨è¶…æ—¶æ—¶é—´èŒƒå›´å†…è¿›è¡Œé‡è¯•ã€‚ wait æ¯æ¬¡é‡è¯•ç­‰å¾…æ—¶é—´ï¼Œä¿è¯é‡è¯•æ˜¯åœ¨ä¸‹ä¸€ä¸ªçª—å£ï¼Œé¿å…ä¸å¿…è¦çš„é‡è¯•ã€‚ä½¿ç”¨éšæœºæ•°æ˜¯ä¸ºäº†å°½é‡æ‰“æ•£è¯·æ±‚ã€‚\ngetKey è®¡ç®—å½“å‰çª—å£ï¼Œæ ¹æ®å½“å‰çª—å£æ‹¼æ¥è®¡æ•°keyã€‚\n// AllowRetry åœ¨è¶…æ—¶æ—¶é—´å†…é‡è¯• func (l *Limiter) AllowRetry(ctx context.Context, key string, num int64) (bool, error) { ctxWithTimeout, _ := context.WithTimeout(ctx, time.Duration(l.retryTimeout)*time.Millisecond) var allow bool var err error for { allow, err = l.Allow(ctx, key, num) if err == nil { return allow, nil } if ctxWithTimeout.Err() != nil { return false, ctxWithTimeout.Err() } l.wait() } } // Allow ä¸é‡è¯• func (l *Limiter) Allow(ctx context.Context, key string, num int64) (bool, error) { return l.getToken(ctx, key, num) } // getToken è¿›è¡Œè®¡æ•° func (l *Limiter) getToken(ctx context.Context, key string, num int64) (bool, error) { unionKey := l.getKey(key) num, err := l.counter.IncrBy(ctx, unionKey, num) if err != nil { return false, err } return num \u0026lt; l.limit, nil } // wait æ¯æ¬¡é‡è¯•ç­‰å¾…æ—¶é—´ func (l *Limiter) wait() { randWait := l.window - rand.Int63n(l.window/2) time.Sleep(time.Duration(randWait) * time.Millisecond) } // getKey è·å–è®¡æ•°key func (l *Limiter) getKey(key string) string { // è®¡ç®—å½“å‰çª—å£ nowWindow := time.Now().UnixMilli() / l.window return fmt.Sprintf(\u0026#34;%s:%s:%d\u0026#34;, l.name, key, nowWindow) } redis è®¡æ•°å™¨ redisè®¡æ•°å™¨å®ç°å°±æ¯”è¾ƒç®€å•äº†ï¼Œç›´æ¥è°ƒç”¨redisçš„incræ–¹æ³•ã€‚\n// RedisCounter ä½¿ç”¨redisåˆ†å¸ƒå¼é™æµ type RedisCounter struct { redisCli *redis.Client expire int64 } // IncrBy ...è®¡æ•° func (r *RedisCounter) IncrBy(ctx context.Context, key string, num int64) (int64, error) { defer func() { _ = r.redisCli.Expire(ctx, key, time.Duration(r.expire)*time.Millisecond) }() return r.redisCli.IncrBy(ctx, key, num).Result() } ä»¥ä¸Šå°±æ˜¯åŸºäºrediså®ç°çš„åˆ†å¸ƒå¼é™æµå™¨ï¼ŒæŠŠè®¡æ•°å™¨ä»¥æ¥å£å½¢å¼ç»„è£…è¿›å»ï¼Œå¯ä»¥ä½¿ä»£ç æ›´åŠ é€šç”¨ï¼Œç›´æ¥åŸºäºå†…å­˜å®ç°å°±æ˜¯å•æœºé™æµã€‚ä¸æƒ³åŸºäºrediså®ç°ï¼Œä¹Ÿå¯ä»¥åŸºäºå…¶ä»–æ–¹å¼å®ç°ã€‚\n","permalink":"https://www.mfun.ink/2022/10/15/redis-current-limiter/","summary":"\u003cp\u003eåˆ†å¸ƒå¼é™æµå™¨ä¹Ÿæ˜¯é¡¹ç›®å¼€å‘ä¸­å¸¸ç”¨çš„ï¼ŒåŸºäºredis incræŒ‡ä»¤å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿å¿«æ·çš„å®ç°ä¸€ä¸ªåˆ†å¸ƒå¼é™æµå™¨ï¼Œå› ä¸ºè¿™ä¸ªæŒ‡ä»¤è‡ªèº«çš„åŸå­æ€§ï¼Œæ‰€ä»¥ä¸ç”¨å¼€å‘è€…è€ƒè™‘è®¡æ•°è¿‡ç¨‹çš„å¹¶å‘é—®é¢˜ã€‚ä¸‹é¢æ˜¯goä»£ç å®ç°ã€‚\u003c/p\u003e","title":"åŸºäºrediså®ç°ä¸€ä¸ªç®€å•çš„åˆ†å¸ƒå¼é™æµå™¨"},{"content":"æœ€è¿‘ç»å¸¸ç”¨goå†™ä¸€äº›è„šæœ¬ï¼Œä¸ºäº†æ‰§è¡Œæ•ˆç‡ï¼Œä¸€èˆ¬ä¼šå¼€å¯å¤šä¸ªgoroutineå¹¶å‘æ‰§è¡Œ,è„šæœ¬ä¸­é€šå¸¸ä¼šè°ƒç”¨ä¸€äº›çº¿ä¸ŠæœåŠ¡æˆ–è€…æ•°æ®åº“è¯»å†™æ•°æ®ï¼Œä¸ºäº†ä¸å½±å“çº¿ä¸ŠæœåŠ¡è¿è¡Œ,ä¸ºäº†ä¸å½±å“çº¿ä¸ŠæœåŠ¡è¿è¡Œå°±è¦å¯¹æ‰§è¡Œçš„goroutineæ•°é‡è¿›è¡Œé™åˆ¶ï¼Œé¿å…å¹¶å‘å¤ªå¤§æ‰“å®çº¿ä¸ŠæœåŠ¡ã€‚ä¸‹é¢å°±ç®€å•å†™ä¸€ä¸ªgoroutineå¹¶å‘æ§åˆ¶å™¨ã€‚\næ§åˆ¶å™¨å®ç° limiterå±æ€§ä»¥åŠåˆå§‹åŒ–éƒ¨åˆ†å¦‚ä¸‹ï¼Œ\n// ConcurrentLimiter å¹¶å‘æ§åˆ¶ type ConcurrentLimiter struct { max int64 // æœ€å¤§å¹¶å‘æ•° currNum atomic.Int64 // å½“å‰å·²å¯åŠ¨å¹¶å‘æ•° wg sync.WaitGroup // ä¿è¯å…¨éƒ¨goroutineæ‰§è¡Œå®Œåé€€å‡º } func NewConcurrentLimiter(max int64) *ConcurrentLimiter { return \u0026amp;ConcurrentLimiter{ max: max, currNum: atomic.Int64{}, wg: sync.WaitGroup{}, } } å…·ä½“æ‰§è¡Œæ–¹æ³•, ä¼ å…¥goroutineè¦æ‰§è¡Œçš„æ–¹æ³•ï¼Œä»¥åŠæ‰€éœ€å‚æ•°ã€‚\nfunc (c *ConcurrentLimiter) Do(params interface{}, f func(params interface{})) { c.waitLimit() c.wg.Add(1) // å½“å‰å¹¶å‘æ•°é‡ c.currNum.Add(1) go func(params interface{}) { defer func() { c.wg.Done() c.currNum.Add(-1) }() f(params) }(params) } // å½“å‰å¹¶å‘è¾¾åˆ°æœ€å¤§æ—¶ï¼Œå°±æ— é™ç­‰å¾… func (c *ConcurrentLimiter) waitLimit() { if c.max == 0 { return } for { if c.currNum.Load() \u0026lt; c.max { return } time.Sleep(time.Microsecond * 10) } } å› ä¸ºéƒ½æ˜¯ç›´æ¥å¯åŠ¨goroutineå¼‚æ­¥æ‰§è¡Œï¼Œä¸ºäº†è„šæœ¬èƒ½å¤Ÿä¼˜é›…é€€å‡ºï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç¨‹åºæœ€åç”¨WaitGroupæ§åˆ¶ä¸€ä¸‹miangoroutine é€€å‡ºã€‚\nfunc (c *ConcurrentLimiter) Wait() { c.wg.Wait() } æœ€åå†åŠ ä¸€ä¸ªè·å–å½“å‰æ­£åœ¨æ‰§è¡Œçš„goroutineæ•°é‡çš„æ–¹æ³•ï¼Œæ–¹ä¾¿ç»Ÿè®¡\nfunc (c *ConcurrentLimiter) CurrNum() int64 { return c.currNum.Load() } ä½¿ç”¨ä¾‹å­ ç®€å•å†™ä¸ªtest\nfunc TestConcurrentLimiter_Do(t *testing.T) { cl := NewConcurrentLimiter(2) f := func(params interface{}) { fmt.Println(\u0026#34;val: \u0026#34;, params) } go func() { for { fmt.Println(\u0026#34;curr num: \u0026#34;, cl.CurrNum()) time.Sleep(time.Microsecond * 100) } }() i := 0 for { cl.Do(i, f) i++ } } é€šè¿‡è¾“å‡º,å¯ä»¥çœ‹åˆ°goroutineæ•°é‡è¢«æ§åˆ¶åœ¨è®¾ç½®æœ€å¤§å€¼ä»¥å†…\n=== RUN TestConcurrentLimiter_Do curr num: 2 curr num: 2 curr num: 1 curr num: 2 ","permalink":"https://www.mfun.ink/2022/10/15/goroutine-limit/","summary":"\u003cp\u003eæœ€è¿‘ç»å¸¸ç”¨goå†™ä¸€äº›è„šæœ¬ï¼Œä¸ºäº†æ‰§è¡Œæ•ˆç‡ï¼Œä¸€èˆ¬ä¼šå¼€å¯å¤šä¸ªgoroutineå¹¶å‘æ‰§è¡Œ,è„šæœ¬ä¸­é€šå¸¸ä¼šè°ƒç”¨ä¸€äº›çº¿ä¸ŠæœåŠ¡æˆ–è€…æ•°æ®åº“è¯»å†™æ•°æ®ï¼Œä¸ºäº†ä¸å½±å“çº¿ä¸ŠæœåŠ¡è¿è¡Œ,ä¸ºäº†ä¸å½±å“çº¿ä¸ŠæœåŠ¡è¿è¡Œå°±è¦å¯¹æ‰§è¡Œçš„goroutineæ•°é‡è¿›è¡Œé™åˆ¶ï¼Œé¿å…å¹¶å‘å¤ªå¤§æ‰“å®çº¿ä¸ŠæœåŠ¡ã€‚ä¸‹é¢å°±ç®€å•å†™ä¸€ä¸ªgoroutineå¹¶å‘æ§åˆ¶å™¨ã€‚\u003c/p\u003e","title":"goroutine å¹¶å‘æ•°é‡é™åˆ¶"},{"content":"å¥½æœªæ¥ ä¸€é¢ è‡ªæˆ‘ä»‹ç»\næœ€è¿‘åšåˆ°é¡¹ç›® æ²¡ç»†èŠ\nredis å¸¸ç”¨ç»“æ„\nredis å®•æœºæ¢å¤ aop rdb\nè¿æ¥æ±  è·å–å¥æŸ„æ—¶å¹¶å‘æ§åˆ¶\nmysql å¼•æ“ åŒºåˆ«\nç´¢å¼•ç»“æ„ bæ ‘ b+æ ‘ äºŒå‰æ ‘\nç®—æ³• æ±‚æ•°ç»„äº¤é›† å¤æ‚åº¦\nç®—æ³• é“¾è¡¨ å¿«æ…¢æŒ‡é’ˆ\nhttp code ç \nå¸¸ç”¨ormæ¡†æ¶\ntcp udp\næ—¥å¿—å­˜å‚¨ elk\næ¥å£ç¨³å®šæ€§ç›‘æ§\nsync map\nGMP\nåƒåœ¾å›æ”¶\nä½ æœ‰ä»€ä¹ˆæƒ³é—®çš„ é—®äº†ä¸‹å¯¹é¢éƒ¨é—¨\næœŸæœ›è–ªèµ„\näºŒé¢ è‡ªæˆ‘ä»‹ç» é¡¹ç›®ä»‹ç» redis ç›¸å…³ åˆ†å¸ƒå¼é” åˆ†å¸ƒå¼å¯ç”¨æ€§å¦‚ä½•ä¿è¯ mysql å¼•æ“ b+æ ‘ ç´¢å¼•å·¦å‰ç¼€åŸåˆ™ åŸç† grpc ç›¸æ¯”httpä¼˜è¶Šæ€§ grpc-gateway gin è·¯ç”± ä¸­é—´ä»¶ é“¾è¡¨äº¤å‰ç‚¹ æ–‡æœ¬å•è¯æ•°é‡ç»Ÿè®¡ æœ€å¤šçš„å‰å‡ ä¸ª channel GMP ç™¾åº¦ ä¸€é¢ è‡ªæˆ‘ä»‹ç»\né¡¹ç›®ä»‹ç»\nå¤§ç§’ channel ä½¿ç”¨ ç§’æ€ å¼‚æ­¥ç¼“å­˜ é•¿é“¾æ¥ epoll ä¸‰æ•°æ±‚å’Œ\näºŒé¢ è‡ªæˆ‘ä»‹ç»\né¡¹ç›®ä»‹ç» ä¸­é—´ç©¿æ’ä¸€äº›goåŸºç¡€çŸ¥è¯†\ntoken åŠ ç­¾ channel ä½¿ç”¨åœºæ™¯ GMP å’Œçº¿ç¨‹ç›¸æ¯”ä¸ºä»€ä¹ˆæ›´è½»é‡ map å¦‚ä½•æœ‰åº åˆ‡ç‰‡ redis\nsortset è·³è¡¨ä¸ºå•¥ä¸ç”¨b+æ ‘ mysql\nbæ ‘b+æ ‘ åŸå­æ€§å¦‚ä½•ä¿è¯çš„ äº‹åŠ¡éš”ç¦»çº§åˆ« åŸå­æ€§å¦‚ä½•ä¿è¯ éš”ç¦»æ€§å¦‚ä½•ä¿è¯ ç´¢å¼• è§¦å‘æ¡ä»¶ explain è·å–ç´¢å¼•è§¦å‘æƒ…å†µ æ…¢æŸ¥è¯¢ä¼˜åŒ– è®¾è®¡é¢˜ è·å–æœ‹å‹åœˆ\næŸ¥è¯¢æ—‹è½¬æ•°ç»„\næœ‰ä»€ä¹ˆæƒ³é—®çš„\nä½ å¯¹æˆ‘ä»¬è¿™ä¸ªéƒ¨é—¨æœ‰ä»€ä¹ˆç†è§£\nä¸‰é¢ èŠé¡¹ç›® é¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜æ€ä¹ˆè§£å†³ å’Œäº§å“é‡åˆ°åˆ†æ­§æ€ä¹ˆåŠ ä¸ªäººå‘å±• æ»´æ»´ go go è°ƒåº¦ goroutineæ˜¯è¢«é˜»å¡åˆ°é‡æ–°è¿è¡Œè¿‡ç¨‹ go map å†…å­˜æ¨¡å‹ channel åƒåœ¾å›æ”¶ å†…å­˜é€ƒé€¸ è¿”å›æŒ‡é’ˆä¼šä¸ä¼šå‘ç”Ÿå†…å­˜é€ƒé€¸ interface åº•å±‚ç»“æ„ goroutine æ³„éœ² å¦‚ä½•æ’æŸ¥ å¸¸è§åˆ°goroutineæ³„éœ² å¦‚ä½•é¿å… mysql éš”ç¦»çº§åˆ« å¦‚ä½•å®ç°çš„ mvcc åŸç† ç´¢å¼• b+æ ‘ b+æ ‘å¦‚ä½•åˆ†è£‚ èšé›†ç´¢å¼• éèšé›†ç´¢å¼• ç´¢å¼•åˆ›å»ºåŸåˆ™ è”åˆç´¢å¼•è§¦å‘åŸåˆ™ åˆ†åº“åˆ†è¡¨åŸåˆ™ redis å“¨å…µ ä¸»ä» æŒä¹…åŒ– æ”¯æŒæ•°æ®ç±»å‹ å­—ç¬¦ä¸² sds å®ç°åŸç† å¦‚ä½•æ‰©å®¹ zsedåº•å±‚æ•°æ®ç»“æ„ ä¸ºä»€ä¹ˆ é€šè¿‡aop rdb æ¢å¤è¿‡ç¨‹ï¼Œ ä¼šä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ èŠé¡¹ç›® ä½ æœ‰ä»€ä¹ˆæƒ³é—®äº† å­—èŠ‚ è‡ªæˆ‘ä»‹ç» é¡¹ç›® redis å¸¸ç”¨æ•°æ®ç»“æ„ å­—ç¬¦ä¸²å®ç° ä¸ºä»€ä¹ˆ zset åº•å±‚å®ç° è·³è¡¨ å‹ç¼©åˆ—è¡¨ åˆ†åˆ«ä»€ä¹ˆæƒ…å†µä¸‹é‡‡å–ä»€ä¹ˆç»“æ„ å®é™…åº”ç”¨ åˆ†å¸ƒå¼é” è·å–é”ã€åˆ é™¤é”çš„luaè„šæœ¬ ä¸ºä»€ä¹ˆä¸ç”¨ setnx setex hashmap æ‰©å®¹ å†™æ—¶å¤åˆ¶ é•¿æœŸæ²¡è¢«è®¿é—®çš„keyå¦‚ä½•å¤„ç† mysql æ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢ç»å†äº†å“ªäº›éƒ¨åˆ† ä¼˜åŒ–å™¨çš„åšäº†ä»€ä¹ˆ å¦‚ä½•é€‰æ‹©è¾ƒä¼˜ç´¢å¼• å•æ¡sqlæŸ¥è¯¢æ—¶é—´è¿‡é•¿ ä¸æ¶‰åŠäº‹åŠ¡ å¦‚ä½•æ’æŸ¥ åˆ†é¡µæŸ¥è¯¢ç¬¬ä¸€é¡µå’Œæœ€åä¸€é¡µæ€§èƒ½æœ‰æ²¡æœ‰å·®å¼‚ bæ ‘ b+æ ‘ äºŒå‰æ ‘ go map ä¸ºä½•è¾“å‡ºæ˜¯ä¹±åºçš„ ç¼“å­˜ç©¿é€ ç¼“å­˜å‡»ç©¿ http 502 504 499 æ¥å£å“åº”æ—¶é—´è¿‡é•¿ å¦‚ä½•æ’æŸ¥ ä¸‹ä¸€ä¸ªè¾ƒå¤§æ’åˆ— æ¦‚ç‡é¢˜ ","permalink":"https://www.mfun.ink/2022/10/08/interview-2021/","summary":"\u003ch2 id=\"å¥½æœªæ¥\"\u003eå¥½æœªæ¥\u003c/h2\u003e\n\u003ch3 id=\"ä¸€é¢\"\u003eä¸€é¢\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eè‡ªæˆ‘ä»‹ç»\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eæœ€è¿‘åšåˆ°é¡¹ç›® æ²¡ç»†èŠ\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eredis å¸¸ç”¨ç»“æ„\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eredis å®•æœºæ¢å¤ aop rdb\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eè¿æ¥æ±  è·å–å¥æŸ„æ—¶å¹¶å‘æ§åˆ¶\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003emysql å¼•æ“ åŒºåˆ«\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eç´¢å¼•ç»“æ„ bæ ‘ b+æ ‘ äºŒå‰æ ‘\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eç®—æ³• æ±‚æ•°ç»„äº¤é›† å¤æ‚åº¦\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eç®—æ³• é“¾è¡¨ å¿«æ…¢æŒ‡é’ˆ\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ehttp code ç \u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eå¸¸ç”¨ormæ¡†æ¶\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003etcp udp\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eæ—¥å¿—å­˜å‚¨ elk\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eæ¥å£ç¨³å®šæ€§ç›‘æ§\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003esync map\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eGMP\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eåƒåœ¾å›æ”¶\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eä½ æœ‰ä»€ä¹ˆæƒ³é—®çš„ é—®äº†ä¸‹å¯¹é¢éƒ¨é—¨\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eæœŸæœ›è–ªèµ„\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e","title":"2021å¹´æ»´æ»´ã€è…¾è®¯è§†é¢‘ã€å­—èŠ‚ç­‰é¢è¯•è®°å½•"},{"content":"ç»ˆç«¯å‘½ä»¤è¡Œ brewåŒ…ç®¡ç†å·¥å…· brew macä¸‹çš„ç¥å™¨ï¼Œç±»ä¼¼linuxçš„åŒ…ç®¡ç†å·¥å…·ï¼Œå¯ä»¥é€šè¿‡brewå®‰è£…å„ç§è½¯ä»¶ã€‚ vector@vectordeMacBook-Pro î‚° ~ î‚° brew -h Example usage: brew search [TEXT|/REGEX/] // æŸ¥æ‰¾è½¯ä»¶ brew info [FORMULA...] // è½¯ä»¶åŒ…ä¿¡æ¯ brew install FORMULA... // å®‰è£… brew update // æ›´æ–° brew upgrade [FORMULA...] // æ›´æ–°æŒ‡å®šåŒ… brew uninstall FORMULA... // å¸è½½ brew list [FORMULA...] // å·²å®‰è£…åˆ—è¡¨ Troubleshooting: brew config brew doctor brew install --verbose --debug FORMULA Contributing: brew create [URL [--no-fetch]] brew edit [FORMULA...] Further help: brew commands brew help [COMMAND] man brew https://docs.brew.sh iterm2 + oh-my-zsh + powerline å®‰è£… iterm2 å®‰è£…zshå¹¶åˆ‡æ¢åˆ°zsh brew install zsh chsh -s /bin/zsh å®‰è£…antigen, oh-my-zshæ’ä»¶ç®¡ç†å·¥å…·, ç¼–è¾‘~/.zshrcæ–‡ä»¶ source ~/antigen.zsh #æ”¹æˆä½ çš„antigenå®‰è£…è·¯å¾„ # Load the oh-my-zsh\u0026#39;s library. antigen use oh-my-zsh # Bundles from the default repo (robbyrussell\u0026#39;s oh-my-zsh). # oh-my-zsh çš„ä¸€äº›å¸¸ç”¨æ’ä»¶ antigen bundle git antigen bundle heroku antigen bundle pip antigen bundle lein antigen bundle command-not-found # Syntax highlighting bundle. antigen bundle zsh-users/zsh-syntax-highlighting # è‡ªåŠ¨è”æƒ³å†å²å‘½ä»¤ antigen bundle zsh-users/zsh-autosuggestions # ä¸»é¢˜ antigen theme agnoster # Tell Antigen that you\u0026#39;re done. antigen apply å®‰è£…powerlineå­—ä½“ ä¿®æ”¹iTerm2é…ç½® æ‰“å¼€iTerm2-\u0026gt;Preferences-\u0026gt;Profiles-Colorsé…ç½®ä¸»é¢˜ æ‰“å¼€iTerm2-\u0026gt;Preferences-\u0026gt;Profiles-Texté…ç½®å­—ä½“ æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ æ ¹ç›®å½•ä¸‹åˆ›å»ºç›®å½• åœ¨/etcç›®å½•ä¸‹ä½¿ç”¨rootæƒé™åˆ›å»ºç¼–è¾‘synthetic.confï¼Œæ·»åŠ æƒ³åˆ›å»ºçš„ç›®å½•, å¦‚ä¸‹homeå’Œåé¢çš„è·¯å¾„ä¹‹é—´ç”¨tabç¬¦åˆ†éš”ï¼Œä¸èƒ½ç”¨ç©ºæ ¼ï¼Œç„¶åé‡å¯ï¼Œè¿™ç§æ–¹å¼ä¼šåœ¨/(æ ¹ç›®å½•)ä¸‹åˆ›å»ºä¸€ä¸ªhomeç›®å½•è½¯è¿æ¥åˆ°/Users/xxx/dataç›®å½•ã€‚å¯ä»¥ç›´æ¥é€šè¿‡cd /home è¿›å…¥è¯¥ç›®å½•ã€‚é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥è§£å†³åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶æ— æƒé™é—®é¢˜ã€‚\nhome\t/Users/xxx/data å®‰è£…treeå‘½ä»¤ linuxä¸‹æ˜¯è‡ªå¸¦treeå‘½ä»¤ï¼Œå¯ä»¥ç”¨æ¥æŸ¥çœ‹æ–‡ä»¶ç›®å½•ç»“æ„ï¼Œmacä¸‹éœ€è¦æ‰‹åŠ¨å®‰è£…\nbrew install tree // æ˜¾ç¤ºå‰nçº§ç›®å½• tree -L åŠ æ•°å­— å¸è½½é”å®šapp æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œè§£é™¤é”å®šåå¯ä»¥æ­£å¸¸å¸è½½\nls -dleO@ /Applications/xxx sudo chflags -R noschg /Applications/xxx å¯åŠ¨é¡¹ é€šè¿‡ç³»ç»Ÿè®¾ç½®-ã€‰ç™»å½•é¡¹æŸ¥çœ‹ ä½¿ç”¨launchctlå‘½ä»¤æŸ¥çœ‹ # æŸ¥çœ‹ç”¨æˆ·çº§å¯åŠ¨é¡¹ launchctl list ä»¥ä¸Šæ–¹å¼åªèƒ½çœ‹åˆ°ä¸€éƒ¨åˆ†ï¼Œå¦‚è¿‡æƒ³çœ‹æ›´åŠ è¯¦ç»†çš„å¯åŠ¨é¡¹é…ç½®ï¼Œå¯ä»¥åˆ°ä¸‹é¢è¿™äº›ç›®å½•æŸ¥çœ‹ï¼š\n// ç”¨æˆ·çº§åˆ«å¯åŠ¨é¡¹ç›® ls ~/Library/LaunchAgents // ç³»ç»Ÿçº§ ls /Library/LaunchAgents ls /Library/LaunchDaemons ","permalink":"https://www.mfun.ink/2020/11/18/mac-use/","summary":"\u003ch3 id=\"ç»ˆç«¯å‘½ä»¤è¡Œ\"\u003eç»ˆç«¯å‘½ä»¤è¡Œ\u003c/h3\u003e\n\u003ch4 id=\"brewåŒ…ç®¡ç†å·¥å…·\"\u003ebrewåŒ…ç®¡ç†å·¥å…·\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://brew.sh/\"\u003ebrew\u003c/a\u003e macä¸‹çš„ç¥å™¨ï¼Œç±»ä¼¼linuxçš„åŒ…ç®¡ç†å·¥å…·ï¼Œå¯ä»¥é€šè¿‡brewå®‰è£…å„ç§è½¯ä»¶ã€‚\u003c/li\u003e\n\u003c/ul\u003e","title":"MacOS ä½¿ç”¨ç¬”è®°"},{"content":"ç”ŸæˆäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ é¦–å…ˆï¼Œå†™ä¸€ä¸ªgo mainå‡½æ•°ï¼Œè¿™é‡Œå°±ç®€å•è¾“å‡ºä»¥ä¸‹hello worldã€‚\npackage main import \u0026#34;fmt\u0026#34; func main() { fmt.Println(\u0026#34;hello word\u0026#34;) } æ‰§è¡Œgo build -gcflags \u0026quot;-N -l\u0026quot; -ldflags=-compressdwarf=false -o main main.goç”Ÿæˆå¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ã€‚\nå¼€å¯gdbè°ƒè¯• æ‰§è¡Œgdb mainå¼€å§‹gdbè°ƒè¯•ã€‚é€šè¿‡i filesæŸ¥çœ‹ç¨‹åºå…¥å£åœ°å€ï¼Œå†è¿™ä¸ªåœ°å€æ‰“ä¸Šæ–­ç‚¹ã€‚\nLoading Go Runtime support. (gdb) i files Symbols from \u0026#34;/Users/vector/go/src/alg/source/main/main\u0026#34;. Local exec file: `/Users/vector/go/src/alg/source/main/main\u0026#39;, file type mach-o-x86-64. Entry point: 0x1063c80 0x0000000001001000 - 0x00000000010a6b73 is .text 0x00000000010a6b80 - 0x00000000010ee254 is __TEXT.__rodata 0x00000000010ee260 - 0x00000000010ee386 is __TEXT.__symbol_stub1 0x00000000010ee3a0 - 0x00000000010eeb40 is __TEXT.__typelink 0x00000000010eeb40 - 0x00000000010eebb0 is __TEXT.__itablink 0x00000000010eebb0 - 0x00000000010eebb0 is __TEXT.__gosymtab 0x00000000010eebc0 - 0x0000000001155c85 is __TEXT.__gopclntab 0x0000000001156000 - 0x0000000001156020 is __DATA.__go_buildinfo 0x0000000001156020 - 0x00000000011561a8 is __DATA.__nl_symbol_ptr 0x00000000011561c0 - 0x00000000011646c0 is __DATA.__noptrdata 0x00000000011646c0 - 0x000000000116b7f0 is .data 0x000000000116b800 - 0x000000000119b830 is .bss 0x000000000119b840 - 0x000000000119df08 is __DATA.__noptrbss (gdb) b *0x1063c80 Breakpoint 1 at 0x1063c80: file /usr/local/go/src/runtime/rt0_darwin_amd64.s, line 8. æ‰§è¡Œrunç¨‹åºåœåœ¨æ–­ç‚¹å¤„ï¼Œè¯´æ˜ç¨‹åºå…¥å£åœ¨/usr/local/go/src/runtime/rt0_darwin_amd64.sçš„ç¬¬8è¡Œã€‚\n(gdb) run Starting program: /Users/vector/go/src/alg/source/main/main [New Thread 0xc03 of process 99850] [New Thread 0x2903 of process 99850] warning: unhandled dyld version (16) Thread 2 hit Breakpoint 1, _rt0_amd64_darwin () at /usr/local/go/src/runtime/rt0_darwin_amd64.s:8 8 JMP _rt0_amd64(SB) ç”¨ç¼–è¾‘å™¨æ‰“å¼€goæºç ï¼Œå…¥å£ç¨‹åºæ‰§è¡Œ_rt0_amd64(SB)\nTEXT _rt0_amd64_darwin(SB),NOSPLIT,$-8 JMP\t_rt0_amd64(SB) gdbè¾“å…¥sç»§ç»­æ‰§è¡Œï¼Œæ‰¾åˆ°_rt0_amd64()çš„ä½ç½®\n(gdb) s _rt0_amd64 () at /usr/local/go/src/runtime/asm_amd64.s:15 15 MOVQ 0(SP), DI // argc (gdb) _rt0_amd64å‡½æ•°æºç , è¿™éƒ¨åˆ†ä¸»è¦æ˜¯è¯»å–å‘½ä»¤è¡Œå‚æ•°argcã€argvï¼Œåˆ†åˆ«è¯»å–åˆ°å¯„å­˜å™¨diã€siï¼Œç„¶åè·³åˆ°runtimeÂ·rt0_go(SB)\nTEXT _rt0_amd64(SB),NOSPLIT,$-8 MOVQ\t0(SP), DI\t// argc LEAQ\t8(SP), SI\t// argv JMP\truntimeÂ·rt0_go(SB) gdb ç»§ç»­æ‰§è¡Œï¼Œæ‰¾åˆ°runtime.rt0_go\n_rt0_amd64 () at /usr/local/go/src/runtime/asm_amd64.s:15 15 MOVQ 0(SP), DI // argc [...] (gdb) s runtime.rt0_go () at /usr/local/go/src/runtime/asm_amd64.s:89 89 MOVQ DI, AX // argc (gdb) runtime.rt0_go éƒ¨åˆ†ä»£ç æ¯”è¾ƒé•¿ï¼Œæˆ‘ä»¬åˆ†å—æ¥çœ‹ï¼Œé¦–å…ˆæ˜¯å°†å‘½ä»¤è¡Œå‚æ•°æ”¾åˆ°å †æ ˆä¸­ï¼Œå°†æ ˆé¡¶å¯„å­˜å™¨SPè¿›è¡Œ16å­—èŠ‚å¯¹é½ã€‚\nTEXT runtimeÂ·rt0_go(SB),NOSPLIT,$0 // copy arguments forward on an even stack MOVQ\tDI, AX\t// argc æŠŠargcæ”¾åˆ°AX MOVQ\tSI, BX\t// argv æŠŠargvæ–¹æ³•BX SUBQ\t$(4*8+7), SP // 2args 2auto ANDQ\t$~15, SP // å†…å­˜16å­—èŠ‚å¯¹é½ MOVQ\tAX, 16(SP) // argc æ”¾åˆ° SP + 16å­—èŠ‚å¤„ MOVQ\tBX, 24(SP) // argv æ”¾åˆ° SP + 24å­—èŠ‚å¤„ é€šè¿‡gdbè°ƒè¯•çœ‹ä¸‹è¿™é‡Œspåœ°å€çš„å˜åŒ–,é¦–å…ˆæ˜¯æ‰§è¡ŒSUBQ\t$(4*8+7), SPå‰åï¼Œæ‰§è¡Œå‰0x7ffeefbff330ï¼Œæ‰§è¡Œååœ°å€0x7ffeefbff309ï¼Œå˜åŒ–å‰åçš„åè¿›åˆ¶å·®æ˜¯39=4*8+7ï¼Œä¹Ÿå°±æ˜¯è¿™é‡Œé€šè¿‡ç§»åŠ¨SPæŒ‡é’ˆåˆ†é…39å­—èŠ‚çš„å†…å­˜ã€‚è‡³äºä¸ºä»€ä¹ˆè¦åˆ†é…å†…å­˜ï¼Œåº”è¯¥æ˜¯ä¸ºäº†ä¿å­˜argcï¼Œargvã€‚ MOVQ\tBX, 24(SP)æ˜¯ç§»åŠ¨8å­—èŠ‚çš„BXåˆ°SP+24å­—èŠ‚å¤„ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆè¦åˆ†é…4*8+7å†…å­˜ï¼Œè¦å¤§äº32å­—èŠ‚ã€‚\n91 SUBQ $(4*8+7), SP // 2args 2auto (gdb) i frame Stack level 0, frame at 0x7ffeefbff338: rip = 0x10607e6 in runtime.rt0_go (/usr/local/go/src/runtime/asm_amd64.s:91); saved rip = 0x1 called by frame at 0x7ffeefbff340 source language asm. Arglist at 0x7ffeefbff328, args: Locals at 0x7ffeefbff328, Previous frame\u0026#39;s sp is 0x7ffeefbff338 Saved registers: // æ‰§è¡Œå‰åœ°å€0x7ffeefbff330 rip at 0x7ffeefbff330 (gdb) s runtime.rt0_go () at /usr/local/go/src/runtime/asm_amd64.s:92 92 ANDQ $~15, SP (gdb) i frame Stack level 0, frame at 0x7ffeefbff311: rip = 0x10607ea in runtime.rt0_go (/usr/local/go/src/runtime/asm_amd64.s:92); saved rip = 0x11bf0 called by frame at 0x7ffeefbff319 source language asm. Arglist at 0x7ffeefbff301, args: Locals at 0x7ffeefbff301, Previous frame\u0026#39;s sp is 0x7ffeefbff311 Saved registers: // æ‰§è¡Œååœ°å€ 0x7ffeefbff309 rip at 0x7ffeefbff309 ä¸‹é¢ç»§ç»­çœ‹16å­—èŠ‚å¯¹é½æ“ä½œï¼Œæ‰§è¡ŒANDQ $~15, SPæŒ‰ä½\u0026amp;å°†0x7ffeefbff309å16ä½å˜æˆ0å¾—åˆ°0x7ffeefbff300å˜æˆ16çš„æ•´æ•°å€ï¼Œè¿™æ ·åšä¸»è¦æ˜¯å› ä¸ºCPUä¸­çš„SSEæŒ‡ä»¤ä¸€èˆ¬éƒ½è¦æ±‚16å­—èŠ‚å¯¹é½ã€‚\nruntime.rt0_go () at /usr/local/go/src/runtime/asm_amd64.s:92 92 ANDQ $~15, SP (gdb) i frame Stack level 0, frame at 0x7ffeefbff311: rip = 0x10607ea in runtime.rt0_go (/usr/local/go/src/runtime/asm_amd64.s:92); saved rip = 0x11bf0 called by frame at 0x7ffeefbff319 source language asm. Arglist at 0x7ffeefbff301, args: Locals at 0x7ffeefbff301, Previous frame\u0026#39;s sp is 0x7ffeefbff311 Saved registers: rip at 0x7ffeefbff309 (gdb) s runtime.rt0_go () at /usr/local/go/src/runtime/asm_amd64.s:93 93 MOVQ AX, 16(SP) (gdb) i frame Stack level 0, frame at 0x7ffeefbff308: rip = 0x10607ee in runtime.rt0_go (/usr/local/go/src/runtime/asm_amd64.s:93); saved rip = 0x7ffeefbff328 called by frame at 0x7ffeefbff310 source language asm. Arglist at 0x7ffeefbff2f8, args: Locals at 0x7ffeefbff2f8, Previous frame\u0026#39;s sp is 0x7ffeefbff308 Saved registers: rip at 0x7ffeefbff300 ä¸‹é¢æ˜¯é’ˆå¯¹g0çš„ä¸€äº›æ“ä½œä¹Ÿæ˜¯åˆå§‹goroutineï¼Œ g0çš„æ ˆåˆå§‹å¤§å°å¤§çº¦64kï¼Œä»ä¸‹é¢çš„ä»£ç ä¸­å¯ä»¥çœ‹åˆ°g_stackguard0æ˜¯å¼€å¯CGOæ—¶ä¼šç”¨åˆ°çš„ã€‚\nMOVQ\t$runtimeÂ·g0(SB), DI //å°†g0æ”¾åˆ° DI LEAQ\t(-64*1024+104)(SP), BX // å°†SP-64*1024+104çš„åœ°å€æ”¾åˆ°BX MOVQ\tBX, g_stackguard0(DI) // å°†BXèµ‹å€¼ç»™g0.g_stackguard0 MOVQ\tBX, g_stackguard1(DI) // å°†BXèµ‹å€¼ç»™g0.g_stackguard1 MOVQ\tBX, (g_stack+stack_lo)(DI) // å°†BXèµ‹å€¼g0.g_stack.stack_lo goroutineæ ˆåº•éƒ¨ MOVQ\tSP, (g_stack+stack_hi)(DI) // å°†SPèµ‹å€¼g0.g_stack.stack_hi goroutineæ ˆé¡¶éƒ¨ å†å¾€ä¸‹å°±æ˜¯å…³äºcpuä¿¡æ¯çš„å¤„ç†ä»¥åŠCGOçš„åˆå§‹åŒ–,è¿™éƒ¨åˆ†å°±ç•¥è¿‡ï¼Œæ¥ç€å¾€ä¸‹çœ‹æ˜¯æ ¹æ®æ“ä½œç³»ç»Ÿç±»å‹åˆ¤æ–­æ˜¯å¦è¿›è¡ŒTLSçš„åˆå§‹åŒ–ï¼Œå¦‚æœä¸æ»¡è¶³è¿™å‡ ä¸ªæ“ä½œç³»ç»Ÿå°±æ‰§è¡ŒTLSåˆå§‹åŒ–å¹¶æ ¡éªŒæ˜¯å¦æ”¯æŒTLSï¼Œæ»¡è¶³å°±ç›´æ¥æ‰§è¡Œokéƒ¨åˆ†çš„ä»£ç ã€‚\n#ifdef GOOS_plan9 // skip TLS setup on Plan 9 JMP ok #endif #ifdef GOOS_solaris // skip TLS setup on Solaris JMP ok #endif #ifdef GOOS_illumos // skip TLS setup on illumos JMP ok #endif #ifdef GOOS_darwin // skip TLS setup on Darwin JMP ok #endif // å°†m0çš„m_tlsåœ°å€æ”¾åˆ°DIå¯„å­˜å™¨ LEAQ\truntimeÂ·m0+m_tls(SB), DI // å¯¹m0è®¾ç½®tls CALL\truntimeÂ·settls(SB) // store through it, to make sure it works // å°†tlsåœ°å€æ”¾åˆ°å¯„å­˜å™¨BXï¼Œä¹Ÿå°±æ˜¯m0.m_tls[1]çš„åœ°å€ get_tls(BX) // æŠŠå¸¸é‡0x123æ‹·è´åˆ°BXä¿å­˜çš„åœ°å€æŒ‡å‘çš„ä½ç½®ä¹Ÿå°±æ˜¯m0.m_tls MOVQ\t$0x123, g(BX) // å°†m0.m_tlsçš„å€¼æ‹·è´åˆ°AX MOVQ\truntimeÂ·m0+m_tls(SB), AX // æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰ï¼Œæ”¯æŒTLSçš„è¯è¿™é‡Œå°±æ˜¯ç›¸ç­‰çš„ CMPQ\tAX, $0x123 JEQ 2(PC) // ä¸æ”¯æŒTLSå°±é€€å‡ºç¨‹åº CALL\truntimeÂ·abort(SB) ç»§ç»­çœ‹okéƒ¨åˆ†çš„ä»£ç ï¼Œè¿™éƒ¨åˆ†ä¸»è¦æ˜¯è¿›è¡Œg0å’Œm0çš„ç»‘å®šï¼Œå˜é‡ç±»å‹æ ¡éªŒï¼Œè·å–å‘½ä»¤è¡Œå‚æ•°ï¼Œè¿›è¡Œosinitï¼Œschedinitï¼Œæœ€åå¯åŠ¨ä¸€ä¸ªæ–°çš„goroutineï¼Œæ‰§è¡Œmainå‡½æ•°\nok: // set the per-goroutine and per-mach \u0026#34;registers\u0026#34; // è¿›è¡Œg0å’Œm0çš„åŒå‘ç»‘å®š get_tls(BX) LEAQ\truntimeÂ·g0(SB), CX MOVQ\tCX, g(BX) LEAQ\truntimeÂ·m0(SB), AX // save m-\u0026gt;g0 = g0 MOVQ\tCX, m_g0(AX) // save m0 to g0-\u0026gt;m MOVQ\tAX, g_m(CX) CLD\t// convention is D is always left cleared // è¿›è¡Œå˜é‡ç±»å‹æ ¡éªŒ CALL\truntimeÂ·check(SB) // è§£æå‘½ä»¤è¡Œå‚æ•° MOVL\t16(SP), AX\t// copy argc MOVL\tAX, 0(SP) MOVQ\t24(SP), AX\t// copy argv MOVQ\tAX, 8(SP) CALL\truntimeÂ·args(SB) // è¿›è¡Œç³»ç»Ÿä¿¡æ¯è·å–ï¼Œcpuæ ¸æ•°ï¼Œå†…å­˜é¡µå¤§å° CALL\truntimeÂ·osinit(SB) // è¿›è¡Œå„ç§åˆå§‹åŒ–å†…å­˜åˆ†é…ï¼Œgcç­‰ CALL\truntimeÂ·schedinit(SB) // å¯åŠ¨ç³»ç»Ÿç›‘æ§ä»»åŠ¡ MOVQ\t$runtimeÂ·mainPC(SB), AX\t// entry PUSHQ\tAX PUSHQ\t$0\t// arg size // åˆ›å»ºä¸€ä¸ªæ–°çš„goroutionæ”¾åˆ°pä¸­ CALL\truntimeÂ·newproc(SB) POPQ\tAX POPQ\tAX // å¯åŠ¨mï¼Œæ‰§è¡Œè°ƒåº¦å¾ªç¯ï¼Œæ‰§è¡Œgoroutine CALL\truntimeÂ·mstart(SB) CALL\truntimeÂ·abort(SB)\t// mstart should never return RET // Prevent dead-code elimination of debugCallV1, which is // intended to be called by debuggers. MOVQ\t$runtimeÂ·debugCallV1(SB), AX RET å°ç»“ å¤§æ¦‚äº†è§£äº†goå¯åŠ¨æµç¨‹ï¼Œå…¶ä¸­runtime.schedinitæ˜¯å¯åŠ¨è¿‡ç¨‹å†…å®¹æœ€å¤šçš„ä¸€å—ï¼Œä¸‹ä¸€æ­¥éœ€è¦è¯¦ç»†çœ‹ä¸‹è¿™éƒ¨åˆ†çš„å†…å®¹ã€‚\n","permalink":"https://www.mfun.ink/2020/10/27/go-start-up/","summary":"\u003ch3 id=\"ç”ŸæˆäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶\"\u003eç”ŸæˆäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶\u003c/h3\u003e\n\u003cp\u003eé¦–å…ˆï¼Œå†™ä¸€ä¸ªgo mainå‡½æ•°ï¼Œè¿™é‡Œå°±ç®€å•è¾“å‡ºä»¥ä¸‹hello worldã€‚\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003epackage main\n\nimport \u0026#34;fmt\u0026#34;\n\nfunc main()  {\n\tfmt.Println(\u0026#34;hello word\u0026#34;)\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eæ‰§è¡Œ\u003ccode\u003ego build -gcflags \u0026quot;-N -l\u0026quot; -ldflags=-compressdwarf=false -o main main.go\u003c/code\u003eç”Ÿæˆå¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ã€‚\u003c/p\u003e\n\u003ch3 id=\"å¼€å¯gdbè°ƒè¯•\"\u003eå¼€å¯gdbè°ƒè¯•\u003c/h3\u003e\n\u003cp\u003eæ‰§è¡Œ\u003ccode\u003egdb main\u003c/code\u003eå¼€å§‹gdbè°ƒè¯•ã€‚é€šè¿‡i filesæŸ¥çœ‹ç¨‹åºå…¥å£åœ°å€ï¼Œå†è¿™ä¸ªåœ°å€æ‰“ä¸Šæ–­ç‚¹ã€‚\u003c/p\u003e","title":"Goå¯åŠ¨mainå‡½æ•°éƒ½å¹²äº†ä»€ä¹ˆ(ä¸€)"},{"content":"å®‰è£… ç›´æ¥ä½¿ç”¨brew install gdb å®‰è£…ï¼Œ æ²¡æœ‰å®‰è£…brewçš„éœ€è¦å…ˆå®‰è£…brewã€‚\né—®é¢˜ å®‰è£…ä¹‹åï¼Œä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°è¿™ä¹ˆä¸€ä¸ªé”™è¯¯:\nUnable to find Mach task port for process-id 33653: (os/kern) failure (0x5). (please check gdb is codesigned - see taskgated(8)) è¿™æ˜¯å› ä¸ºDarwin kernelçš„æƒé™æ§åˆ¶é—®é¢˜ï¼Œgdbè°ƒè¯•éœ€è¦æœ‰å¯åŠ¨ä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œå¹¶ä¸”è¦æœ‰è¿™ä¸ªè¿›ç¨‹çš„æƒé™ã€‚è§£å†³æ–¹å¼å¦‚ä¸‹ï¼š\nåˆ›å»ºæ ¹è¯ä¹¦\næ‰“å¼€é’¥åŒ™ä¸²è®¿é—®-è¯ä¹¦åŠ©åŠ›-åˆ›å»ºè¯ä¹¦ï¼Œåˆ›å»ºä¸€ä¸ªä»£ç ç­¾åçš„è‡ªç­¾åæ ¹è¯ä¹¦ä¾‹å¦‚ï¼šgdb-certã€‚ æ‰§è¡Œ security find-certificate -c gdb-cert æŸ¥çœ‹åˆ›å»ºçš„è¯ä¹¦ï¼Œåˆ›å»ºæˆåŠŸçš„è¯è¾“å‡ºå¦‚ä¸‹ï¼š keychain: \u0026#34;/Users/vector/Library/Keychains/login.keychain-db\u0026#34; version: 512 class: 0x80001000 attributes: \u0026#34;alis\u0026#34;\u0026lt;blob\u0026gt;=\u0026#34;xxxx\u0026#34; \u0026#34;cenc\u0026#34;\u0026lt;uint32\u0026gt;=0x00000003 \u0026#34;ctyp\u0026#34;\u0026lt;uint32\u0026gt;=0x00000001 [...] ç¡®ä¿è¯ä¹¦æ²¡æœ‰è¿‡æœŸ security find-certificate -p -c gdb-cert | openssl x509 -checkend 0\næ·»åŠ è¯ä¹¦ä¿¡ä»» åˆ›å»ºgdb-entitlement.xml,æ·»åŠ ä»¥ä¸‹å†…å®¹ \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;!DOCTYPE plist PUBLIC \u0026#34;-//Apple//DTD PLIST 1.0//EN\u0026#34; \u0026#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd\u0026#34;\u0026gt; \u0026lt;plist version=\u0026#34;1.0\u0026#34;\u0026gt; \u0026lt;dict\u0026gt; \u0026lt;key\u0026gt;com.apple.security.cs.allow-jit\u0026lt;/key\u0026gt; \u0026lt;true/\u0026gt; \u0026lt;key\u0026gt;com.apple.security.cs.allow-unsigned-executable-memory\u0026lt;/key\u0026gt; \u0026lt;true/\u0026gt; \u0026lt;key\u0026gt;com.apple.security.cs.allow-dyld-environment-variables\u0026lt;/key\u0026gt; \u0026lt;true/\u0026gt; \u0026lt;key\u0026gt;com.apple.security.cs.disable-library-validation\u0026lt;/key\u0026gt; \u0026lt;true/\u0026gt; \u0026lt;key\u0026gt;com.apple.security.cs.disable-executable-page-protection\u0026lt;/key\u0026gt; \u0026lt;true/\u0026gt; \u0026lt;key\u0026gt;com.apple.security.cs.debugger\u0026lt;/key\u0026gt; \u0026lt;true/\u0026gt; \u0026lt;key\u0026gt;com.apple.security.get-task-allow\u0026lt;/key\u0026gt; \u0026lt;true/\u0026gt; \u0026lt;/dict\u0026gt; \u0026lt;/plist\u0026gt; \u0026lt;/pre\u0026gt; æ‰§è¡Œcodesign --entitlements gdb-entitlement.xml -fs gdb-cert $(which gdb)ã€‚ æ‰§è¡Œcodesign -vv $(which gdb)æŸ¥çœ‹æ˜¯å¦æ·»åŠ æˆåŠŸï¼Œè¾“å‡ºå¦‚ä¸‹\n$: codesign -vv $(which gdb) /usr/local/bin/gdb: valid on disk /usr/local/bin/gdb: satisfies its Designated Requirement åˆ·æ–°ç³»ç»Ÿè¯ä¹¦å’Œcodesignæ•°æ®\næ‰§è¡Œsudo killall taskgatedï¼Œé‡æ–°è¿è¡Œgdbè°ƒè¯•ï¼Œæ²¡æœ‰å†æŠ¥é”™ã€‚ å‚è€ƒ gdb wiki PermissionsDarwin ","permalink":"https://www.mfun.ink/2020/10/26/macos-gdb-install/","summary":"\u003ch3 id=\"å®‰è£…\"\u003eå®‰è£…\u003c/h3\u003e\n\u003cp\u003eç›´æ¥ä½¿ç”¨\u003ccode\u003ebrew install gdb\u003c/code\u003e å®‰è£…ï¼Œ æ²¡æœ‰å®‰è£…brewçš„éœ€è¦å…ˆå®‰è£…\u003ca href=\"https://brew.sh/\"\u003ebrew\u003c/a\u003eã€‚\u003c/p\u003e\n\u003ch3 id=\"é—®é¢˜\"\u003eé—®é¢˜\u003c/h3\u003e\n\u003cp\u003eå®‰è£…ä¹‹åï¼Œä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°è¿™ä¹ˆä¸€ä¸ªé”™è¯¯:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eUnable to find Mach task port for process-id 33653: (os/kern) failure (0x5). (please check gdb is codesigned - see taskgated(8))\n\u003c/code\u003e\u003c/pre\u003e","title":"macos gdbè§£å†³Unable to find Mach task port for process-id"},{"content":"åŠŸèƒ½åˆ—è¡¨ æ”¯æŒlinuxã€darwin è·å–è¿œç¨‹goç‰ˆæœ¬åˆ—è¡¨ gvm remote å®‰è£…æŒ‡å®šç‰ˆæœ¬go gvm install [version] åˆ—å‡ºæœ¬åœ°å·²ä¸‹è½½go gvm list åˆ‡æ¢goç‰ˆæœ¬ gvm use [version] æ¸…ç†æœ¬åœ°æŒ‡å®šç‰ˆæœ¬go gvm clear [version] è·å–è¿œç¨‹goç‰ˆæœ¬åˆ—è¡¨å®ç° ç›´æ¥æ‹‰å–goä¸‹è½½é¡µé¢htmlæºç ï¼Œç„¶åé€šè¿‡æ­£åˆ™è·å–ç‰ˆæœ¬å·\nres, err := http.Get(\u0026#34;https://golang.org/dl/\u0026#34;) if err != nil { return nil, err } pageContent, err := ioutil.ReadAll(res.Body) if err != nil { return nil, err } stableReg, err := regexp.Compile(`\u0026lt;div class=\u0026#34;toggleVisible\u0026#34; id=\u0026#34;go(.*?)\u0026#34;\u0026gt;`) if err != nil { return nil, err } stable := stableReg.FindAllStringSubmatch(string(pageContent), -1) unstableReg, err := regexp.Compile(`\u0026lt;div class=\u0026#34;toggle\u0026#34; id=\u0026#34;go(.*?)\u0026#34;\u0026gt;`) if err != nil { return nil, err } unstable := unstableReg.FindAllStringSubmatch(string(pageContent), -1) versionList := make([]string, len(stable)+len(unstable)) vListSource := append(stable, unstable...) for i := len(vListSource) - 1; i \u0026gt;= 0; i-- { versionList[i] = vListSource[i][1] } return versionList, nil å®‰è£…æŒ‡å®šç‰ˆæœ¬go è·å–åˆ°ç‰ˆæœ¬åï¼Œæ ¹æ®ç‰ˆæœ¬æ‹¼æ¥ä¸‹è½½é“¾æ¥ï¼Œä¸‹è½½åˆ°ç”¨æˆ·homeç›®å½•ä¸‹åˆ°.gvmæ–‡ä»¶å¤¹ï¼Œç„¶åè§£å‹åˆ°/usr/local/ç›®å½•\n// è·å–ç”¨æˆ·homeè·¯å¾„ func GetUserHomePath() (string, error) { currUser, err := user.Current() if err != nil { return \u0026#34;\u0026#34;, err } return currUser.HomeDir, nil } // ä¸‹è½½ä»¥åŠè¿›åº¦æ¡çš„å®ç° type Reader struct { io.Reader Total int64 Current int64 } func (r *Reader) Read(p []byte) (n int, err error) { n, err = r.Reader.Read(p) r.Current += int64(n) percent := float64(r.Current*10000/r.Total) / 100 Show(percent) return } // Show æ˜¾ç¤ºè¿›åº¦ func Show(percent float64) { total := 50 middle := int(percent) * total / 100.0 arr := make([]string, total) for j := 0; j \u0026lt; total; j++ { if j \u0026lt; middle-1 { arr[j] = \u0026#34;-\u0026#34; } else if j == middle-1 { arr[j] = \u0026#34;\u0026gt;\u0026#34; } else { arr[j] = \u0026#34; \u0026#34; } } bar := fmt.Sprintf(\u0026#34;[%s]\u0026#34;, strings.Join(arr, \u0026#34;\u0026#34;)) fmt.Printf(\u0026#34;\\r%s %% %.2f\u0026#34;, bar, percent) } func DownloadFileProgress(url, filename string) error { home, err := GetUserHomePath() if err != nil { return err } dir := home + \u0026#34;/.gvm/\u0026#34; _, err = os.Stat(dir) if err != nil \u0026amp;\u0026amp; !os.IsExist(err) { if err := os.MkdirAll(dir, os.ModePerm); err != nil { return err } } r, err := http.Get(url) if err != nil { return err } defer func() { _ = r.Body.Close() }() f, err := os.OpenFile(dir+filename, os.O_CREATE|os.O_RDWR, 0666) if err != nil { return err } defer func() { _ = f.Close() }() reader := \u0026amp;Reader{ Reader: r.Body, Total: r.ContentLength, } _, err = io.Copy(f, reader) if err != nil { return err } return nil } è§£å‹åˆ°/usr/local/éœ€è¦rootæƒé™ï¼Œæ‰€ä»¥å®‰è£…è¿‡ç¨‹ä¸­,ä¼šè¦æ±‚è¾“å…¥ç®¡ç†å‘˜å¯†ç ï¼Œå…³äºgoæ‰§è¡Œshellå¦‚ä½•è·å–rootæƒé™å¦‚ä¸‹ï¼š\ntarCmd := exec.Command(\u0026#34;/bin/sh\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;sudo rm -rf /usr/local/go \u0026amp;\u0026amp; sudo tar -zxf \u0026#34;+home+\u0026#34;/.gvm/\u0026#34;+fileName+\u0026#34; -C \u0026#34;+\u0026#34;/usr/local\u0026#34;) if _, err := tarCmd.Output(); err != nil { return err } åˆ‡æ¢ç‰ˆæœ¬ åˆ‡æ¢ç‰ˆæœ¬å¦‚æœæ²¡æœ‰æ‰¾åˆ°è¦åˆ‡æ¢çš„ç‰ˆæœ¬ä¼šè‡ªåŠ¨æ‰§è¡Œinstallä¸‹è½½ç›¸åº”ç‰ˆæœ¬goï¼Œå¦‚æœæœ¬åœ°ä»¥åŠä¸‹è½½å°±è§£å‹åˆ°/usr/local/ç›®å½•\npath := home + \u0026#34;/.gvm/\u0026#34; + fileName _, err = os.Stat(path) // å½“å‰ç‰ˆæœ¬ä¸å­˜åœ¨ if err != nil \u0026amp;\u0026amp; !os.IsExist(err) { fmt.Println(\u0026#34;download from origin\u0026#34;) if err := Install(version, goos, arch, \u0026#34;\u0026#34;); err != nil { log.Error(\u0026#34;install failed\u0026#34;, err) return } return } tarCmd := exec.Command(\u0026#34;/bin/sh\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;sudo rm -rf /usr/local/go \u0026amp;\u0026amp; sudo tar -zxf \u0026#34; + path + \u0026#34; -C \u0026#34; + \u0026#34;/usr/local\u0026#34;) if _, err := tarCmd.Output(); err != nil { log.Error(\u0026#34;change go version failed\u0026#34;, err) } è·å–æœ¬åœ°å·²ä¸‹è½½åˆ—è¡¨ ä¸»è¦ç”¨åˆ°è·å–ç›®å½•æ–‡ä»¶åˆ—è¡¨ï¼Œä»¥åŠæ­£åˆ™è·å–ç‰ˆæœ¬å·\n// è·å–å·²ä¸‹è½½åˆ—è¡¨ gvmDir := home + \u0026#34;/.gvm/\u0026#34; files, err := ioutil.ReadDir(gvmDir) if err != nil{ return nil, err } if len(files) == 0{ return nil, nil } reg := regexp.MustCompile(\u0026#34;go([0-9.]*)[.].*?.tar.gz\u0026#34;) versionList := []string{} for i := 0; i \u0026lt; len(files); i++{ version := reg.FindStringSubmatch(files[i].Name()) if len(version) \u0026gt; 1{ versionList = append(versionList, version[1]) } } // è·å–å½“å‰goç‰ˆæœ¬ goCMD := exec.Command(\u0026#34;go\u0026#34;, \u0026#34;version\u0026#34;) goVersionCMDRes, err := goCMD.Output() if err != nil{ log.Error(\u0026#34;get now use failed\u0026#34;, err) return } reg := regexp.MustCompile(\u0026#34;go.*?go([0-9.]*)[\\\\s].*?\u0026#34;) verionRes := reg.FindStringSubmatch(string(goVersionCMDRes)) if len(verionRes) \u0026gt; 1{ fmt.Println(\u0026#34;now use: \u0026#34;, verionRes[1]) } æ¸…é™¤å·²ä¸‹è½½ç‰ˆæœ¬ ç›´æ¥ä½¿ç”¨go os.Remove æ–¹æ³•\ngvmDir := home + \u0026#34;/.gvm/\u0026#34; if param == \u0026#34;all\u0026#34;{ if err := os.RemoveAll(gvmDir); err != nil{ log.Error( err) return } } files, err := ioutil.ReadDir(gvmDir) if err != nil{ log.Error( err) } for _, v := range files{ if strings.Contains(v.Name(), param){ if err := os.Remove(gvmDir + v.Name()); err != nil{ log.Error( err) return } } } å°ç»“ goç‰ˆæœ¬å…¼å®¹åšçš„å¾ˆå¥½ï¼Œå¾ˆå¤šæ—¶å€™æ— è„‘å‡æœ€æ–°ç¨³å®šç‰ˆå°±å¥½ï¼Œå¤šç‰ˆæœ¬å…±å­˜çš„éœ€æ±‚å¹¶ä¸å¤šï¼Œæ‰€ä»¥ä¸æ˜¯å¾ˆæœ‰å¿…è¦ç”¨åˆ°ç‰ˆæœ¬ç®¡ç†ã€‚é€ è¿™ä¸ªè½®å­çš„ç›®çš„æ›´å¤šè¿˜æ˜¯ç»ƒä¹ å†™ä»£ç ï¼Œç†Ÿæ‚‰ä¸‹goæ–‡ä»¶ç›¸å…³æ“ä½œä»¥åŠæ‰§è¡Œshellå‘½ä»¤ç­‰ã€‚å®Œæ•´æºç \n","permalink":"https://www.mfun.ink/2020/09/29/gvm/","summary":"\u003ch2 id=\"åŠŸèƒ½åˆ—è¡¨\"\u003eåŠŸèƒ½åˆ—è¡¨\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eæ”¯æŒlinuxã€darwin\u003c/li\u003e\n\u003cli\u003eè·å–è¿œç¨‹goç‰ˆæœ¬åˆ—è¡¨ \u003ccode\u003egvm remote\u003c/code\u003e\n\u003cimg loading=\"lazy\" src=\"/images/gvm/remote.png\"\u003e\u003c/li\u003e\n\u003c/ul\u003e","title":"é€ è½®å­â€”â€”go ç‰ˆæœ¬æ§åˆ¶(gvm)"},{"content":"éåå°„è·å– æ ¹æ®connç±»å‹ï¼Œå°†connæ–­è¨€æˆç›¸åº”connå¯¹è±¡ï¼Œåœ¨ä½¿ç”¨Fileæ–¹æ³•è·å–fileå¯¹è±¡ï¼Œè‡³äºä¸ºä»€ä¹ˆæ˜¯fileï¼Œå‚è€ƒunixã€linuxè®¾è®¡å“²å­¦ï¼šä¸‡ç‰©çš†æ–‡ä»¶ã€‚æ‹¿åˆ°ç›¸åº”fileåç›´æ¥é€šè¿‡FDæ–¹æ³•è·å–fdå¥æŸ„ã€‚\nfunc getFD(conn net.Conn) int { tln := conn.(*net.TCPConn) f, err := tln.File() if err != nil{ return -1 } return int(f.Fd()) } æ ¹æ®åå°„è·å– func getFDReflect(conn net.Conn) int { tcpConn := reflect.Indirect(reflect.ValueOf(conn)).FieldByName(\u0026#34;conn\u0026#34;) fdVal := tcpConn.FieldByName(\u0026#34;fd\u0026#34;) pfdVal := reflect.Indirect(fdVal).FieldByName(\u0026#34;pfd\u0026#34;) return int(pfdVal.FieldByName(\u0026#34;Sysfd\u0026#34;).Int()) } ä¸¤ç§æ–¹å¼æ€§èƒ½æ¯”è¾ƒ éåå°„ func BenchmarkTest(b *testing.B) { b.ResetTimer() for i:=0; i \u0026lt; b.N; i++{ getFD(conn) } } // ç»“æœ goos: darwin goarch: amd64 pkg: github.com/mengboy/1m-go-websockets/4_optimize_gobwas BenchmarkTest BenchmarkTest-8 14268442\t78.5 ns/op PASS åå°„ func BenchmarkReflect(b *testing.B) { b.ResetTimer() for i:=0; i \u0026lt; b.N; i++{ getFDReflect(conn) } } // ç»“æœ goos: darwin goarch: amd64 pkg: github.com/mengboy/1m-go-websockets/4_optimize_gobwas BenchmarkReflect BenchmarkReflect-8 2645677\t457 ns/op PASS å¯ä»¥çœ‹åˆ°åå°„æ¯”èµ·éåå°„è¿˜æ˜¯æ€§èƒ½è¿˜æ˜¯å·®äº†å‡ ä¸ªæ•°é‡çº§, ä¸Šä¸€ç¯‡æ–‡ç« ä¸­çš„fdè·å–æ–¹æ³•å¯ä»¥è€ƒè™‘ä½¿ç”¨åˆ†åå°„æ–¹å¼ã€‚\n","permalink":"https://www.mfun.ink/2020/09/27/gogetfd/","summary":"\u003ch2 id=\"éåå°„è·å–\"\u003eéåå°„è·å–\u003c/h2\u003e\n\u003cp\u003eæ ¹æ®connç±»å‹ï¼Œå°†connæ–­è¨€æˆç›¸åº”connå¯¹è±¡ï¼Œåœ¨ä½¿ç”¨Fileæ–¹æ³•è·å–fileå¯¹è±¡ï¼Œè‡³äºä¸ºä»€ä¹ˆæ˜¯fileï¼Œå‚è€ƒunixã€linuxè®¾è®¡å“²å­¦ï¼šä¸‡ç‰©çš†æ–‡ä»¶ã€‚æ‹¿åˆ°ç›¸åº”fileåç›´æ¥é€šè¿‡FDæ–¹æ³•è·å–fdå¥æŸ„ã€‚\u003c/p\u003e","title":"go è·å– net.conn fd åå°„å’Œéåå°„"},{"content":"åŸç† æ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸ä½¿ç”¨epollï¼Œæ¯å»ºç«‹ä¸€ä¸ªwsè¿æ¥æˆ‘ä»¬éƒ½ä¼šå¯ä¸€ä¸ªgoroutineæ¥å¤„ç†å®¢æˆ·ç«¯å‘æ¥çš„æ¶ˆæ¯ï¼Œå¦‚æœå®¢æˆ·ç«¯æ²¡æœ‰æ¶ˆæ¯ï¼Œè¿™ä¸ªgoroutineå°±ä¼šé˜»å¡åœ¨è¯»æ¶ˆæ¯çš„çŠ¶æ€ã€‚æœ‰å¤šå°‘ä¸ªè¿æ¥å°±ä¼šæœ‰å¤šå°‘ä¸ªgoroutineï¼Œè™½ç„¶goroutineæ¯”è¾ƒè½»é‡ï¼Œä½†åœ¨å¤§é‡è¿æ¥çš„æƒ…å†µä¸‹è¿˜æ˜¯æ¯”è¾ƒè€—è´¹èµ„æºè¿˜æ˜¯å¾ˆå¤§çš„ã€‚ ä½¿ç”¨epollåä¼šæŠŠæ‰€æœ‰wsè¿æ¥çš„fd(æ–‡ä»¶æè¿°ç¬¦)æ”¾å…¥ä¸€ä¸ªepollé˜Ÿåˆ—ä¸­ï¼Œåªå¯ä¸€ä¸ªgoroutineå¯¹epoll waitè¿›è¡Œè½®è¯¢è·å–ç¼“å†²åŒºæœ‰å†…å®¹çš„wsè¿æ¥ã€‚è¿™æ ·å°±æŠŠä¹‹å‰è¦èµ·nä¸ªgoroutineå˜æˆäº†1ä¸ªï¼Œéšç€è¿æ¥æ•°çš„å¢åŠ æ€§èƒ½çš„æå‡ä¹Ÿä¼šè¶Šæ¥è¶Šæ˜æ˜¾ã€‚\nå®è·µ å…·ä½“github demoæºç  ï¼Œå‚è€ƒ1m-go-websockets ï¼ŒåŸä»“åº“åªæœ‰linuxä¸‹çš„å®ç°ï¼Œå› ä¸ºå¹³æ—¶ä¸»è¦ä½¿ç”¨macå¼€å‘æ‰€ä»¥å‚è€ƒLinuxçš„å®ç°å¢åŠ äº†macä¸‹çš„å®ç°ã€‚ demoä¸­ç”¨åˆ°äº†ä¸¤ç§websocketæ¡†æ¶ï¼Œåˆ†åˆ«æ˜¯gorilla/websocket å’Œ gobwas/wsã€‚å®é™…åº”ç”¨ä¸­å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºå¹³æ—¶ä¸»è¦ä½¿ç”¨gorilla/websocketï¼Œå¹¶ä¸”å®ƒçš„startæ•°ä¹Ÿè¿œè¶…gobwas/wsï¼Œæ‰€ä»¥åœ¨å¼•å…¥epollæ—¶é¦–é€‰è¿˜æ˜¯gorilla/websocketï¼Œç„¶åå¼€å‘è°ƒè¯•è¿‡ç¨‹ä¸­å®¢æˆ·ç«¯ä¸€å¼€å§‹å¹¶å‘å‘msgç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°±ä¼šæœ‰æ¶ˆæ¯æ¼æ‰æ²¡å¤„ç†çš„æƒ…å†µã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œå®¢æˆ·ç«¯å¤šä¸ªæ¶ˆæ¯å¹¶å‘é€šçŸ¥åˆ°æœåŠ¡ç«¯ï¼Œå®¢æˆ·ç«¯å‘ç¬¬ä¸‰æ¬¡æ¶ˆæ¯äº†ï¼ŒæœåŠ¡ç«¯æ‰å¯èƒ½å¤„ç†ç¬¬äºŒæ¬¡æ¶ˆæ¯ã€‚å¾ˆæ˜æ˜¾å¹¶ä¸æ˜¯æ¯æ¬¡æ¶ˆæ¯éƒ½è§¦å‘äº†epollçš„å›è°ƒäº‹ä»¶ï¼Œè¿™é‡Œepollä½¿ç”¨çš„æ°´å¹³è§¦å‘ï¼Œæ ¹æ®æ°´å¹³è§¦å‘çš„å®šä¹‰ï¼šå½“è¢«ç›‘æ§çš„æ–‡ä»¶æè¿°ç¬¦ä¸Šæœ‰å¯è¯»å†™äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå°±ä¼šä¸€ç›´è§¦å‘epollå›è°ƒï¼Œè¿™é‡Œæ²¡æœ‰è§¦å‘è¯´æ˜æ–‡ä»¶æè¿°ä¸Šæ²¡æœ‰å¯è¯»äº‹ä»¶ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥çŒœæµ‹epollè¿˜æ²¡æ¥çš„åŠé€šçŸ¥æ—¶ï¼Œfdå¯¹åº”çš„å†…å®¹å·²ç»è¢«è¯»å–å®Œæ¯•äº†ã€‚ ç†æƒ³ä¸­çš„è§¦å‘æµç¨‹ï¼š å®é™…è§¦å‘æµç¨‹: çœ‹åˆ°è¿™é‡Œå¯èƒ½ä¼šæœ‰åŒå­¦æƒ³é—®ï¼Œæ—¢ç„¶msg2æ²¡æœ‰å¤„ç†ï¼Œé‚£æˆ‘ä»¬ä¸»åŠ¨å¤„ç†ï¼Œä¸ç­‰epollè§¦å‘å¯ä¸å¯ä»¥å‘¢ï¼Ÿæˆ‘ä»¬çœ‹ä¸‹gorilla/websocketè¯»å–æ¶ˆæ¯çš„æºç \nfor { connections, err := epoller.Wait() if err != nil { log.Printf(\u0026#34;Failed to epoll wait %v\u0026#34;, err) continue } time.Sleep(5) for _, conn := range connections { if conn == nil { break } _, msg, err := conn.ReadMessage() if err != nil { if err := epoller.Remove(conn); err != nil { log.Printf(\u0026#34;Failed to remove %v\u0026#34;, err) } conn.Close() } else { log.Printf(\u0026#34;msg: %s\u0026#34;, string(msg)) } } } } ä»epoll waitæ‹¿åˆ°å¯è¯»è¿æ¥ï¼Œåˆ°åº•ä¸‹çš„è¯»æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œæˆ‘ä»¬å¦‚æœæƒ³æŠŠconn ç¼“å†²åŒºå¤„ç†å®Œæ€ä¹ˆåŠï¼Œåªèƒ½æ¥ç€å¾ªç¯ conn.ReadMessage() ä½†æ˜¯è¿™ä¸ªå‡½æ•°å¹¶ä¸ä¼šè¿”å›ç¼“å†²åŒºæ˜¯å¦å¤„ç†å®Œæ¯•ï¼Œå½“ç¼“å†²åŒºå’Œfdéƒ½æ²¡æœ‰ä¸œè¥¿è¯»æ—¶å®ƒå°±è¢«é˜»å¡äº†ï¼Œå°±æ˜¯ä¸‹é¢ä»£ç TODOéƒ¨åˆ†æ— æ³•å®ç°ï¼Œå¦‚æœèƒ½å¤Ÿå®ç°ï¼Œepoll å°±å¯ä»¥ä½¿ç”¨è¾¹æ²¿è§¦å‘çš„æ¨¡å¼ï¼Œç†è®ºä¸Šç›¸æ¯”æ°´å¹³è§¦å‘æ›´é«˜æ•ˆã€‚\nfunc Start() { for { connections, err := epoller.Wait() if err != nil { log.Printf(\u0026#34;Failed to epoll wait %v\u0026#34;, err) continue } time.Sleep(5) wg := \u0026amp;sync.WatiGroup{} for _, conn := range connections { if conn == nil { break } wg.Add(1) go func() { defer wg.done for { _, msg, err := conn.ReadMessage() if err != nil { if err := epoller.Remove(conn); err != nil { log.Printf(\u0026#34;Failed to remove %v\u0026#34;, err) } conn.Close() } else { log.Printf(\u0026#34;msg: %s\u0026#34;, string(msg)) } // TODO æ²¡æœ‰å†…å®¹å¯è¯»æ—¶é€€å‡ºï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡epollè§¦å‘ } }() } wg.Wait() } } æºç åˆ†æ ä¸ºä»€ä¹ˆgorilla/websocketåœ¨è¿™ç§åœºæ™¯ä¸‹ä½¿ç”¨ä¼šæœ‰è¿™ç§é—®é¢˜ï¼Œè€Œgobwas/wsæ²¡æœ‰ï¼Ÿä¸‹é¢æˆ‘ä»¬é€šè¿‡åˆ†æä¸¤è€…çš„è¯»å®ç°æ‰¾ä¸‹åŸå› ã€‚\ngorilla/websocket è¯»å®ç° ä» conn.ReadMessage() ç‚¹è¿›å»,å¯ä»¥çœ‹åˆ°è¿™å‡½æ•°è°ƒäº†c.NextReader\nfunc (c *Conn) ReadMessage() (messageType int, p []byte, err error) { var r io.Reader messageType, r, err = c.NextReader() if err != nil { return messageType, nil, err } p, err = ioutil.ReadAll(r) return messageType, p, err } å†ç‚¹è¿›c.NextReaderå¯ä»¥çœ‹åˆ°å®é™…è¿”å›è¦è¯»çš„å¯¹è±¡æ˜¯messageReader\nfunc (c *Conn) NextReader() (messageType int, r io.Reader, err error) { for c.readErr == nil { frameType, err := c.advanceFrame() if err != nil { c.readErr = hideTempErr(err) break } if frameType == TextMessage || frameType == BinaryMessage { c.messageReader = \u0026amp;messageReader{c} c.reader = c.messageReader if c.readDecompress { c.reader = c.newDecompressionReader(c.reader) } // è¿”å›messageReader return frameType, c.reader, nil } } } æ¥ç€çœ‹messageReaderçš„å®ç°, é€šè¿‡çœ‹messageReaderå®ç°çš„Readæ–¹æ³•å‘ç°ï¼Œå®é™…è¯»å–çš„å†…å®¹æ¥è‡ªc.br\nfunc (r *messageReader) Read(b []byte) (int, error) { for c.readErr == nil { if c.readRemaining \u0026gt; 0 { if int64(len(b)) \u0026gt; c.readRemaining { b = b[:c.readRemaining] } // å®é™…ä»c.brè¯»å–çš„å†…å®¹ n, err := c.br.Read(b) c.readErr = hideTempErr(err) if c.isServer { c.readMaskPos = maskBytes(c.readMaskKey, c.readMaskPos, b[:n]) } rem := c.readRemaining rem -= int64(n) c.setReadRemaining(rem) if c.readRemaining \u0026gt; 0 \u0026amp;\u0026amp; c.readErr == io.EOF { c.readErr = errUnexpectedEOF } return n, c.readErr } } c.bræ˜¯goè‡ªèº«æä¾›çš„ç¼“å†²è¯»ioçš„å¯¹è±¡ï¼Œçœ‹åˆ°è¿™é‡Œå·²ç»å¾ˆæ˜æœ—äº†ï¼Œå°±æ˜¯è¿™é‡Œåœ¨è¯»çš„æ—¶å€™ï¼ŒæŠŠfdé‡Œè¦è¯»çš„å†…å®¹è¯»åˆ°äº†æœ¬åœ°ç¼“å†²åŒºï¼Œå¯¼è‡´ä¸Šå›¾msg2çš„æ—¶å€™epollæ²¡æœ‰å†æ¬¡è§¦å‘ã€‚\ntype Conn struct { conn net.Conn // Read fields reader io.ReadCloser // the current reader returned to the application readErr error br *bufio.Reader } ä¸Šé¢è¿˜æœ‰ä¸€ä¸ªç”¨åˆ°æ¯”è¾ƒå¤šçš„å‡½æ•° c.advanceFrame()ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥å¤„ç†æ¯æ¬¡è¦è¯»å¤šå°‘å­—èŠ‚çš„ï¼Œå› ä¸ºwebsocketæ¶ˆæ¯æ˜¯ä¸€å¸§ä¸€å¸§çš„ï¼Œè¯»çš„æ—¶å€™ä¹Ÿä¸èƒ½è¯»å¤šæˆ–è€…è¯»å°‘ã€‚\ngobwas/wsè¯»å®ç° gobwas/ws æ˜¯ç”¨çš„utilsåŒ…é‡Œçš„ReadClientDataæ–¹æ³•è¯»å–clientå‘çš„æ¶ˆæ¯çš„ï¼Œæœ€ç»ˆæ˜¯è°ƒçš„readDataæ–¹æ³•\nfunc ReadClientData(rw io.ReadWriter) ([]byte, ws.OpCode, error) { return ReadData(rw, ws.StateServerSide) } func ReadData(rw io.ReadWriter, s ws.State) ([]byte, ws.OpCode, error) { return readData(rw, s, ws.OpText|ws.OpBinary) } readDataå…·ä½“å®ç°,è¿™é‡Œæ ¹æ®net.Connè¿æ¥åˆ›å»ºäº†ä¸€ä¸ªReader\nfunc readData(rw io.ReadWriter, s ws.State, want ws.OpCode) ([]byte, ws.OpCode, error) { controlHandler := ControlFrameHandler(rw, s) // rw å°±æ˜¯ net.Conn rd := Reader{ Source: rw, State: s, CheckUTF8: true, SkipHeaderCheck: false, OnIntermediate: controlHandler, } for { hdr, err := rd.NextFrame() if err != nil { return nil, 0, err } if hdr.OpCode.IsControl() { if err := controlHandler(hdr, \u0026amp;rd); err != nil { return nil, 0, err } continue } if hdr.OpCode\u0026amp;want == 0 { if err := rd.Discard(); err != nil { return nil, 0, err } continue } bts, err := ioutil.ReadAll(\u0026amp;rd) return bts, hdr.OpCode, err } } Reader ç»“æ„ï¼Œ å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ˜¯gobwas/wsè‡ªå·±å®ç°çš„ä¸€ä¸ªæ— buf Reader\ntype Reader struct { Source io.Reader State ws.State // SkipHeaderCheck disables checking header bits to be RFC6455 compliant. SkipHeaderCheck bool // CheckUTF8 enables UTF-8 checks for text frames payload. If incoming // bytes are not valid UTF-8 sequence, ErrInvalidUTF8 returned. CheckUTF8 bool // TODO(gobwas): add max frame size limit here. OnContinuation FrameHandlerFunc OnIntermediate FrameHandlerFunc opCode ws.OpCode // Used to store message op code on fragmentation. frame io.Reader // Used to as frame reader. raw io.LimitedReader // Used to discard frames without cipher. utf8 UTF8Reader // Used to check UTF8 sequences if CheckUTF8 is true. } å…·ä½“æ€ä¹ˆè¯»ï¼Œè¯»å¤šå°‘å­—èŠ‚æ˜¯åœ¨rd.NextFrame()æ–¹æ³•ä¸­å®ç°çš„ï¼Œè¿™é‡Œå¯ä»¥çœ‹åˆ°gobwas/wsæ¯æ¬¡éƒ½æ˜¯ç›´æ¥è¯»net.Connä¹Ÿå°±æ˜¯fdï¼Œå¹¶ä¸”æ¯æ¬¡å½“å‰å¸§çš„å†…å®¹ï¼Œæ‰€ä»¥åˆšå¥½å¯¹åº”ä¸Šå›¾ç†æƒ³ä¸­çš„è§¦å‘æµç¨‹ã€‚\nfunc (r *Reader) NextFrame() (hdr ws.Header, err error) { // è§£æå½“å‰å¸§æŠ¥æ–‡ hdr, err = ws.ReadHeader(r.Source) if err == io.EOF \u0026amp;\u0026amp; r.fragmented() { err = io.ErrUnexpectedEOF } if err == nil \u0026amp;\u0026amp; !r.SkipHeaderCheck { err = ws.CheckHeader(hdr, r.State) } if err != nil { return hdr, err } // è®¾ç½®è¯»å–é•¿åº¦ï¼Œ è¿™é‡Œr.Source å°±æ˜¯net.Conn r.raw = io.LimitedReader{r.Source, hdr.Length} frame := io.Reader(\u0026amp;r.raw) if hdr.Masked { frame = NewCipherReader(frame, hdr.Mask) } if r.fragmented() { if hdr.OpCode.IsControl() { if cb := r.OnIntermediate; cb != nil { err = cb(hdr, frame) } if err == nil { // Ensure that src is empty. // ç›´æ¥ä»net.Connè¯»å–hdr.Lengthé•¿åº¦çš„å†…å®¹ _, err = io.Copy(ioutil.Discard, \u0026amp;r.raw) } return } } else { r.opCode = hdr.OpCode } if r.CheckUTF8 \u0026amp;\u0026amp; (hdr.OpCode == ws.OpText || (r.fragmented() \u0026amp;\u0026amp; r.opCode == ws.OpText)) { r.utf8.Source = frame frame = \u0026amp;r.utf8 } // Save reader with ciphering and other streaming checks. r.frame = frame if hdr.OpCode == ws.OpContinuation { if cb := r.OnContinuation; cb != nil { err = cb(hdr, frame) } } if hdr.Fin { r.State = r.State.Clear(ws.StateFragmented) } else { r.State = r.State.Set(ws.StateFragmented) } return } ä¸¤ç§æ–¹å¼çš„è¯»æ¯”è¾ƒ gorilla/websocketåŠ äº†bufè¯»çš„æ–¹å¼ç†è®ºä¸Šæ¯”gobwas/wsæ€§èƒ½æ›´é«˜ï¼Œå¦‚æœèƒ½æä¾›ä¸ªbufå’Œfdå·²è¯»å®Œè¯»è¿”å›å°±å¥½äº†ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥ä½¿ç”¨epollè¾¹æ²¿è§¦å‘æ¨¡å¼ã€‚å¦‚æœå®åœ¨æƒ³ç”¨gorilla/websocketï¼Œè¿™é‡Œä¹Ÿæœ‰ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå°±æ˜¯å®¢æˆ·ç«¯åŠ ä¸€ä¸ªpingçš„æ§åˆ¶å¸§æ¶ˆæ¯ï¼Œgorilla/websocketåœ¨æ¥æ”¶åˆ°ping/pongä¹‹ç±»çš„æ§åˆ¶å¸§æ¶ˆæ¯æ—¶ï¼Œä¸ä¼šæŠŠè¿™äº›æ¶ˆæ¯æš´æ¼ç»™ç”¨æˆ·å¤„ç†ï¼Œè€Œæ˜¯åœ¨å†…éƒ¨è‡ªå·±å¤„ç†ï¼Œå¤„ç†å®Œä¹‹åä¼šæ¥ç€å¤„ç†å‰©ä¸‹çš„æ¶ˆæ¯ï¼Œç›´åˆ°å¤„ç†çš„æ¶ˆæ¯ä¸æ˜¯ping/pongä¸ºæ­¢ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨pingæ§åˆ¶å‹å¸§å¼ºåˆ¶è§¦å‘epolläº‹ä»¶ï¼Œä¿è¯ä¸šåŠ¡æ¶ˆæ¯èƒ½å¤ŸåŠæ—¶å¤„ç†ã€‚\nå‚è€ƒä»¥åŠæºç  1m-go-websockets ç™¾ä¸‡ Go TCP è¿æ¥çš„æ€è€ƒ: epollæ–¹å¼å‡å°‘èµ„æºå ç”¨ ","permalink":"https://www.mfun.ink/2020/09/15/websocket-epoll/","summary":"\u003ch2 id=\"åŸç†\"\u003eåŸç†\u003c/h2\u003e\n\u003cp\u003eæ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸ä½¿ç”¨epollï¼Œæ¯å»ºç«‹ä¸€ä¸ªwsè¿æ¥æˆ‘ä»¬éƒ½ä¼šå¯ä¸€ä¸ªgoroutineæ¥å¤„ç†å®¢æˆ·ç«¯å‘æ¥çš„æ¶ˆæ¯ï¼Œå¦‚æœå®¢æˆ·ç«¯æ²¡æœ‰æ¶ˆæ¯ï¼Œè¿™ä¸ªgoroutineå°±ä¼šé˜»å¡åœ¨è¯»æ¶ˆæ¯çš„çŠ¶æ€ã€‚æœ‰å¤šå°‘ä¸ªè¿æ¥å°±ä¼šæœ‰å¤šå°‘ä¸ªgoroutineï¼Œè™½ç„¶goroutineæ¯”è¾ƒè½»é‡ï¼Œä½†åœ¨å¤§é‡è¿æ¥çš„æƒ…å†µä¸‹è¿˜æ˜¯æ¯”è¾ƒè€—è´¹èµ„æºè¿˜æ˜¯å¾ˆå¤§çš„ã€‚\nä½¿ç”¨epollåä¼šæŠŠæ‰€æœ‰wsè¿æ¥çš„fd(æ–‡ä»¶æè¿°ç¬¦)æ”¾å…¥ä¸€ä¸ªepollé˜Ÿåˆ—ä¸­ï¼Œåªå¯ä¸€ä¸ªgoroutineå¯¹epoll waitè¿›è¡Œè½®è¯¢è·å–ç¼“å†²åŒºæœ‰å†…å®¹çš„wsè¿æ¥ã€‚è¿™æ ·å°±æŠŠä¹‹å‰è¦èµ·nä¸ªgoroutineå˜æˆäº†1ä¸ªï¼Œéšç€è¿æ¥æ•°çš„å¢åŠ æ€§èƒ½çš„æå‡ä¹Ÿä¼šè¶Šæ¥è¶Šæ˜æ˜¾ã€‚\u003c/p\u003e","title":"websocketå¼•å…¥epollæœºåˆ¶"},{"content":"ä»€ä¹ˆæ˜¯sse sse æŒ‡ serve send eventsï¼Œæ˜¯ä¸€ç§åŸºäºhttpçš„æœåŠ¡ç«¯æƒ³å®¢æˆ·ç«¯æ¨é€äº‹ä»¶çš„æŠ€æœ¯ï¼Œé€šå¸¸httpè¯·æ±‚éƒ½æ˜¯è¯·æ±‚\u0026ndash;\u0026gt;åº”ç­”çš„æ¨¡å¼ï¼Œä¸€æ¬¡request\u0026ndash;\u0026gt;responseç»“æŸåï¼Œè¿æ¥å°±æ–­å¼€äº†ï¼Œå‰ç«¯éœ€è¦è¯·æ±‚æ–°çš„èµ„æºå°±éœ€è¦é‡æ–°å»ºç«‹è¿æ¥ï¼Œå†æ¬¡å‘èµ·è¯·æ±‚ï¼Œå½“ç„¶http2.0åå¯ä»¥ä½¿ç”¨å¤šè·¯å¤ç”¨ï¼Œä¸å¿…å»ºç«‹æ–°çš„è¿æ¥ã€‚è€ŒsseæŒ‡è¿æ¥å»ºç«‹æˆåŠŸåï¼Œåç«¯å¯ä»¥ä¸æ–­å‘å‰ç«¯æ¨é€æ¶ˆæ¯ã€‚\nsse è¿æ¥çš„header Content-Type: text/event-streamï¼Œåç«¯å“åº”å¯ä»¥åœ¨EventStreamé€‰é¡¹å¡ä¸­çœ‹åˆ° å…¶ä»–å…·ä½“çš„apiä»‹ç»ï¼Œæ¯”å¦‚webç«¯æ˜¯é€šè¿‡ä»€ä¹ˆæ¥å£å¤„ç†åç«¯æ¨é€ï¼Œä»¥åŠåç«¯æ¨é€çš„æ•°æ®æ ¼å¼å¯ä»¥å‚è€ƒMDNæ–‡æ¡£\nhttp2.0 å‰åçš„sse http2ä¸€ä¸ªæœ€å¤§çš„ç‰¹æ€§æ˜¯å¼•å…¥æµçš„å¤šè·¯å¤ç”¨æœºåˆ¶ï¼Œsseåœ¨http2.0å‰åçš„ä¸€ä¸ªå·®å¼‚ä¹Ÿä¸»è¦æ˜¯å› ä¸ºå¤šè·¯ç”¨ã€‚\nhttp1.xçš„sse http1.xæ²¡æœ‰å¤šè·¯å¤ç”¨ï¼Œåœ¨å·²å»ºç«‹sseçš„æƒ…å†µä¸‹ï¼Œå¦‚æœå‰ç«¯æƒ³è¦å‘æ¶ˆæ¯ç»™åç«¯å°±éœ€è¦å»ºç«‹æ–°çš„è¿æ¥ã€‚è¿™å¯¹äºéœ€è¦å‰ç«¯é¢‘ç¹å‘åç«¯è¯·æ±‚èµ„æºçš„åœºæ™¯æ˜¯ä¸€ä¸ªå·¨å¤§çš„æ¶ˆè€—ã€‚ å›¾ä¸­ç¤ºä¾‹c1ã€c2æ˜¯æ¥è‡ªä¸¤ä¸ªsseè¿æ¥çš„æ¨é€ï¼Œchrome è°ƒè¯•é‡Œå¯ä»¥çœ‹åˆ°åè®®æ˜¯http1.1ä»¥åŠconnection id åˆ†åˆ«æ˜¯9003ã€9307ï¼Œè¿™å°±è¡¨ç¤ºhttp1 åç«¯æ¨é€å’Œå‰ç«¯è¯·æ±‚æ²¡æ³•åœ¨åŒä¸€ä¸ªè¿æ¥é‡Œè¿›è¡Œã€‚http1ä¸‹è¿˜æœ‰ä¸€ä¸ªé™åˆ¶æ˜¯åŒä¸€åŸŸåsseè¿æ¥æ•°å’Œæµè§ˆå™¨æœ€å¤§httpå¹¶å‘è¿æ¥æ•°ä¸€æ ·ï¼Œä¸€èˆ¬æ˜¯6ä¸ªï¼Œå¯ä»¥ä½¿ç”¨demoæ‰“å¼€3ä¸ªtabå»ºç«‹6ä¸ªè¿æ¥åå†æ‰“å¼€ä¸€ä¸ªå…·ä½“è§‚å¯Ÿï¼Œè€Œhttp2.0è¿™ä¸ªæ•°é»˜è®¤æ˜¯100ã€‚MDNæ–‡æ¡£é‡Œä¹Ÿæœ‰å¯¹è¿™ä¸ªçš„è¯´æ˜ã€‚\nhttp2çš„sse ç”±äºhttp2çš„å¤šè·¯å¤ç”¨ï¼Œå¯ä»¥æ˜æ˜¾çš„çœ‹åˆ°è¿™é‡Œä¸¤ä¸ªsseçš„è¿æ¥çš„connection IDéƒ½æ˜¯15522ï¼Œè¯´æ˜ä¸¤ä¸ªsseç”¨çš„æ˜¯åŒä¸€ä¸ªhttpè¿æ¥ã€‚ä¹Ÿå°±æ˜¯è¯´å‰ç«¯å‘åç«¯è¯·æ±‚å’Œåç«¯å‘å‰ç«¯æ¨é€å¯ä»¥åœ¨åŒä¸€ä¸ªè¿æ¥é‡Œå®Œæˆï¼Œæœ‰æ¥è§¦è¿‡websocketçš„åŒå­¦ä¼šå‘ç°http2çš„sseåŸºæœ¬ä¸Šå¯ä»¥å–ä»£websocketã€‚websocketåœ¨åŒé“¾è·¯ä¸Šçš„å…¨åŒå·¥é€šä¿¡ï¼Œhttp2çš„sseä¹Ÿå¯ä»¥å®ç°ã€‚\nä½¿ç”¨åœºæ™¯ èŠå¤©å®¤çš„æ¶ˆæ¯æ¨é€ï¼Œç›´æ’­è¿‡ç¨‹ä¸­çš„æ¶ˆæ¯æ¨é€æ´»åŠ¨æ¨é€ï¼ŒæŸäº›åœºæ™¯ä¸‹çš„çŠ¶æ€æ›´æ”¹ç­‰ã€‚ä»»ä½•éœ€è¦é«˜é¢‘httpè½®è¯¢æˆ–è€…websocketçš„åœºæ™¯éƒ½å¯ä»¥ä½¿ç”¨sseæ›¿ä»£ã€‚ä½¿ç”¨sseæ›¿ä»£çš„ä¸€äº›ä¼˜åŠ¿ï¼Œå¦‚æœæ˜¯æ›¿ä»£httpè½®è¯¢å¾ˆæ˜æ˜¾ä¸éœ€è¦å‰ç«¯å†å‘è¯·æ±‚äº†ï¼Œä¼šèŠ‚çœä¸‹å¤„ç†å‰ç«¯è¯·æ±‚çš„èµ„æºï¼›å¦‚æœæ˜¯æ›¿ä»£websocketï¼Œhttp1çš„sseè¿˜ä¸èƒ½å®Œå…¨æ›¿ä»£websocketï¼Œä½†æ˜¯http2çš„å®Œå…¨å¯ä»¥ï¼Œhttp2çš„å¤šè·¯å¤ç”¨å®Œç¾çš„è§£å†³äº†å»ºç«‹æ–°è¿æ¥å¸¦æ¥çš„å·¨å¤§æ€§èƒ½æ¶ˆè€—ï¼ŒåŸºæœ¬ä¸Šä¸¤è€…éƒ½æ˜¯åŒä¸€è¿æ¥ä¸Šçš„å…¨åŒå·¥é€šä¿¡ã€‚\nå‚è€ƒ http1 sse demo http2 sse demo sse MDN ","permalink":"https://www.mfun.ink/2020/09/12/sse/","summary":"\u003ch3 id=\"ä»€ä¹ˆæ˜¯sse\"\u003eä»€ä¹ˆæ˜¯sse\u003c/h3\u003e\n\u003cp\u003esse æŒ‡ serve send eventsï¼Œæ˜¯ä¸€ç§åŸºäºhttpçš„æœåŠ¡ç«¯æƒ³å®¢æˆ·ç«¯æ¨é€äº‹ä»¶çš„æŠ€æœ¯ï¼Œé€šå¸¸httpè¯·æ±‚éƒ½æ˜¯è¯·æ±‚\u0026ndash;\u0026gt;åº”ç­”çš„æ¨¡å¼ï¼Œä¸€æ¬¡request\u0026ndash;\u0026gt;responseç»“æŸåï¼Œè¿æ¥å°±æ–­å¼€äº†ï¼Œå‰ç«¯éœ€è¦è¯·æ±‚æ–°çš„èµ„æºå°±éœ€è¦é‡æ–°å»ºç«‹è¿æ¥ï¼Œå†æ¬¡å‘èµ·è¯·æ±‚ï¼Œå½“ç„¶http2.0åå¯ä»¥ä½¿ç”¨å¤šè·¯å¤ç”¨ï¼Œä¸å¿…å»ºç«‹æ–°çš„è¿æ¥ã€‚è€ŒsseæŒ‡è¿æ¥å»ºç«‹æˆåŠŸåï¼Œåç«¯å¯ä»¥ä¸æ–­å‘å‰ç«¯æ¨é€æ¶ˆæ¯ã€‚\u003c/p\u003e","title":"sse(serve send events) æœåŠ¡ç«¯æ¨é€æŠ€æœ¯"}]